(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{1899:function(t,e,n){var r=[{emitter:n(28),event:"follow",getInstance:function(t,e){var n=e.target;return t.options.userId===n},handler:function(t){var e,n=t.state,r=t.origin;n&&this.shouldAddFromActions?this.add({id:r},{at:0}):!n&&(e=this.get(r))&&this.remove(e)}}];t.exports=n(143).extend(n(157).withOptions({events:r}),{model:n(30),defaults:{limit:7,type:"followers"},shouldAddFromActions:!0,baseUrl:function(){return this.getEndpointUrl("userFollowers",{id:this.options.userId})}})},1903:function(t,e,n){var r=[{emitter:n(28),event:"follow",getInstance:function(t,e){var n=e.origin;return t.options.userId===n},handler:function(t){var e=t.state,n=t.target;e&&this.add({id:n},{at:0})}}],i=t.exports=n(143).extend(n(157).withOptions({events:r}),{model:n(30),defaults:{limit:3,type:"followings"},baseUrl:function(){return this.getEndpointUrl("userFollowings",{id:this.options.userId})}});n(619).applyTo(i,{fields:["username","full_name"]})},1906:function(t,e,n){t.exports=n(143).extend({model:n(43),defaults:{type:"playlists"},baseUrl:function(){return this.getEndpointUrl("userPlaylistsWithoutAlbums",{id:this.options.userId})}})},1910:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI1IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxwYXRoIGQ9Ik0xIC4wMjNsLTEgMSAzLjk1NSAzLjk1NUw3Ljk3OC45NTVsLTEtMS0zLjAyMyAzLjAyM0wxIC4wMjN6IiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz4KPC9zdmc+Cg=="},1911:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnBAMAAADd8MzuAAAAJ1BMVEUAAADt7e3v7+/u7u7u7u7v7+/V1dXu7u7v7+/v7+/u7u7u7u7t7e1+coy7AAAADXRSTlMAK4/V8v8GlP29LPOQA9OSagAAAOlJREFUeAHt3CVCBQEUBdCLdxIR3QEkIgvAXRuVRMatswESGVkC68It/jQPOfeP20mjf+Yl6R2dbzgTA0myfTzfeJZ2k+7L+YIsb6VnviQ76auBLzJSA89krAaezX0NvJqXbhrOiwkGg8FgMBgMBoP/E9zV+gpgMBgMBr9MmPq3MBgMBoPB3wb+Hvzd+1MwGAwGf+uDwWDwN/IlLcCfmQKDweDKIxcYDHbvBAaDwWB/hjQAg8FgMLjgfS4wGAwGg30LAwaDwWAwGFxW16euktFDDTyT6xp4v6w+V1lFsroabMnVeNPu7UDyBMXh8J9inpNdAAAAAElFTkSuQmCC"},1912:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFOCAMAAABpHD45AAAARVBMVEUAAADV1dXt7e3u7u7v7+/v7+/u7u7v7+/t7e3q6uru7u7u7u7b29vt7e3u7u7t7e3u7u7u7u7u7u7u7u7u7u7u7u7u7u7XoTEbAAAAF3RSTlMABkaVv9ny/0cYlvEHgfSCx8gt4y6X8/DMJysAAAMSSURBVHgB7d0FjiNJFEXRFwaF0824//0N96Q626RoKC7hjNBf52zh6hX+kFvutRu5ZowftoeRO/c9p9bOoYbNGMvTwC9bO4Q6ervMjwJPfUkt7L8t94HftznV8LL9nmSVZNK3onlMN4Ff9pJ9mXcvk5a8OqYmdv9klamlKMaUZN/L4lNWraUsvrbsemHssu6Fsc6mF8Ym214Y23zuhfG59Tx1CNfsec9VKE1ggREYgREYgREYgQVGYARGYARGYAQWGIERGIERGIERGIEFRmAERmAERmAEFhiBERiBERiBEVhgBEZgBEZgBEZgBBYYgREYgRGY/2tT41MKfO6EBQuMwAiMwAiMwAiMwAIjMAIjMAIjMAILjMAIjMAIjMAILDAC42WD9xEWjMAIjMAILDACIzACIzACI7DACIzACIzACIzAAiMwAiMwAiMwAnMFgREYgdl4O2jBCIzA+B7se6cFIzACC4zACIzACIzACCwwAiMwAiMwAiMwAguMmyyX1RaMwAiMwAgsMAIjMAIjMAIjsMAIjMAIjMBUvOjoJW48bhwsGIERGIERWGAERmAERmAERmCBERiBERiBKXHRcbjCS4+DBSMwAiMwAguMwAiMwAiMwAiMwAIjMAX+H8zBghEYgREYgRFYYARGYARGYARGYIERGIERGIERmIKBERiBBcZdtKtmC8aCLc+CERiBBUZgBEZgBEZgBEZggREYgREYgREYgQVGYARGYARGYAT2soGDBSMwAiMwAvNfAiMwAiMwAiMwAiOwwAiMwAiMwAiMwAIjMAIjMAIjMAKz8arIghEYgREYgREYgQVGYARGYARGYAQWGIERGIERGIERGIEFRmAERmAERmAEFhiBERiBERiBqRsYgfncC+Nztr0wttn0wthk3QtjnV0vjF3ai14WL9pq7FMWY6wy9xRFH1llaSmKsWSVXPYpiWnkZ+D528sUxMvD/CtwllawMC/HkqTlp2n3NbUwHZbcB87L9TikDvoYc35q98FbO6cGNmMsudFyr/VTa+/+CdfszV9jbA8jd74DN4TtIRHCQ7AAAAAASUVORK5CYII="},1928:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnBAMAAADd8MzuAAAAJ1BMVEUAAAD////z8/Pz8/Px8fHv7+/v7+/w8PDv7+/v7+/v7+/w8PDv7++6cvnQAAAADHRSTlMABissj5CUvdXy8/2UePAFAAAA6ElEQVR42u3coW2CURQF4IOp+gWKCepqcXXojoBo9+gCbRiAERBVYCsQTWjoHYoFEKQJ/4XkOwt87uS+J06Sx48aOetFksy+a/T8vSWT92rIYZqHaslrnnrgXV564J+seuDffPXAx1RVZeRUVYHBYDAYDAaDwWAwGAwGg8GXZ6iq/X/g4fK/sj0YDL5NuK1AwGBwO3y2YsBg8F3BKhMMdtCDwZ6pYJ+oYDAYDAaDweArHPRgMLgfVplgMBgMBoPBYDAYDAaDweC7gtt2fdqWjJZd203PPfC2b5+rbZGsbYMtmX+O7W4WyQmkQ82SS+JpNQAAAABJRU5ErkJggg=="},1929:function(t,e,n){t.exports=n.p+"assets/images/likes-3bcb162f.png"},1930:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACxCAMAAADNj8BpAAAANlBMVEX////////+/v75+fn09PT7+/vv7+/29vbx8fH9/f3z8/P4+Pj8/Pz6+vrw8PD19fXy8vL39/eXzOw5AAAAAXRSTlMAQObYZgAAAc1JREFUeAHs2UmOwyAQheG8Yh7t3P+yvWlZtlF3WGSRPOq/wScVohAP/7YeX5GCFwMrWMEKVrCC/SelYAUrWMEK/m6wNVWkmm0RsE34LW0rLB4Fpww/+IlLhR28C65lcrDDrcoN7oJ7kRq8YWijBgcMPanBBUOGGvzEUFntDAdqcMTQ/nm79BvBPuGWeG5wwS1DDs64ZbnBw0yLZwcXXDL04IhLOz3YN5xynh+cccqu8LfkhscwOXjDUVgC3HEUKcFDMlzC5OC0GlgOcF8B3A2OWmcHx+AEp8SFyAvuoWIMNURKcG6CPxKX+cAG/9bYwAYvalzgjJdZKnDFyxIT2GIiSwR2mKjygHdMlWnABVMZGrBgKmEBW0xmScAGkzUScMJkQgJugrncT3t3UAMADMQwjD/r0ogql0Heu8mOSwULDkywYMGCfcUTLFiwYMGCzczMzMzMzMzMzMzMzMw8lwoWLFiwYMGCnQ8LFixYsGDOA+eB88B54DxwHjgPnAfOA+eB88B54DxwHjgPnAfOA+eB88B54Dw8B3MeOA+cB84D54HzwHngPHAeOA+cB84D54HzwHngPHAeOA+cB8elggULFixYMOdBsGDBggUHNyKYasrzIS75AAAAAElFTkSuQmCC"},1931:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACnCAMAAAAYACHvAAAATlBMVEUAAADq6uru7u7v7+/s7Ozs7Ozu7u7u7u7u7u7v7+/u7u7w8PDx8fHy8vLz8/P09PT19fX29vb5+fn6+vr7+/v8/Pz9/f3+/v7////v7+9UBIUXAAAAC3RSTlMAJT0+Q0SawNju8xxX58QAAAJ0SURBVHgB7dzXcqswGEVhudHSIEEQvf+Dnr5zJj1h/os9aK0rd/tzxRKQ/nRpuqHsuqFrzkkd2lJF7eGv99SXSuqPv72HGrwSH1JKbamoNqVzqapzauoCN6mrC9wl/f4+7r2/zCGVusAFMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAHvM8CAAQMGDHianh0rm7oeszf4mfCZeCwbG1d3sLzPxetm8c3qDZb3lfhuq3i0B8sbJZ7NwfK+Et9uBI/mYHnDxFfeYHkDxaszWN4YsT/4uTfom2vxAn/slVgtOed5nh/U/VMPap7nnJfFFPyxV+INrf5geWPEiz9Y3hixP1jeGLE/WN4YsT9Y3hixP1jeOHG2BssbI/YHyxsj9gfLGyh+Bs5GYHnjxb5geYPFtmB5o8WzK3j916Ke/c/5ny7nBg5oCXmogH3BuTw1AwYMGDBgwIABAwYMGDBgwIAB+w/EAw4Cx499+oHjR7cNwPkxXiyvPzhMLK8/OEY87WUgfor3eoMljvIagAPE8pqCl/h1gfzBkWJ5/cExYnn9wTFief3BMWJ5ncFr/FrX3uBlyXn+1Wfrv+flY7G8ruAN3a0fi+V1BK9lS7cfiuX1B8eI5TUDq6tosbyu4LHEiuW1Bc9FhXxzyWsIVmOkWF5n8HoTsgX8JK8xWOIxZHvwSV5jsMrj9TbxM+E0sR8PwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIABAwYMGDBgwIB3EOChLvCQulJVXWrqAjfpXBf4nFJbk7dNKR36erz9If3q1FfjPaU/Hdo6vO0hqUvTDfvGDl1z+UP9CdD0wN3vOowrAAAAAElFTkSuQmCC"},1932:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAACyAgMAAAABq6pmAAAACVBMVEX////v7+////+9ZSd4AAAAAXRSTlMAQObYZgAAAJFJREFUeF7t2bEJgDAQBVDdzBFsYuEI7uMIFmZKOxGEKFiEi+/47auUXMLv0m3G7u3Ex3Cfnqc6nrdPGH6XK85tY3hZ523a6+Pyvz20hpf1J3jK+cR5f9xVQXHpU4XG9U8S2K6C02fsylxO0KdRk69YWERERBQCsB4jDNZjwHoMPYYeQ4+hx4DtKliPocfQY8AHTV0CS6v3S5oAAAAASUVORK5CYII="},1933:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMIAAADDCAMAAADnYz6mAAAAQlBMVEUAAAD09PTz8/P19fX19fXr6+vt7e319fX19fXx8fH09PT19fX19fX09PT09PS/v7/09PTMzMz19fX09PTz8/P19fXpFaatAAAAFXRSTlMAd1Uzxg0Ox8U4WvT4jKYEpwXEjhaS10p/AAABSklEQVR4XuzPuQ2AMAAEsKNNIh6h7L8qS9CcZG/gXOOoNp6cu9ydtcut7HoKP1BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCYu9zMu8t91c+7DQIxAMBQEx+fFDQI9l+VjvoUCSn2AtZ7whwnuiwfXuO/TU7mquBxZZPMC3BZECccGwkwL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCzAswL8C8APMCXBAUCMeNUOYFmBdgXoB5AeYFmBdgXoB5AeYFmBdgXoB5AeYF+BPECfewAPMCzAswL8C8APMC3hsLvt9F8VIcwPHcAAAAAElFTkSuQmCC"},1934:function(t,e,n){t.exports=n.p+"assets/images/history-ccb53270.png"},1935:function(t,e,n){t.exports=n.p+"assets/images/stations-96e82b90.svg"},1936:function(t,e,n){t.exports=n.p+"assets/images/likes@2x-0ea46c8c.png"},1937:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFOCAMAAABpHD45AAAARVBMVEUAAAD////////09PT09PT09PTw8PDx8fHv7+/v7+/w8PDw8PDw8PDw8PDw8PDw8PDw8PDv7+/v7+/v7+/v7+/v7+/v7+9u/7I5AAAAFnRSTlMABgcYLS5GR4GClZaXv8fI2ePx8vP0thwu4AAAAyNJREFUeF7s1FsOwyAQQ1HDtCWBTgIkdP9LrSpFfa6glq3zxe/VgNfCJXvdbtpf26rnFPA7K10BWPRi+FychgIwGXPE22xRADar4blTUwA+7Yxjpr6U2nHDUf8zqTXisUkBWM0AYEMBWA0DUBSA1xUIXQF49YCkAMwSsgIwy3AFYOaoCsCsYlcAZju+X+7s3FENwFAIALGpeP6lTgACDpKeBPpJ4LucpidgwAIswAIswAIMGDBgARZgARZgARZgwIABC7AAC7AACzBgwIAFWIAFWIAFWIABC7AAC3AfYAEWYAEWYAEWYMACLMAC3AVYgAVYgAVYgAUYMGDAAizAAizAAgwYMGABFmABFmABFmDAAizAAizAAizAgAEDFmABNu5TwAL8DgUYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAEDBgwYMGDAgAVYgJsAC7AAC3ATYAEWYAFuAizAAizAZYAFWAvvKwADFmABXhtgARbgtQEWYAFuAgwYsAALcBNgwIBl4S/AAtwEWIAFWICbAAuwAAtwGmABFuB3KMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGLMAXAyzAAizAAizAgAEDFmABFmABFmABBizAAizAfYAFWIAFWIAFWIABC7AAC7AAC7AAjwALsAALsAALsACPAAuwAAuwAAuwAAP2EBwwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQuwAAuwAAvwDLAAC7AAC7AAC/AMsAALsAALsAALMGABFmAB7gMswAIswAIswAIMWIAF+EiABViABViABViAAQuwAAtwH2ABFmABFmABFmDAAizAAizAAizAM8ACLMACLMACLMCAAQMWYAEWYAEWYMCAAQuwAAuwAAuw/nbqBYVhEAqi6OhrMdG8VEW7/6X2QwktWUGHOTu4DMxpz3EnJgOVOU8qnDlPHJk5TzISc54khM5bJz0AG2+eFAA2WetkGp5W1jxZ8BJvnHWyR7xZY6yTZvi4Ei4s7YKD0b207IYvcZ1McTKXiF9WOkuc9GI4Cyl7Hf9dJqN6TgGHBwkV6ceOnbSuAAAAAElFTkSuQmCC"},1938:function(t,e,n){t.exports=n.p+"assets/images/following@2x-65b4cc6f.png"},1939:function(t,e,n){t.exports=n.p+"assets/images/reposts@2x-34af13e5.png"},1940:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFkAgMAAACFmwDIAAAACVBMVEX////v7+////+9ZSd4AAAAAXRSTlMAQObYZgAAAPlJREFUeF7t3T0Kg0AUhVGb7C+NjfuzuasMgammCrzHMEnOV4nNKf1Bucf5SUd/YDC4EBgMBj/OlhbBYHDyMzAYDAb3txucrIfBYDAYDAZfud/eOPgfGFy/vX2uhsFg8HTwNTAYDL6SzPA4OeCuwGBwodpFohoYDPZgDgaDweDN3tCDwWAwGAwegTf4ShEMBoP9GQIGNwcGg8FgMFiSJEmSJEmSJEmSbA2AwWAwuCewPQkw2NYAGAwG25NoDwwGg8FgsHUFsK0BMNieBBgMticBBoNtDYDBYFsDYDAYbE8CDAaDwWCwPQlbA2Aw2J4EGGxPAgwGg8Fg8AuOzq2C1GollwAAAABJRU5ErkJggg=="},1941:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYQAAAGGCAMAAABMqwbqAAAAb1BMVEUAAADy8vL19fX09PT09PT19fXy8vLy8vLz8/P19fX19fX09PT09PT09PT09PT19fX19fX19fX09PT19fX19fXMzMz09PT19fW/v7+/v7/z8/P09PT19fX19fX09PT09PTy8vL19fXx8fHx8fHz8/PuwIOcAAAAJXRSTlMAE5XV7pYUABXk/+YXnqDi4/3UfnwFtbIEAFKRqszxkFBmOABY5HC7oAAAAvNJREFUeAHsw9sJACAMA8CkDxBB999Wu0V+cnAwPYIDpvKCzNVdKWM1cbaY3Qj89ugYtcowigLg/f4cEB4KRmwUK+P+tyUWbuFhccFeeeQQmNnClHHNrQ4JEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQlIkMDfBCQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCBBAhIkIEECEiQgQQISJCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJEpAgAQkSkCABCRKQIAEJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAlIkIAECUiQgAQJSJCABAnPN8qe5+lG2afr41B2Xdf7oepDzpc558yDnN/z6j7f5y17Oj/nvJsH+vrr9Q9y5q3Lt3mgu4P/kWlzMHEgwcEmOJDgYOJAgoNNcCDBwcSBBAeb4ECCg4kDCQ42wYEEBxMHEhxsggMJDiYOJDjYBAcSHEwcSHCwCQ4kOJg4kOBgExxIcDBxIMHBJjiQ4GDiQIKDTXAgwcHEgQQHm+BAgoOJAwkONsGBBAcTBxIcbIIDCQ4mDiQ42AQHEhxMHEhwsAkOJDiYOOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446IuDvjjoi4O+OOiLg7446Ms46Ht5pB/fX/4dm1DFH8k5QrzsjBo3AAAAAElFTkSuQmCC"},1942:function(t,e,n){t.exports=n.p+"assets/images/history@2x-6eaa4edd.png"},1953:function(t,e,n){var r=n(1965).locale(n(1).getD3LocaleData());n(1965).time.format=r.timeFormat,n(1965).format=r.numberFormat,t.exports=n(1965)},1955:function(t,e,n){var r=t.exports=n(120).extend({initialize:function(t){n(0).defaults(this,t,{maxDate:n(1953).time.day.utc.floor(new Date)})},toJSON:function(){return{from:this.from,to:this.to}},offset:function(t){var e=(Math.round((+this.to-this.from)/n(26).MS_IN_DAY)+1)*t;return new r({from:n(1953).time.day.utc.offset(this.from,e),to:n(1953).time.day.utc.offset(this.to,e)})},prev:function(){return this.offset(-1)},next:function(){return this.offset(1)},hasPrev:function(){return this.prev().from>this.minDate},hasNext:function(){return this.next().to<=this.maxDate},getResolution:function(){var t,e=(t=this.to,(t=new Date(t)).setUTCHours(23),t);return n(0).find(["hour","day","month","year"],(function(t){var r=n(1953).time[t].utc.offset(this.from,35);return e<=r}),this)},equals:function(t){return+this.from==+t.from&&+this.to==+t.to},format:function(t){return t=t||this.getResolution(),n(1966).$formatStatRange(this.from,this.to,t)}});function i(t,e,i,o){return function(){var a=n(1953).time[e].utc,l=a(new Date),s=n(1953).time.day.utc(new Date),u=a.offset(l,-(t-1)),c=a.offset(s,0);return new r({from:u,to:c,key:i,title:o})}}function o(t,e){r[e]=t,r.all.push(t)}r.find=function(t){var e=n(0).find(r.all,(function(e){return e().equals(t)}));return e&&e()},r.findByKey=function(t){var e=n(0).find(r.all,(function(e){return e().key===t}));return e&&e()},r.all=[],r.addAllTimeRange=function(t,e){void 0===e&&(e=n(1).t("All time"));var i=n(1953).time.day.utc(new Date(new Date(t)-n(26).MS_IN_DAY)),a=n(1953).time.day.utc.floor(new Date),l=i+"_"+a,s=function(){return new r({from:i,to:a,title:e,key:l})};return o(s,l),{makeRange:s,key:l}},r.removeTimeRange=function(t,e){delete r[e],r.all=n(0).without(r.all,t)},o(i(1,"day","today",n(1).t("Today"))),o(i(7,"day","last7Days",n(1).t("Last 7 days"))),o(i(30,"day","last30Days",n(1).t("Last 30 days"))),o(i(12,"month","last12Months",n(1).t("Last 12 months")))},1965:function(t,e,n){(function(e){var r={};"d3"in e&&(r.d3=e.d3),t.exports=n(2019),"d3"in r?e.d3=r.d3:delete e.d3}).call(this,n(132))},1966:function(t,e,n){var r=n(1953).time.format.utc("%b");t.exports={$formatStatRange:function(t,e,n){var l,s,u="",c="";return"day"!==n&&"hour"!==n||(s=e,(l=t).getUTCDate()===s.getUTCDate()&&o(l,s)||(u+=t.getUTCDate()),c+=e.getUTCDate()),"year"!==n&&(o(t,e)||(u=i(u," ",r(t))),c=i(c," ",r(e))),a(t,e)||(u=i(u,", ",t.getUTCFullYear())),u&&(u+=" - "),u+(c=i(c,", ",e.getUTCFullYear()))},getMetricTitle:function(t,e,r,i){return function(t,e,r,i){var o=n(1).getNativeLocaleData().dates.monthsShort[i.getMonth()],l=n(1).getNativeLocaleData().dates.monthsDayShort&&n(1).getNativeLocaleData().dates.monthsDayShort[i.getMonth()]||o;return{plays:{year:n(1).tp("Play in [[year]]","Plays in [[year]]",e,{year:i.getFullYear()}),month:n(1).tp("Play in [[month]]","Plays in [[month]]",e,{month:o}),monthYear:n(1).tp("Play in [[month]] [[year]]","Plays in [[month]] [[year]]",e,{month:o,year:i.getFullYear()}),monthDay:n(1).tp("Play on [[month]] [[day]]","Plays on [[month]] [[day]]",e,{month:l,day:i.getDate()}),monthDayTime:n(1).tp("Play on [[month]] [[day]] at [[time]]","Plays on [[month]] [[day]] at [[time]]",e,{month:l,day:i.getDate(),time:n(1).dateTimeHelper.formatTime(i)}),date:n(1).tp("Play on [[month]] [[day]] [[year]]","Plays on [[month]] [[day]] [[year]]",e,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(1).tp("Play on [[month]] [[day]] [[year]] at [[time]]","Plays on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(1).dateTimeHelper.formatTime(i)})},likes:{year:n(1).tp("Like in [[year]]","Likes in [[year]]",e,{year:i.getFullYear()}),month:n(1).tp("Like in [[month]]","Likes in [[month]]",e,{month:o}),monthYear:n(1).tp("Like in [[month]] [[year]]","Likes in [[month]] [[year]]",e,{month:o,year:i.getFullYear()}),monthDay:n(1).tp("Like on [[month]] [[day]]","Likes on [[month]] [[day]]",e,{month:l,day:i.getDate()}),monthDayTime:n(1).tp("Like on [[month]] [[day]] at [[time]]","Likes on [[month]] [[day]] at [[time]]",e,{month:l,day:i.getDate(),time:n(1).dateTimeHelper.formatTime(i)}),date:n(1).tp("Like on [[month]] [[day]] [[year]]","Likes on [[month]] [[day]] [[year]]",e,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(1).tp("Like on [[month]] [[day]] [[year]] at [[time]]","Likes on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(1).dateTimeHelper.formatTime(i)})},comments:{year:n(1).tp("Comment in [[year]]","Comments in [[year]]",e,{year:i.getFullYear()}),month:n(1).tp("Comment in [[month]]","Comments in [[month]]",e,{month:o}),monthYear:n(1).tp("Comment in [[month]] [[year]]","Comments in [[month]] [[year]]",e,{month:o,year:i.getFullYear()}),monthDay:n(1).tp("Comment on [[month]] [[day]]","Comments on [[month]] [[day]]",e,{month:l,day:i.getDate()}),monthDayTime:n(1).tp("Comment on [[month]] [[day]] at [[time]]","Comments on [[month]] [[day]] at [[time]]",e,{month:l,day:i.getDate(),time:n(1).dateTimeHelper.formatTime(i)}),date:n(1).tp("Comment on [[month]] [[day]] [[year]]","Comments on [[month]] [[day]] [[year]]",e,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(1).tp("Comment on [[month]] [[day]] [[year]] at [[time]]","Comments on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(1).dateTimeHelper.formatTime(i)})},reposts:{year:n(1).tp("Repost in [[year]]","Reposts in [[year]]",e,{year:i.getFullYear()}),month:n(1).tp("Repost in [[month]]","Reposts in [[month]]",e,{month:o}),monthYear:n(1).tp("Repost in [[month]] [[year]]","Reposts in [[month]] [[year]]",e,{month:o,year:i.getFullYear()}),monthDay:n(1).tp("Repost on [[month]] [[day]]","Reposts on [[month]] [[day]]",e,{month:l,day:i.getDate()}),monthDayTime:n(1).tp("Repost on [[month]] [[day]] at [[time]]","Reposts on [[month]] [[day]] at [[time]]",e,{month:l,day:i.getDate(),time:n(1).dateTimeHelper.formatTime(i)}),date:n(1).tp("Repost on [[month]] [[day]] [[year]]","Reposts on [[month]] [[day]] [[year]]",e,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(1).tp("Repost on [[month]] [[day]] [[year]] at [[time]]","Reposts on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(1).dateTimeHelper.formatTime(i)})},downloads:{year:n(1).tp("Download in [[year]]","Downloads in [[year]]",e,{year:i.getFullYear()}),month:n(1).tp("Download in [[month]]","Downloads in [[month]]",e,{month:o}),monthYear:n(1).tp("Download in [[month]] [[year]]","Downloads in [[month]] [[year]]",e,{month:o,year:i.getFullYear()}),monthDay:n(1).tp("Download on [[month]] [[day]]","Downloads on [[month]] [[day]]",e,{month:l,day:i.getDate()}),monthDayTime:n(1).tp("Download on [[month]] [[day]] at [[time]]","Downloads on [[month]] [[day]] at [[time]]",e,{month:l,day:i.getDate(),time:n(1).dateTimeHelper.formatTime(i)}),date:n(1).tp("Download on [[month]] [[day]] [[year]]","Downloads on [[month]] [[day]] [[year]]",e,{month:l,day:i.getDate(),year:i.getFullYear()}),dateTime:n(1).tp("Download on [[month]] [[day]] [[year]] at [[time]]","Downloads on [[month]] [[day]] [[year]] at [[time]]",e,{month:l,day:i.getDate(),year:i.getFullYear(),time:n(1).dateTimeHelper.formatTime(i)})}}[t][function(t,e){if("year"===t)return"year";if("month"===t&&a(e,new Date))return"month";if("month"===t)return"monthYear";if(a(e,new Date))return"hour"===t?"monthDayTime":"monthDay";if("hour"===t)return"dateTime";return"date"}(r,i)]}(t,e,r,i)}};function i(t,e,n){return t&&(t+=e),t+=n}function o(t,e){return t.getUTCMonth()===e.getUTCMonth()&&a(t,e)}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()}},1967:function(t,e,n){var r=n(19).extend({submodelMap:{subject:null},createSubmodel:function(t,e){var r=this.get(e),i=r&&(r.urn||r.self&&r.self.urn);if(i){var o=n(48).getAsAttributes(i),a=o.id,l=function(t){switch(t){case"user":return n(30);case"sound":return n(18);case"playlist":return n(43)}}(o.resource_type);l&&this.addSubmodel(new l(n(0).assign({id:a},n(0).omit(r,"self")),{parse:!0}))}}},{hashFn:function(){return null}});t.exports=n(33).extend({model:r,defaults:{metric:null,by:null,from:null,to:null,user:null,track:null},baseUrl:function(){var t=this.options,e=t.user,n=t.track,r=t.metric,i=t.by,o=t.to,a=t.from,l={user_urn:e,track_urn:n,metric:r,by:i},s={from:Number(a),to:Number(o)};return this.getEndpointUrl(n?"topListsTrackStats":"topListsUserStats",l,s)},parse:function(t){return this.next_href=null,this.totalCount=t.total_count,t.counts},getTotalCount:function(){return this.totalCount},setLimit:function(t){var e=t!==this.options.limit;n(33).prototype.setLimit.call(this,t),e&&t>this.length&&this.lastFetchTime&&(this.lastFetchTime=null)}},{hashFn:function(t,e){var n=e.metric,r=e.by,i=e.from,o=e.to,a=e.user,l=e.track;return[n,r,Number(i),Number(o),a,l].filter(Boolean).join("_")}})},1976:function(t,e,n){t.exports=new(n(15))({applyTo:function(t,e){var i=void 0===e?{}:e,o=i.clickObject,a=void 0===o?r:o,l=i.clickName,s=void 0===l?"click::ext_url":l;function u(t){n(12).trackV1Click({click_category:"navigation",click_object:a.call(this),click_name:s,click_target:t.target.href})}this.merge(t,{events:{'click a[href^="http://"]':u,'click a[href^="https://"]':u}})}});function r(){return this.model.getUrn()}},1986:function(t,e,n){t.exports=n(5).extend({template:n(2036),css:[n(2037),n(642)],className:"profileUploadFooter paging-eof sc-border-light-top",events:{"click .profileUploadFooter__cta":function(t){n(12).trackUploadFunnel({chapter:"upload-button-end-of-list",event:t})}}})},1990:function(t,e,n){t.exports=n(44).extend({defaults:{width:650,warnBeforeClosing:!0,stayOpenOnNavigate:!0,Subview:n(638),confirmCloseMessage:n(1).t("Your message has not been sent.\n\nAre you sure you want to leave this page?")},events:{'click a[href^="/"]':"onLinksClick"},setup:function(){n(44).prototype.setup.apply(this,arguments),this.listenTo(n(8),"new-message:sent",this.close)},canBeClosed:function(){var t=this.getContentView();return n(12).trackV0Click(["messages","overlay-clicked"]),!(!t||!t.form||t.form.get("body").trim())||n(44).prototype.canBeClosed.call(this)},onLinksClick:function(t){t.preventDefault(),t.stopPropagation()}})},1997:function(t,e,n){var r=["system"];t.exports=n(5).extend(n(31).withOptions("muteButton"),n(59),{className:"blockButton",defaults:{responsive:!1,showUserName:!1,showIcon:!1},buttonLabels:{default:function(){return this.options.showUserName?n(1).t("Block [[username]]",{username:this.user.get("username")}):n(1).t("Block")},selected:{text:function(){return this.options.showUserName?n(1).t("Blocked [[username]]",{username:this.user.get("username")}):n(1).t("Blocked")},title:function(){return this.options.showUserName?n(1).t("Unblock [[username]]",{username:this.user.get("username")}):n(1).t("Unblock")}}},ModelClass:n(416),modal:null,setup:function(t){var e=t.resource_id,i=t.showUserName,o=t.showIcon;this.$el.toggleClass("sc-button-block",o),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:i?["username"]:[]}),this.observedAttributes=[e],r.indexOf(e)>-1&&this.$el.hide()},isButtonSelected:function(){return!!this.model.get(this.options.resource_id)},onClick:function(t){t.preventDefault(),this.isButtonSelected()?n(28).block(this.options.resource_id,!1,!1,!1,{context:this.getContextData()}):i.call(this)}});function i(){this.modal||(this.modal=new(n(44))({togglerEl:this.el,width:520,Subview:n(641),subviewArgs:{resource_id:this.options.resource_id}})),this.modal.open()}},1998:function(t,e,n){var r=n(10),i=n(2080);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},2006:function(t,e,n){t.exports=n(84).extend({className:"sc-button-delete",ModelClass:n(181),defaults:{icon_only:!0,ContentViewClass:n(2007),overlayType:"dialog",overlayOptions:{relativeElementAnchor:"center bottom",anchor:"right top",offset:"18 7",width:"220px"}},buttonLabels:{default:n(1).t("Delete this comment")}})},2007:function(t,e,n){t.exports=n(5).extend(n(166),{template:n(2008),css:n(2009),className:"deleteCommentForm",ModelClass:n(181),requiredAttributes:["user"],onSubmit:function(t){var e=t.is_spam,r=t.is_user_spam,i=e&&e.checked,o=r&&r.checked,a=this.model.get("user");i?this.model.reportAsSpam():n(28).destroy(this.model),o&&n(28).block(a.id,!0,!0,!0).then((function(){return n(8).trigger("user:blocked",{report:!0,userData:a})}))},getTemplateData:function(t){t.isMine=n(3).get("me").owns(this.model),t.isSpamLabel=n(1).t("Also report comment as spam.")}})},2008:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return"  "+s((n(4)||e&&e.$view||l).call(a,n(111),{name:"$view",hash:{className:"deleteCommentForm__spam sc-text-light",label:(n(2)||e&&e.$t||l).call(a,"Also report comment as spam.",{name:"$t",hash:{},data:o}),name:"is_spam"},data:o}))+"\n  "+s((n(4)||e&&e.$view||l).call(a,n(111),{name:"$view",hash:{className:"deleteCommentForm__spam sc-text-light",label:(n(2)||e&&e.$t||l).call(a,"Also block and report user as spam.",{name:"$t",hash:{},data:o}),name:"is_user_spam"},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return u((n(2)||e&&e.$t||s).call(l,"Do you really want to remove this comment?",{name:"$t",hash:{},data:o}))+"<br>\n\n"+(null!=(a=r.unless.call(l,null!=e?e.isMine:e,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'\n<div class="deleteCommentForm__actions">\n  <button type="reset"  class="sc-button sc-button-small">'+u((n(2)||e&&e.$t||s).call(l,"Cancel",{name:"$t",hash:{},data:o}))+'</button>\n  <button type="submit" class="sc-button sc-button-small">'+u((n(2)||e&&e.$t||s).call(l,"Yes",{name:"$t",hash:{},data:o}))+"</button>\n</div>\n"},useData:!0})},2009:function(t,e,n){var r=n(10),i=n(2010);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},2010:function(t,e,n){(e=n(11)(!1)).push([t.i,".deleteCommentContent__form{margin:7px 0 11px}.deleteCommentForm__actions{margin-top:5px;text-align:right}.deleteCommentForm__spam{margin-top:5px}",""]),t.exports=e},2019:function(t,e,n){var r,i;!function(){var o={version:"3.5.6"},a=[].slice,l=function(t){return a.call(t)},s=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(s)try{l(s.documentElement.childNodes)[0].nodeType}catch(t){l=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),s)try{s.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var f=this.Element.prototype,h=f.setAttribute,p=f.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;f.setAttribute=function(t,e){h.call(this,t,e+"")},f.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function m(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function _(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}o.ascending=m,o.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},o.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},o.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},o.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},o.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=+t[o])&&(r+=n);else for(;++o<i;)y(n=+e.call(t,t[o],o))&&(r+=n);return r},o.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1===arguments.length)for(;++o<i;)y(n=v(t[o]))?r+=n:--a;else for(;++o<i;)y(n=v(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},o.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},o.median=function(t,e){var n,r=[],i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=v(t[a]))&&r.push(n);else for(;++a<i;)y(n=v(e.call(t,t[a],a)))&&r.push(n);if(r.length)return o.quantile(r.sort(m),.5)},o.variance=function(t,e){var n,r,i=t.length,o=0,a=0,l=-1,s=0;if(1===arguments.length)for(;++l<i;)y(n=v(t[l]))&&(a+=(r=n-o)*(n-(o+=r/++s)));else for(;++l<i;)y(n=v(e.call(t,t[l],l)))&&(a+=(r=n-o)*(n-(o+=r/++s)));if(s>1)return a/(s-1)},o.deviation=function(){var t=o.variance.apply(this,arguments);return t?Math.sqrt(t):t};var x=_(m);function w(t){return t.length}o.bisectLeft=x.left,o.bisect=o.bisectRight=x.right,o.bisector=function(t){return _(1===t.length?function(e,n){return m(t(e),n)}:t)},o.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},o.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},o.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},o.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=o.min(arguments,w),n=new Array(e);++t<e;)for(var r,i=-1,a=n[t]=new Array(r);++i<r;)a[i]=arguments[i][t];return n},o.transpose=function(t){return o.zip.apply(o,t)},o.keys=function(t){var e=[];for(var n in t)e.push(n);return e},o.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},o.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},o.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var b=Math.abs;function A(t){for(var e=1;t*e%1;)e*=10;return e}function M(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function k(){this._=Object.create(null)}o.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],o=A(b(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},o.map=function(t,e){var n=new k;if(t instanceof k)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};function C(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function S(t){return"\0"===(t+="")[0]?t.slice(1):t}function E(t){return C(t)in this._}function D(t){return(t=C(t))in this._&&delete this._[t]}function N(){var t=[];for(var e in this._)t.push(S(e));return t}function B(){var t=0;for(var e in this._)++t;return t}function I(){for(var t in this._)return!1;return!0}function L(){this._=Object.create(null)}function T(t){return t}function U(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function P(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=z.length;n<r;++n){var i=z[n]+e;if(i in t)return i}}M(k,{has:E,get:function(t){return this._[C(t)]},set:function(t,e){return this._[C(t)]=e},remove:D,keys:N,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:S(e),value:this._[e]});return t},size:B,empty:I,forEach:function(t){for(var e in this._)t.call(this,S(e),this._[e])}}),o.nest=function(){var t,e,n={},r=[],i=[];function a(i,o,l){if(l>=r.length)return e?e.call(n,o):t?o.sort(t):o;for(var s,u,c,f,h=-1,p=o.length,d=r[l++],g=new k;++h<p;)(f=g.get(s=d(u=o[h])))?f.push(u):g.set(s,[u]);return i?(u=i(),c=function(t,e){u.set(t,a(i,e,l))}):(u={},c=function(t,e){u[t]=a(i,e,l)}),g.forEach(c),u}return n.map=function(t,e){return a(e,t,0)},n.entries=function(t){return function t(e,n){if(n>=r.length)return e;var o=[],a=i[n++];return e.forEach((function(e,r){o.push({key:e,values:t(r,n)})})),a?o.sort((function(t,e){return a(t.key,e.key)})):o}(a(o.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},o.set=function(t){var e=new L;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},M(L,{has:E,add:function(t){return this._[C(t+="")]=!0,t},remove:D,values:N,size:B,empty:I,forEach:function(t){for(var e in this._)t.call(this,S(e))}}),o.behavior={},o.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=U(t,e,e[n]);return t};var z=["webkit","ms","moz","Moz","o","O"];function F(){}function R(){}function j(t){var e=[],n=new k;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function $(){o.event.preventDefault()}function Y(){for(var t,e=o.event;t=e.sourceEvent;)e=t;return e}function O(t){for(var e=new R,n=0,r=arguments.length;++n<r;)e[arguments[n]]=j(e);return e.of=function(n,r){return function(i){try{var a=i.sourceEvent=o.event;i.target=t,o.event=i,e[i.type].apply(n,r)}finally{o.event=a}}},e}o.dispatch=function(){for(var t=new R,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=j(t);return t},R.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},o.event=null,o.requote=function(t){return t.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Q={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function V(t){return Q(t,X),t}var q=function(t,e){return e.querySelector(t)},G=function(t,e){return e.querySelectorAll(t)},W=function(t,e){var n=t.matches||t[P(t,"matchesSelector")];return(W=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(q=function(t,e){return Sizzle(t,e)[0]||null},G=Sizzle,W=Sizzle.matchesSelector),o.selection=function(){return o.select(s.documentElement)};var X=o.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return q(t,this)}}function Z(t){return"function"==typeof t?t:function(){return G(t,this)}}X.select=function(t){var e,n,r,i,o=[];t=J(t);for(var a=-1,l=this.length;++a<l;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,u=r.length;++s<u;)(i=r[s])?(e.push(n=t.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return V(o)},X.selectAll=function(t){var e,n,r=[];t=Z(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=l(t.call(n,n.__data__,s,i))),e.parentNode=n);return V(r)};var K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tt(t,e){return t=o.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function et(t){return t.trim().replace(/\s+/g," ")}function nt(t){return new RegExp("(?:^|\\s+)"+o.requote(t)+"(?:\\s+|$)","g")}function rt(t){return(t+"").trim().split(/^|\s+/)}function it(t,e){var n=(t=rt(t).map(ot)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function ot(t){var e=nt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",et(i+" "+t))):n.setAttribute("class",et(i.replace(e," ")))}}function at(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function lt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function st(t){return"function"==typeof t?t:(t=o.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}}function ut(){var t=this.parentNode;t&&t.removeChild(this)}function ct(t){return{__data__:t}}function ft(t){return function(){return W(this,t)}}function ht(t){return arguments.length||(t=m),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function pt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,l=o.length;a<l;a++)(i=o[a])&&e(i,a,n);return t}function dt(t){return Q(t,gt),t}o.ns={prefix:K,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),K.hasOwnProperty(n)?{space:K[n],local:t}:t}},X.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=o.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},X.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=rt(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!nt(t[i]).test(e))return!1;return!0}for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},X.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(at(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(at(t,e,n))},X.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(lt(e,t[e]));return this}return this.each(lt(t,e))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=st(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},X.insert=function(t,e){return t=st(t),e=J(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},X.remove=function(){return this.each(ut)},X.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,f=Math.min(a,c),h=new Array(c),p=new Array(c),d=new Array(a);if(e){var g,m=new k,v=new Array(a);for(r=-1;++r<a;)m.has(g=e.call(i=t[r],i.__data__,r))?d[r]=i:m.set(g,i),v[r]=g;for(r=-1;++r<c;)(i=m.get(g=e.call(n,o=n[r],r)))?!0!==i&&(h[r]=i,i.__data__=o):p[r]=ct(o),m.set(g,!0);for(r=-1;++r<a;)!0!==m.get(v[r])&&(d[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,h[r]=i):p[r]=ct(o);for(;r<c;++r)p[r]=ct(n[r]);for(;r<a;++r)d[r]=t[r]}p.update=h,p.parentNode=h.parentNode=d.parentNode=t.parentNode,l.push(p),s.push(h),u.push(d)}var l=dt([]),s=V([]),u=V([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return s.enter=function(){return l},s.exit=function(){return u},s},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ft(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var l=0,s=n.length;l<s;l++)(r=n[l])&&t.call(r,r.__data__,l,o)&&e.push(r)}return V(i)},X.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(t){t=ht.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},X.each=function(t){return pt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},X.call=function(t){var e=l(arguments);return t.apply(e[0]=this,e),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},X.size=function(){var t=0;return pt(this,(function(){++t})),t};var gt=[];function mt(t){var e,n;return function(r,i,o){var a,l=t[o].update,s=l.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=l[e])&&++e<s;);return a}}function vt(t,e,n){var r="__on"+t,i=t.indexOf("."),a=_t;i>0&&(t=t.slice(0,i));var s=yt.get(t);function u(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return s&&(t=s,a=xt),i?e?function(){var i=a(e,l(arguments));u.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:u:e?F:function(){var e,n=new RegExp("^__on([^.]+)"+o.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}o.selection.enter=dt,o.selection.enter.prototype=gt,gt.append=X.append,gt.empty=X.empty,gt.node=X.node,gt.call=X.call,gt.size=X.size,gt.select=function(t){for(var e,n,r,i,o,a=[],l=-1,s=this.length;++l<s;){r=(i=this[l]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,l)),n.__data__=o.__data__):e.push(null)}return V(a)},gt.insert=function(t,e){return arguments.length<2&&(e=mt(this)),X.insert.call(this,t,e)},o.select=function(t){var e;return"string"==typeof t?(e=[q(t,s)]).parentNode=s.documentElement:(e=[t]).parentNode=u(t),V([e])},o.selectAll=function(t){var e;return"string"==typeof t?(e=l(G(t,s))).parentNode=s.documentElement:(e=t).parentNode=null,V([e])},X.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(vt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(vt(t,e,n))};var yt=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _t(t,e){return function(n){var r=o.event;o.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{o.event=r}}}function xt(t,e){var n=_t(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}s&&yt.forEach((function(t){"on"+t in s&&yt.remove(t)}));var wt,bt=0;function At(t){var e=".dragsuppress-"+ ++bt,n="click"+e,r=o.select(c(t)).on("touchmove"+e,$).on("dragstart"+e,$).on("selectstart"+e,$);if(null==wt&&(wt=!("onselectstart"in t)&&P(t.style,"userSelect")),wt){var i=u(t).style,a=i[wt];i[wt]="none"}return function(t){if(r.on(e,null),wt&&(i[wt]=a),t){var o=function(){r.on(n,null)};r.on(n,(function(){$(),o()}),!0),setTimeout(o,0)}}}o.mouse=function(t){return kt(t,Y())};var Mt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function kt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(Mt<0){var i=c(t);if(i.scrollX||i.scrollY){var a=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Mt=!(a.f||a.e),n.remove()}}return Mt?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}function Ct(){return o.event.changedTouches[0].identifier}o.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=Y().changedTouches),e)for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return kt(t,r)},o.behavior.drag=function(){var t=O(i,"drag","dragstart","dragend"),e=null,n=a(F,o.mouse,c,"mousemove","mouseup"),r=a(Ct,o.touch,T,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function a(n,r,i,a,l){return function(){var s,u=this,c=o.event.target,f=u.parentNode,h=t.of(u,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),m=o.select(i(c)).on(a+g,_).on(l+g,x),v=At(c),y=r(f,d);function _(){var t,e,n=r(f,d);n&&(t=n[0]-y[0],e=n[1]-y[1],p|=t|e,y=n,h({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:e}))}function x(){r(f,d)&&(m.on(a+g,null).on(l+g,null),v(p&&o.event.target===c),h({type:"dragend"}))}s=e?[(s=e.apply(u,arguments)).x-y[0],s.y-y[1]]:[0,0],h({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},o.rebind(i,t,"on")},o.touches=function(t,e){return arguments.length<2&&(e=Y().touches),e?l(e).map((function(e){var n=kt(t,e);return n.identifier=e.identifier,n})):[]};var St=1e-6,Et=Math.PI,Dt=2*Et,Nt=Dt-St,Bt=Et/2,It=Et/180,Lt=180/Et;function Tt(t){return t>0?1:t<0?-1:0}function Ut(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Pt(t){return t>1?0:t<-1?Et:Math.acos(t)}function zt(t){return t>1?Bt:t<-1?-Bt:Math.asin(t)}function Ft(t){return((t=Math.exp(t))+1/t)/2}function Rt(t){return(t=Math.sin(t/2))*t}var jt=Math.SQRT2;o.interpolateZoom=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],l=e[2],s=o-n,u=a-r,c=s*s+u*u,f=Math.sqrt(c),h=(l*l-i*i+4*c)/(2*i*2*f),p=(l*l-i*i-4*c)/(2*l*2*f),d=Math.log(Math.sqrt(h*h+1)-h),g=Math.log(Math.sqrt(p*p+1)-p)-d,m=(g||Math.log(l/i))/jt;function v(t){var e,o=t*m;if(g){var a=Ft(d),l=i/(2*f)*(a*(e=jt*o+d,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(d));return[n+l*s,r+l*u,i*a/Ft(jt*o+d)]}return[n+t*s,r+t*u,i*Math.exp(jt*o)]}return v.duration=1e3*m,v},o.behavior.zoom=function(){var t,e,n,r,i,a,l,u,f,h={x:0,y:0,k:1},p=[960,500],d=Ot,g=250,m=0,v="mousedown.zoom",y="mousemove.zoom",_="mouseup.zoom",x="touchstart.zoom",w=O(b,"zoomstart","zoom","zoomend");function b(t){t.on(v,B).on(Yt+".zoom",L).on("dblclick.zoom",T).on(x,I)}function A(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function M(t){h.k=Math.max(d[0],Math.min(d[1],t))}function k(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function C(t,n,r,i){t.__chart__={x:h.x,y:h.y,k:h.k},M(Math.pow(2,i)),k(e=n,r),t=o.select(t),g>0&&(t=t.transition().duration(g)),t.call(b.event)}function S(){l&&l.domain(a.range().map((function(t){return(t-h.x)/h.k})).map(a.invert)),f&&f.domain(u.range().map((function(t){return(t-h.y)/h.k})).map(u.invert))}function E(t){m++||t({type:"zoomstart"})}function D(t){S(),t({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function N(t){--m||(t({type:"zoomend"}),e=null)}function B(){var t=this,e=o.event.target,n=w.of(t,arguments),r=0,i=o.select(c(t)).on(y,s).on(_,u),a=A(o.mouse(t)),l=At(t);function s(){r=1,k(o.mouse(t),a),D(n)}function u(){i.on(y,null).on(_,null),l(r&&o.event.target===e),N(n)}ml.call(t),E(n)}function I(){var t,e=this,n=w.of(e,arguments),r={},a=0,l=".zoom-"+o.event.changedTouches[0].identifier,s="touchmove"+l,u="touchend"+l,c=[],f=o.select(e),p=At(e);function d(){var n=o.touches(e);return t=h.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=A(t))})),n}function g(){var t=o.event.target;o.select(t).on(s,m).on(u,y),c.push(t);for(var n=o.event.changedTouches,l=0,f=n.length;l<f;++l)r[n[l].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-i<500){var v=p[0];C(e,v,r[v.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),$()}i=g}else if(p.length>1){v=p[0];var _=p[1],x=v[0]-_[0],w=v[1]-_[1];a=x*x+w*w}}function m(){var l,s,u,c,f=o.touches(e);ml.call(e);for(var h=0,p=f.length;h<p;++h,c=null)if(u=f[h],c=r[u.identifier]){if(s)break;l=u,s=c}if(c){var d=(d=u[0]-l[0])*d+(d=u[1]-l[1])*d,g=a&&Math.sqrt(d/a);l=[(l[0]+u[0])/2,(l[1]+u[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],M(g*t)}i=null,k(l,s),D(n)}function y(){if(o.event.touches.length){for(var t=o.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var a in r)return void d()}o.selectAll(c).on(l,null),f.on(v,B).on(x,I),p(),N(n)}g(),E(n),f.on(v,null).on(x,g)}function L(){var i=w.of(this,arguments);r?clearTimeout(r):(ml.call(this),t=A(e=n||o.mouse(this)),E(i)),r=setTimeout((function(){r=null,N(i)}),50),$(),M(Math.pow(2,.002*$t())*h.k),k(e,t),D(i)}function T(){var t=o.mouse(this),e=Math.log(h.k)/Math.LN2;C(this,t,A(t),o.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Yt||(Yt="onwheel"in s?($t=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in s?($t=function(){return o.event.wheelDelta},"mousewheel"):($t=function(){return-o.event.detail},"MozMousePixelScroll")),b.event=function(t){t.each((function(){var t=w.of(this,arguments),n=h;_l?o.select(this).transition().each("start.zoom",(function(){h=this.__chart__||{x:0,y:0,k:1},E(t)})).tween("zoom:zoom",(function(){var r=p[0],i=p[1],a=e?e[0]:r/2,l=e?e[1]:i/2,s=o.interpolateZoom([(a-h.x)/h.k,(l-h.y)/h.k,r/h.k],[(a-n.x)/n.k,(l-n.y)/n.k,r/n.k]);return function(e){var n=s(e),i=r/n[2];this.__chart__=h={x:a-n[0]*i,y:l-n[1]*i,k:i},D(t)}})).each("interrupt.zoom",(function(){N(t)})).each("end.zoom",(function(){N(t)})):(this.__chart__=h,E(t),D(t),N(t))}))},b.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},S(),b):[h.x,h.y]},b.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:+t},S(),b):h.k},b.scaleExtent=function(t){return arguments.length?(d=null==t?Ot:[+t[0],+t[1]],b):d},b.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],b):n},b.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],b):p},b.duration=function(t){return arguments.length?(g=+t,b):g},b.x=function(t){return arguments.length?(l=t,a=t.copy(),h={x:0,y:0,k:1},b):l},b.y=function(t){return arguments.length?(f=t,u=t.copy(),h={x:0,y:0,k:1},b):f},o.rebind(b,w,"on")};var $t,Yt,Ot=[0,1/0];function Ht(){}function Qt(t,e,n){return this instanceof Qt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Qt?new Qt(t.h,t.s,t.l):ce(""+t,fe,Qt):new Qt(t,e,n)}o.color=Ht,Ht.prototype.toString=function(){return this.rgb()+""},o.hsl=Qt;var Vt=Qt.prototype=new Ht;function qt(t,e,n){var r,i;function o(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new oe(o(t+120),o(t),o(t-120))}function Gt(t,e,n){return this instanceof Gt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Gt?new Gt(t.h,t.c,t.l):ee(t instanceof Jt?t.l:(t=he((t=o.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Gt(t,e,n)}Vt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Qt(this.h,this.s,this.l/t)},Vt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Qt(this.h,this.s,t*this.l)},Vt.rgb=function(){return qt(this.h,this.s,this.l)},o.hcl=Gt;var Wt=Gt.prototype=new Ht;function Xt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Jt(n,Math.cos(t*=It)*e,Math.sin(t)*e)}function Jt(t,e,n){return this instanceof Jt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Jt?new Jt(t.l,t.a,t.b):t instanceof Gt?Xt(t.h,t.c,t.l):he((t=oe(t)).r,t.g,t.b):new Jt(t,e,n)}Wt.brighter=function(t){return new Gt(this.h,this.c,Math.min(100,this.l+Zt*(arguments.length?t:1)))},Wt.darker=function(t){return new Gt(this.h,this.c,Math.max(0,this.l-Zt*(arguments.length?t:1)))},Wt.rgb=function(){return Xt(this.h,this.c,this.l).rgb()},o.lab=Jt;var Zt=18,Kt=Jt.prototype=new Ht;function te(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new oe(ie(3.2404542*(i=.95047*ne(i))-1.5371385*(r=1*ne(r))-.4985314*(o=1.08883*ne(o))),ie(-.969266*i+1.8760108*r+.041556*o),ie(.0556434*i-.2040259*r+1.0572252*o))}function ee(t,e,n){return t>0?new Gt(Math.atan2(n,e)*Lt,Math.sqrt(e*e+n*n),t):new Gt(NaN,NaN,t)}function ne(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function re(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ie(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function oe(t,e,n){return this instanceof oe?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof oe?new oe(t.r,t.g,t.b):ce(""+t,oe,qt):new oe(t,e,n)}function ae(t){return new oe(t>>16,t>>8&255,255&t)}function le(t){return ae(t)+""}Kt.brighter=function(t){return new Jt(Math.min(100,this.l+Zt*(arguments.length?t:1)),this.a,this.b)},Kt.darker=function(t){return new Jt(Math.max(0,this.l-Zt*(arguments.length?t:1)),this.a,this.b)},Kt.rgb=function(){return te(this.l,this.a,this.b)},o.rgb=oe;var se=oe.prototype=new Ht;function ue(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ce(t,e,n){t=t.toLowerCase();var r,i,o,a=0,l=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(de(i[0]),de(i[1]),de(i[2]))}return(o=ge.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a|=a>>4,l=240&o,l|=l>>4,s=15&o,s|=s<<4):7===t.length&&(a=(16711680&o)>>16,l=(65280&o)>>8,s=255&o)),e(a,l,s))}function fe(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),l=a-o,s=(a+o)/2;return l?(i=s<.5?l/(a+o):l/(2-a-o),r=t==a?(e-n)/l+(e<n?6:0):e==a?(n-t)/l+2:(t-e)/l+4,r*=60):(r=NaN,i=s>0&&s<1?0:r),new Qt(r,i,s)}function he(t,e,n){var r=re((.4124564*(t=pe(t))+.3575761*(e=pe(e))+.1804375*(n=pe(n)))/.95047),i=re((.2126729*t+.7151522*e+.072175*n)/1);return Jt(116*i-16,500*(r-i),200*(i-re((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function pe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function de(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}se.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new oe(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new oe(i,i,i)},se.darker=function(t){return new oe((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},se.hsl=function(){return fe(this.r,this.g,this.b)},se.toString=function(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)};var ge=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function me(t){return"function"==typeof t?t:function(){return t}}function ve(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),ye(e,n,t,r)}}function ye(t,e,n,r){var i={},a=o.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,c=null;function f(){var t,e=u.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||e>=200&&e<300||304===e){try{t=n.call(i,u)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=f:u.onreadystatechange=function(){u.readyState>3&&f()},u.onprogress=function(t){var e=o.event;o.event=t;try{a.progress.call(i,u)}finally{o.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(l(arguments)))}})),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var l in s)u.setRequestHeader(l,s[l]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=c&&(u.responseType=c),null!=o&&i.on("error",o).on("load",(function(t){o(null,t)})),a.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},o.rebind(i,a,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}ge.forEach((function(t,e){ge.set(t,ae(e))})),o.functor=me,o.xhr=ve(T),o.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=ye(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function l(e){return e.map(s).join(t)}function s(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,o={},a={},l=[],s=t.length,u=0,c=0;function f(){if(u>=s)return a;if(i)return i=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return u=n+2,13===(l=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++u):10===l&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<s;){var l,c=1;if(10===(l=t.charCodeAt(u++)))i=!0;else if(13===l)i=!0,10===t.charCodeAt(u)&&(++u,++c);else if(l!==r)continue;return t.slice(e,u-c)}return t.slice(e)}for(;(n=f())!==a;){for(var h=[];n!==o&&n!==a;)h.push(n),n=f();e&&null==(h=e(h,c++))||l.push(h)}return l},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new L,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(s).join(t)].concat(e.map((function(e){return r.map((function(t){return s(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(l).join("\n")},i},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var _e,xe,we,be,Ae,Me=this[P(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ke(){var t=Ce(),e=Se()-t;e>24?(isFinite(e)&&(clearTimeout(be),be=setTimeout(ke,e)),we=0):(we=1,Me(ke))}function Ce(){var t=Date.now();for(Ae=_e;Ae;)t>=Ae.t&&(Ae.f=Ae.c(t-Ae.t)),Ae=Ae.n;return t}function Se(){for(var t,e=_e,n=1/0;e;)e.f?e=t?t.n=e.n:_e=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return xe=t,n}function Ee(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}o.timer=function(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};xe?xe.n=o:_e=o,xe=o,we||(be=clearTimeout(be),we=1,Me(ke))},o.timer.flush=function(){Ce(),Se()},o.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var De=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*b(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Ne(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,a=r&&n?function(t,e){for(var i=t.length,o=[],a=0,l=r[0],s=0;i>0&&l>0&&(s+l+1>e&&(l=Math.max(1,e-s)),o.push(t.substring(i-=l,i+l)),!((s+=l+1)>e));)l=r[a=(a+1)%r.length];return o.reverse().join(n)}:T;return function(t){var n=Be.exec(t),r=n[1]||" ",l=n[2]||">",s=n[3]||"-",u=n[4]||"",c=n[5],f=+n[6],h=n[7],p=n[8],d=n[9],g=1,m="",v="",y=!1,_=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===l)&&(c=r="0",l="="),d){case"n":h=!0,d="g";break;case"%":g=100,v="%",d="f";break;case"p":g=100,v="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(m="0"+d.toLowerCase());case"c":_=!1;case"d":y=!0,p=0;break;case"s":g=-1,d="r"}"$"===u&&(m=i[0],v=i[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=Ie.get(d)||Le;var x=c&&h;return function(t){var n=v;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(g<0){var u=o.formatPrefix(t,p);t=u.scale(t),n=u.symbol+v}else t*=g;var w,b,A=(t=d(t,p)).lastIndexOf(".");if(A<0){var M=_?t.lastIndexOf("e"):-1;M<0?(w=t,b=""):(w=t.substring(0,M),b=t.substring(M))}else w=t.substring(0,A),b=e+t.substring(A+1);!c&&h&&(w=a(w,1/0));var k=m.length+w.length+b.length+(x?0:i.length),C=k<f?new Array(k=f-k+1).join(r):"";return x&&(w=a(C+w,C.length?f-b.length:1/0)),i+=m,t=w+b,("<"===l?i+t+C:">"===l?C+i+t:"^"===l?C.substring(0,k>>=1)+i+t+C.substring(k):i+(x?t:C+t))+n}}}o.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=o.round(t,Ee(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),De[8+n/3]};var Be=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Ie=o.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=o.round(t,Ee(t,e))).toFixed(Math.max(0,Math.min(20,Ee(t*(1+1e-15),e))))}});function Le(t){return t+""}var Te=o.time={},Ue=Date;function Pe(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Pe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ze.setUTCDate.apply(this._,arguments)},setDay:function(){ze.setUTCDay.apply(this._,arguments)},setFullYear:function(){ze.setUTCFullYear.apply(this._,arguments)},setHours:function(){ze.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ze.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ze.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ze.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ze.setUTCSeconds.apply(this._,arguments)},setTime:function(){ze.setTime.apply(this._,arguments)}};var ze=Date.prototype;function Fe(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Ue(n-1)),1),n}function o(t,n){return e(t=new Ue(+t),n),t}function a(t,r,o){var a=i(t),l=[];if(o>1)for(;a<r;)n(a)%o||l.push(new Date(+a)),e(a,1);else for(;a<r;)l.push(new Date(+a)),e(a,1);return l}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=Re(t);return l.floor=l,l.round=Re(r),l.ceil=Re(i),l.offset=Re(o),l.range=function(t,e,n){try{Ue=Pe;var r=new Pe;return r._=t,a(r,e,n)}finally{Ue=Date}},t}function Re(t){return function(e,n){try{Ue=Pe;var r=new Pe;return r._=e,t(r,n)._}finally{Ue=Date}}}function je(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,l=t.shortDays,s=t.months,u=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],l=-1,s=0;++l<e;)37===t.charCodeAt(l)&&(a.push(t.slice(s,l)),null!=(i=$e[r=t.charAt(++l)])&&(r=t.charAt(++l)),(o=w[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),s=l+1);return a.push(t.slice(s,l)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Ue!==Pe,i=new(r?Pe:Ue);return"j"in n?i.setFullYear(n.y,0,n.j):"w"in n&&("W"in n||"U"in n)?(i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function f(t,e,n,r){for(var i,o,a,l=0,s=e.length,u=n.length;l<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(l++))){if(a=e.charAt(l++),!(o=b[a in $e?e.charAt(l++):a])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Ue=Pe);return n._=t,e(n)}finally{Ue=Date}}return n.parse=function(t){try{Ue=Pe;var n=e.parse(t);return n&&n._}finally{Ue=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=un;var h=o.map(),p=Qe(a),d=Ve(a),g=Qe(l),m=Ve(l),v=Qe(s),y=Ve(s),_=Qe(u),x=Ve(u);i.forEach((function(t,e){h.set(t.toLowerCase(),e)}));var w={a:function(t){return l[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(e),d:function(t,e){return He(t.getDate(),e,2)},e:function(t,e){return He(t.getDate(),e,2)},H:function(t,e){return He(t.getHours(),e,2)},I:function(t,e){return He(t.getHours()%12||12,e,2)},j:function(t,e){return He(1+Te.dayOfYear(t),e,3)},L:function(t,e){return He(t.getMilliseconds(),e,3)},m:function(t,e){return He(t.getMonth()+1,e,2)},M:function(t,e){return He(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return He(t.getSeconds(),e,2)},U:function(t,e){return He(Te.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return He(Te.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return He(t.getFullYear()%100,e,2)},Y:function(t,e){return He(t.getFullYear()%1e4,e,4)},Z:ln,"%":function(){return"%"}},b={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=m.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.m=x.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){v.lastIndex=0;var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,w.c.toString(),e,n)},d:tn,e:tn,H:nn,I:nn,j:en,L:an,m:Ke,M:rn,p:function(t,e,n){var r=h.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:on,U:Ge,w:qe,W:We,x:function(t,e,n){return f(t,w.x.toString(),e,n)},X:function(t,e,n){return f(t,w.X.toString(),e,n)},y:Je,Y:Xe,Z:Ze,"%":sn};return c}Te.year=Fe((function(t){return(t=Te.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),Te.years=Te.year.range,Te.years.utc=Te.year.utc.range,Te.day=Fe((function(t){var e=new Ue(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),Te.days=Te.day.range,Te.days.utc=Te.day.utc.range,Te.dayOfYear=function(t){var e=Te.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=Te[t]=Fe((function(t){return(t=Te.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=Te.year(t).getDay();return Math.floor((Te.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));Te[t+"s"]=n.range,Te[t+"s"].utc=n.utc.range,Te[t+"OfYear"]=function(t){var n=Te.year(t).getDay();return Math.floor((Te.dayOfYear(t)+(n+e)%7)/7)}})),Te.week=Te.sunday,Te.weeks=Te.sunday.range,Te.weeks.utc=Te.sunday.utc.range,Te.weekOfYear=Te.sundayOfYear;var $e={"-":"",_:" ",0:"0"},Ye=/^\s*\d+/,Oe=/^%/;function He(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Qe(t){return new RegExp("^(?:"+t.map(o.requote).join("|")+")","i")}function Ve(t){for(var e=new k,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function qe(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ge(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function We(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xe(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Je(t,e,n){Ye.lastIndex=0;var r,i=Ye.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function Ze(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ke(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function tn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function en(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function nn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rn(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function on(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function an(t,e,n){Ye.lastIndex=0;var r=Ye.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ln(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=b(e)/60|0,i=b(e)%60;return n+He(r,"0",2)+He(i,"0",2)}function sn(t,e,n){Oe.lastIndex=0;var r=Oe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function un(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}o.locale=function(t){return{numberFormat:Ne(t),timeFormat:je(t)}};var cn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fn(){}o.format=cn.numberFormat,o.geo={},fn.prototype={s:0,t:0,add:function(t){pn(t,this.t,hn),pn(hn.s,this.s,this),this.s?this.t+=hn.t:this.s=hn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var hn=new fn;function pn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function dn(t,e){t&&mn.hasOwnProperty(t.type)&&mn[t.type](t,e)}o.geo.stream=function(t,e){t&&gn.hasOwnProperty(t.type)?gn[t.type](t,e):dn(t,e)};var gn={Feature:function(t,e){dn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)dn(n[r].geometry,e)}},mn={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){vn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vn(n[r],e,0)},Polygon:function(t,e){yn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)yn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)dn(n[r],e)}};function vn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function yn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)vn(t[n],e,1);e.polygonEnd()}o.geo.area=function(t){return _n=0,o.geo.stream(t,In),_n};var _n,xn,wn,bn,An,Mn,kn,Cn,Sn,En,Dn,Nn,Bn=new fn,In={sphere:function(){_n+=4*Et},point:F,lineStart:F,lineEnd:F,polygonStart:function(){Bn.reset(),In.lineStart=Ln},polygonEnd:function(){var t=2*Bn;_n+=t<0?4*Et+t:t,In.lineStart=In.lineEnd=In.point=F}};function Ln(){var t,e,n,r,i;function o(t,e){e=e*It/2+Et/4;var o=(t*=It)-n,a=o>=0?1:-1,l=a*o,s=Math.cos(e),u=Math.sin(e),c=i*u,f=r*s+c*Math.cos(l),h=c*a*Math.sin(l);Bn.add(Math.atan2(h,f)),n=t,r=s,i=u}In.point=function(a,l){In.point=o,n=(t=a)*It,r=Math.cos(l=(e=l)*It/2+Et/4),i=Math.sin(l)},In.lineEnd=function(){o(t,e)}}function Tn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Un(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Pn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function zn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Fn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Rn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function jn(t){return[Math.atan2(t[1],t[0]),zt(t[2])]}function $n(t,e){return b(t[0]-e[0])<St&&b(t[1]-e[1])<St}o.geo.bounds=function(){var t,e,n,r,i,a,l,s,u,c,f,h={point:p,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=y,h.lineEnd=_,u=0,In.polygonStart()},polygonEnd:function(){In.polygonEnd(),h.point=p,h.lineStart=g,h.lineEnd=m,Bn<0?(t=-(n=180),e=-(r=90)):u>St?r=90:u<-St&&(e=-90),f[0]=t,f[1]=n}};function p(i,o){c.push(f=[t=i,n=i]),o<e&&(e=o),o>r&&(r=o)}function d(o,a){var l=Tn([o*It,a*It]);if(s){var u=Pn(s,l),c=Pn([u[1],-u[0],0],u);Rn(c),c=jn(c);var f=o-i,h=f>0?1:-1,d=c[0]*Lt*h,g=b(f)>180;if(g^(h*i<d&&d<h*o))(m=c[1]*Lt)>r&&(r=m);else if(g^(h*i<(d=(d+360)%360-180)&&d<h*o)){var m;(m=-c[1]*Lt)<e&&(e=m)}else a<e&&(e=a),a>r&&(r=a);g?o<i?x(t,o)>x(t,n)&&(n=o):x(o,n)>x(t,n)&&(t=o):n>=t?(o<t&&(t=o),o>n&&(n=o)):o>i?x(t,o)>x(t,n)&&(n=o):x(o,n)>x(t,n)&&(t=o)}else p(o,a);s=l,i=o}function g(){h.point=d}function m(){f[0]=t,f[1]=n,h.point=p,s=null}function v(t,e){if(s){var n=t-i;u+=b(n)>180?n+(n>0?360:-360):n}else a=t,l=e;In.point(t,e),d(t,e)}function y(){In.lineStart()}function _(){v(a,l),In.lineEnd(),b(u)>St&&(t=-(n=180)),f[0]=t,f[1]=n,s=null}function x(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function A(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],o.geo.stream(i,h),u=c.length){c.sort(w);for(var a=1,l=[g=c[0]];a<u;++a)A((p=c[a])[0],g)||A(p[1],g)?(x(g[0],p[1])>x(g[0],g[1])&&(g[1]=p[1]),x(p[0],g[1])>x(g[0],g[1])&&(g[0]=p[0])):l.push(g=p);for(var s,u,p,d=-1/0,g=(a=0,l[u=l.length-1]);a<=u;g=p,++a)p=l[a],(s=x(g[1],p[0]))>d&&(d=s,t=p[0],n=g[1])}return c=f=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),o.geo.centroid=function(t){xn=wn=bn=An=Mn=kn=Cn=Sn=En=Dn=Nn=0,o.geo.stream(t,Yn);var e=En,n=Dn,r=Nn,i=e*e+n*n+r*r;return i<1e-12&&(e=kn,n=Cn,r=Sn,wn<St&&(e=bn,n=An,r=Mn),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Math.atan2(n,e)*Lt,zt(r/Math.sqrt(i))*Lt]};var Yn={sphere:F,point:On,lineStart:Qn,lineEnd:Vn,polygonStart:function(){Yn.lineStart=qn},polygonEnd:function(){Yn.lineStart=Qn}};function On(t,e){t*=It;var n=Math.cos(e*=It);Hn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Hn(t,e,n){++xn,bn+=(t-bn)/xn,An+=(e-An)/xn,Mn+=(n-Mn)/xn}function Qn(){var t,e,n;function r(r,i){r*=It;var o=Math.cos(i*=It),a=o*Math.cos(r),l=o*Math.sin(r),s=Math.sin(i),u=Math.atan2(Math.sqrt((u=e*s-n*l)*u+(u=n*a-t*s)*u+(u=t*l-e*a)*u),t*a+e*l+n*s);wn+=u,kn+=u*(t+(t=a)),Cn+=u*(e+(e=l)),Sn+=u*(n+(n=s)),Hn(t,e,n)}Yn.point=function(i,o){i*=It;var a=Math.cos(o*=It);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),Yn.point=r,Hn(t,e,n)}}function Vn(){Yn.point=On}function qn(){var t,e,n,r,i;function o(t,e){t*=It;var o=Math.cos(e*=It),a=o*Math.cos(t),l=o*Math.sin(t),s=Math.sin(e),u=r*s-i*l,c=i*a-n*s,f=n*l-r*a,h=Math.sqrt(u*u+c*c+f*f),p=n*a+r*l+i*s,d=h&&-Pt(p)/h,g=Math.atan2(h,p);En+=d*u,Dn+=d*c,Nn+=d*f,wn+=g,kn+=g*(n+(n=a)),Cn+=g*(r+(r=l)),Sn+=g*(i+(i=s)),Hn(n,r,i)}Yn.point=function(a,l){t=a,e=l,Yn.point=o,a*=It;var s=Math.cos(l*=It);n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(l),Hn(n,r,i)},Yn.lineEnd=function(){o(t,e),Yn.lineEnd=Vn,Yn.point=On}}function Gn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Wn(){return!0}function Xn(t,e,n,r,i){var o=[],a=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if($n(n,r)){i.lineStart();for(var l=0;l<e;++l)i.point((n=t[l])[0],n[1]);i.lineEnd()}else{var s=new Zn(n,t,null,!0),u=new Zn(n,null,s,!1);s.o=u,o.push(s),a.push(u),s=new Zn(r,t,null,!1),u=new Zn(r,null,s,!0),s.o=u,o.push(s),a.push(u)}}})),a.sort(e),Jn(o),Jn(a),o.length){for(var l=0,s=n,u=a.length;l<u;++l)a[l].e=s=!s;for(var c,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(l=0,u=c.length;l<u;++l)i.point((f=c[l])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(l=(c=p.p.z).length-1;l>=0;--l)i.point((f=c[l])[0],f[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function Jn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Zn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Kn(t,e,n,r){return function(i,a){var l,s=e(a),u=i.invert(r[0],r[1]),c={point:f,lineStart:p,lineEnd:d,polygonStart:function(){c.point=x,c.lineStart=w,c.lineEnd=b,l=[],g=[]},polygonEnd:function(){c.point=f,c.lineStart=p,c.lineEnd=d,l=o.merge(l);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Bn.reset();for(var l=0,s=e.length;l<s;++l){var u=e[l],c=u.length;if(c)for(var f=u[0],h=f[0],p=f[1]/2+Et/4,d=Math.sin(p),g=Math.cos(p),m=1;;){m===c&&(m=0);var v=(t=u[m])[0],y=t[1]/2+Et/4,_=Math.sin(y),x=Math.cos(y),w=v-h,b=w>=0?1:-1,A=b*w,M=A>Et,k=d*_;if(Bn.add(Math.atan2(k*b*Math.sin(A),g*x+k*Math.cos(A))),o+=M?w+b*Dt:w,M^h>=n^v>=n){var C=Pn(Tn(f),Tn(t));Rn(C);var S=Pn(i,C);Rn(S);var E=(M^w>=0?-1:1)*zt(S[2]);(r>E||r===E&&(C[0]||C[1]))&&(a+=M^w>=0?1:-1)}if(!m++)break;h=v,d=_,g=x,f=t}}return(o<-St||o<St&&Bn<0)^1&a}(u,g);l.length?(_||(a.polygonStart(),_=!0),Xn(l,nr,t,n,a)):t&&(_||(a.polygonStart(),_=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),_&&(a.polygonEnd(),_=!1),l=g=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function h(t,e){var n=i(t,e);s.point(n[0],n[1])}function p(){c.point=h,s.lineStart()}function d(){c.point=f,s.lineEnd()}var g,m,v=er(),y=e(v),_=!1;function x(t,e){m.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function w(){y.lineStart(),m=[]}function b(){x(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),n=v.buffer(),r=n.length;if(m.pop(),g.push(m),m=null,r)if(1&e){var i,o=-1;if((r=(t=n[0]).length-1)>0){for(_||(a.polygonStart(),_=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),l.push(n.filter(tr))}return c}}function tr(t){return t.length>1}function er(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:F,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function nr(t,e){return((t=t.x)[0]<0?t[1]-Bt-St:Bt-t[1])-((e=e.x)[0]<0?e[1]-Bt-St:Bt-e[1])}var rr=Kn(Wn,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var l=o>0?Et:-Et,s=b(o-n);b(s-Et)<St?(t.point(n,r=(r+a)/2>0?Bt:-Bt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),t.point(o,r),e=0):i!==l&&s>=Et&&(b(n-i)<St&&(n-=i*St),b(o-l)<St&&(o-=l*St),r=function(t,e,n,r){var i,o,a=Math.sin(t-n);return b(a)>St?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(l,r),e=0),t.point(n=o,r=a),i=l},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Bt,r.point(-Et,i),r.point(0,i),r.point(Et,i),r.point(Et,0),r.point(Et,-i),r.point(0,-i),r.point(-Et,-i),r.point(-Et,0),r.point(-Et,i);else if(b(t[0]-e[0])>St){var o=t[0]<e[0]?Et:-Et;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Et,-Et/2]);function ir(t){var e=Math.cos(t),n=e>0,r=b(e)>St;return Kn(i,(function(t){var e,l,s,u,c;return{lineStart:function(){u=s=!1,c=1},point:function(f,h){var p,d=[f,h],g=i(f,h),m=n?g?0:a(f,h):g?a(f+(f<0?Et:-Et),h):0;if(!e&&(u=s=g)&&t.lineStart(),g!==s&&(p=o(e,d),($n(e,p)||$n(d,p))&&(d[0]+=St,d[1]+=St,g=i(d[0],d[1]))),g!==s)c=0,g?(t.lineStart(),p=o(d,e),t.point(p[0],p[1])):(p=o(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^g){var v;m&l||!(v=o(d,e,!0))||(c=0,n?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&$n(e,d)||t.point(d[0],d[1]),e=d,s=g,l=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(u&&s)<<1}}}),jr(t,6*It),n?[0,-t]:[-Et,t-Et]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=[1,0,0],o=Pn(Tn(t),Tn(n)),a=Un(o,o),l=o[0],s=a-l*l;if(!s)return!r&&t;var u=e*a/s,c=-e*l/s,f=Pn(i,o),h=Fn(i,u);zn(h,Fn(o,c));var p=f,d=Un(h,p),g=Un(p,p),m=d*d-g*(Un(h,h)-1);if(!(m<0)){var v=Math.sqrt(m),y=Fn(p,(-d-v)/g);if(zn(y,h),y=jn(y),!r)return y;var _,x=t[0],w=n[0],A=t[1],M=n[1];w<x&&(_=x,x=w,w=_);var k=w-x,C=b(k-Et)<St;if(!C&&M<A&&(_=A,A=M,M=_),C||k<St?C?A+M>0^y[1]<(b(y[0]-x)<St?A:M):A<=y[1]&&y[1]<=M:k>Et^(x<=y[0]&&y[0]<=w)){var S=Fn(p,(-d+v)/g);return zn(S,h),[y,jn(S)]}}}function a(e,r){var i=n?t:Et-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}function or(t,e,n,r){return function(i){var o,a=i.a,l=i.b,s=a.x,u=a.y,c=0,f=1,h=l.x-s,p=l.y-u;if(o=t-s,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=n-s,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}if(o=e-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<f&&(f=o)}else if(p>0){if(o>f)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>f)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<f&&(f=o)}return c>0&&(i.a={x:s+c*h,y:u+c*p}),f<1&&(i.b={x:s+f*h,y:u+f*p}),i}}}}}}function ar(t,e,n,r){return function(s){var u,c,f,h,p,d,g,m,v,y,_,x=s,w=er(),b=or(t,e,n,r),A={point:C,lineStart:function(){A.point=S,c&&c.push(f=[]);y=!0,v=!1,g=m=NaN},lineEnd:function(){u&&(S(h,p),d&&v&&w.rejoin(),u.push(w.buffer()));A.point=C,v&&s.lineEnd()},polygonStart:function(){s=w,u=[],c=[],_=!0},polygonEnd:function(){s=x,u=o.merge(u);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var o,a=1,l=c[i],s=l.length,u=l[0];a<s;++a)o=l[a],u[1]<=r?o[1]>r&&Ut(u,o,t)>0&&++e:o[1]<=r&&Ut(u,o,t)<0&&--e,u=o;return 0!==e}([t,r]),n=_&&e,i=u.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),M(null,null,1,s),s.lineEnd()),i&&Xn(u,a,e,M,s),s.polygonEnd()),u=c=f=null}};function M(o,a,s,u){var c=0,f=0;if(null==o||(c=i(o,s))!==(f=i(a,s))||l(o,a)<0^s>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+s+4)%4)!==f);else u.point(a[0],a[1])}function k(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function C(t,e){k(t,e)&&s.point(t,e)}function S(t,e){var n=k(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(c&&f.push([t,e]),y)h=t,p=e,d=n,y=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&v)s.point(t,e);else{var r={a:{x:g,y:m},b:{x:t,y:e}};b(r)?(v||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),_=!1):n&&(s.lineStart(),s.point(t,e),_=!1)}g=t,m=e,v=n}return A};function i(r,i){return b(r[0]-t)<St?i>0?0:3:b(r[0]-n)<St?i>0?2:1:b(r[1]-e)<St?i>0?1:0:i>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function lr(t){var e=0,n=Et/3,r=Ir(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Et/180,n=t[1]*Et/180):[e/Et*180,n/Et*180]},i}function sr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,zt((i-(t*t+n*n)*r*r)/(2*r))]},a}o.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(l){return arguments.length?(o=ar(t=+l[0][0],e=+l[0][1],n=+l[1][0],r=+l[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return lr(sr)}).raw=sr,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var t,e,n,r,i=o.geo.albers(),a=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};function u(i){var o=i[0],a=i[1];return t=null,e(o,a),t||(n(o,a),t)||r(o,a),t}return u.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?a:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:i).invert(t)},u.stream=function(t){var e=i.stream(t),n=a.stream(t),r=l.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(t){return arguments.length?(i.precision(t),a.precision(t),l.precision(t),u):i.precision()},u.scale=function(t){return arguments.length?(i.scale(t),a.scale(.35*t),l.scale(t),u.translate(i.translate())):i.scale()},u.translate=function(t){if(!arguments.length)return i.translate();var o=i.scale(),c=+t[0],f=+t[1];return e=i.translate(t).clipExtent([[c-.455*o,f-.238*o],[c+.455*o,f+.238*o]]).stream(s).point,n=a.translate([c-.307*o,f+.201*o]).clipExtent([[c-.425*o+St,f+.12*o+St],[c-.214*o-St,f+.234*o-St]]).stream(s).point,r=l.translate([c-.205*o,f+.212*o]).clipExtent([[c-.214*o+St,f+.166*o+St],[c-.115*o-St,f+.234*o-St]]).stream(s).point,u},u.scale(1070)};var ur,cr,fr,hr,pr,dr,gr={point:F,lineStart:F,lineEnd:F,polygonStart:function(){cr=0,gr.lineStart=mr},polygonEnd:function(){gr.lineStart=gr.lineEnd=gr.point=F,ur+=b(cr/2)}};function mr(){var t,e,n,r;function i(t,e){cr+=r*t-n*e,n=t,r=e}gr.point=function(o,a){gr.point=i,t=n=o,e=r=a},gr.lineEnd=function(){i(t,e)}}var vr={point:function(t,e){t<fr&&(fr=t);t>pr&&(pr=t);e<hr&&(hr=e);e>dr&&(dr=e)},lineStart:F,lineEnd:F,polygonStart:F,polygonEnd:F};function yr(){var t=_r(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=_r(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function l(){e.push("Z")}return n}function _r(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var xr,wr={point:br,lineStart:Ar,lineEnd:Mr,polygonStart:function(){wr.lineStart=kr},polygonEnd:function(){wr.point=br,wr.lineStart=Ar,wr.lineEnd=Mr}};function br(t,e){bn+=t,An+=e,++Mn}function Ar(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);kn+=a*(t+n)/2,Cn+=a*(e+r)/2,Sn+=a,br(t=n,e=r)}wr.point=function(r,i){wr.point=n,br(t=r,e=i)}}function Mr(){wr.point=br}function kr(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);kn+=a*(n+t)/2,Cn+=a*(r+e)/2,Sn+=a,En+=(a=r*t-n*e)*(n+t),Dn+=a*(r+e),Nn+=3*a,br(n=t,r=e)}wr.point=function(o,a){wr.point=i,br(t=n=o,e=r=a)},wr.lineEnd=function(){i(t,e)}}function Cr(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=l},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:F};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Dt)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function l(){t.closePath()}return n}function Sr(t){var e=.5,n=Math.cos(30*It),r=16;function i(t){return(r?a:o)(t)}function o(e){return Nr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function a(e){var n,i,o,a,s,u,c,f,h,p,d,g,m={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),m.lineStart=w},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,m.point=_,e.lineStart()}function _(n,i){var o=Tn([n,i]),a=t(n,i);l(f,h,c,p,d,g,f=a[0],h=a[1],c=n,p=o[0],d=o[1],g=o[2],r,e),e.point(f,h)}function x(){m.point=v,e.lineEnd()}function w(){y(),m.point=b,m.lineEnd=A}function b(t,e){_(n=t,e),i=f,o=h,a=p,s=d,u=g,m.point=_}function A(){l(f,h,c,p,d,g,i,o,n,a,s,u,r,e),m.lineEnd=x,x()}return m}function l(r,i,o,a,s,u,c,f,h,p,d,g,m,v){var y=c-r,_=f-i,x=y*y+_*_;if(x>4*e&&m--){var w=a+p,A=s+d,M=u+g,k=Math.sqrt(w*w+A*A+M*M),C=Math.asin(M/=k),S=b(b(M)-1)<St||b(o-h)<St?(o+h)/2:Math.atan2(A,w),E=t(S,C),D=E[0],N=E[1],B=D-r,I=N-i,L=_*B-y*I;(L*L/x>e||b((y*B+_*I)/x-.5)>.3||a*p+s*d+u*g<n)&&(l(r,i,o,a,s,u,D,N,S,w/=k,A/=k,M,m,v),v.point(D,N),l(D,N,S,w,A,M,c,f,h,p,d,g,m,v))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function Er(t){var e=Sr((function(e,n){return t([e*Lt,n*Lt])}));return function(t){return Lr(e(t))}}function Dr(t){this.stream=t}function Nr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Br(t){return Ir((function(){return t}))()}function Ir(t){var e,n,r,i,a,l,s=Sr((function(t,n){return[(t=e(t,n))[0]*u+i,a-t[1]*u]})),u=150,c=480,f=250,h=0,p=0,d=0,g=0,m=0,v=rr,y=T,_=null,x=null;function w(t){return[(t=r(t[0]*It,t[1]*It))[0]*u+i,a-t[1]*u]}function b(t){return(t=r.invert((t[0]-i)/u,(a-t[1])/u))&&[t[0]*Lt,t[1]*Lt]}function A(){r=Gn(n=Pr(d,g,m),e);var t=e(h,p);return i=c-t[0]*u,a=f+t[1]*u,M()}function M(){return l&&(l.valid=!1,l=null),w}return w.stream=function(t){return l&&(l.valid=!1),(l=Lr(v(n,s(y(t))))).valid=!0,l},w.clipAngle=function(t){return arguments.length?(v=null==t?(_=t,rr):ir((_=+t)*It),M()):_},w.clipExtent=function(t){return arguments.length?(x=t,y=t?ar(t[0][0],t[0][1],t[1][0],t[1][1]):T,M()):x},w.scale=function(t){return arguments.length?(u=+t,A()):u},w.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],A()):[c,f]},w.center=function(t){return arguments.length?(h=t[0]%360*It,p=t[1]%360*It,A()):[h*Lt,p*Lt]},w.rotate=function(t){return arguments.length?(d=t[0]%360*It,g=t[1]%360*It,m=t.length>2?t[2]%360*It:0,A()):[d*Lt,g*Lt,m*Lt]},o.rebind(w,s,"precision"),function(){return e=t.apply(this,arguments),w.invert=e.invert&&b,A()}}function Lr(t){return Nr(t,(function(e,n){t.point(e*It,n*It)}))}function Tr(t,e){return[t,e]}function Ur(t,e){return[t>Et?t-Dt:t<-Et?t+Dt:t,e]}function Pr(t,e,n){return t?e||n?Gn(Fr(t),Rr(e,n)):Fr(t):e||n?Rr(e,n):Ur}function zr(t){return function(e,n){return[(e+=t)>Et?e-Dt:e<-Et?e+Dt:e,n]}}function Fr(t){var e=zr(t);return e.invert=zr(-t),e}function Rr(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),l=Math.cos(t)*a,s=Math.sin(t)*a,u=Math.sin(e),c=u*n+l*r;return[Math.atan2(s*i-c*o,l*n-u*r),zt(c*i+s*o)]}return a.invert=function(t,e){var a=Math.cos(e),l=Math.cos(t)*a,s=Math.sin(t)*a,u=Math.sin(e),c=u*i-s*o;return[Math.atan2(s*i+u*o,l*n+c*r),zt(c*n-l*r)]},a}function jr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,l){var s=a*e;null!=i?(i=$r(n,i),o=$r(n,o),(a>0?i<o:i>o)&&(i+=a*Dt)):(i=t+a*Dt,o=t-.5*s);for(var u,c=i;a>0?c>o:c<o;c-=s)l.point((u=jn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function $r(t,e){var n=Tn(e);n[0]-=t,Rn(n);var r=Pt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-St)%(2*Math.PI)}function Yr(t,e,n){var r=o.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Or(t,e,n){var r=o.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Hr(t){return t.source}function Qr(t){return t.target}o.geo.path=function(){var t,e,n,r,i,a=4.5;function l(t){return t&&("function"==typeof a&&r.pointRadius(+a.apply(this,arguments)),i&&i.valid||(i=n(r)),o.geo.stream(t,i)),r.result()}function s(){return i=null,l}return l.area=function(t){return ur=0,o.geo.stream(t,n(gr)),ur},l.centroid=function(t){return bn=An=Mn=kn=Cn=Sn=En=Dn=Nn=0,o.geo.stream(t,n(wr)),Nn?[En/Nn,Dn/Nn]:Sn?[kn/Sn,Cn/Sn]:Mn?[bn/Mn,An/Mn]:[NaN,NaN]},l.bounds=function(t){return pr=dr=-(fr=hr=1/0),o.geo.stream(t,n(vr)),[[fr,hr],[pr,dr]]},l.projection=function(e){return arguments.length?(n=(t=e)?e.stream||Er(e):T,s()):t},l.context=function(t){return arguments.length?(r=null==(e=t)?new yr:new Cr(t),"function"!=typeof a&&r.pointRadius(a),s()):e},l.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(r.pointRadius(+t),+t),l):a},l.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(t){return{stream:function(e){var n=new Dr(e);for(var r in t)n[r]=t[r];return n}}},Dr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Br,o.geo.projectionMutator=Ir,(o.geo.equirectangular=function(){return Br(Tr)}).raw=Tr.invert=Tr,o.geo.rotation=function(t){function e(e){return(e=t(e[0]*It,e[1]*It))[0]*=Lt,e[1]*=Lt,e}return t=Pr(t[0]%360*It,t[1]*It,t.length>2?t[2]*It:0),e.invert=function(e){return(e=t.invert(e[0]*It,e[1]*It))[0]*=Lt,e[1]*=Lt,e},e},Ur.invert=Tr,o.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Pr(-t[0]*It,-t[1]*It,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Lt,t[1]*=Lt}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=jr((t=+n)*It,r*It),i):t},i.precision=function(n){return arguments.length?(e=jr(t*It,(r=+n)*It),i):r},i.angle(90)},o.geo.distance=function(t,e){var n,r=(e[0]-t[0])*It,i=t[1]*It,o=e[1]*It,a=Math.sin(r),l=Math.cos(r),s=Math.sin(i),u=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-s*f*l)*n),s*c+u*f*l)},o.geo.graticule=function(){var t,e,n,r,i,a,l,s,u,c,f,h,p=10,d=p,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:_()}}function _(){return o.range(Math.ceil(r/g)*g,n,g).map(f).concat(o.range(Math.ceil(s/m)*m,l,m).map(h)).concat(o.range(Math.ceil(e/p)*p,t,p).filter((function(t){return b(t%g)>St})).map(u)).concat(o.range(Math.ceil(a/d)*d,i,d).filter((function(t){return b(t%m)>St})).map(c))}return y.lines=function(){return _().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[f(r).concat(h(l).slice(1),f(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],l=+t[1][1],r>n&&(t=r,r=n,n=t),s>l&&(t=s,s=l,l=t),y.precision(v)):[[r,s],[n,l]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),y.precision(v)):[[e,a],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],y):[g,m]},y.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(o){return arguments.length?(v=+o,u=Yr(a,i,90),c=Or(e,t,v),f=Yr(s,l,90),h=Or(r,n,v),y):v},y.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},o.geo.greatArc=function(){var t,e,n=Hr,r=Qr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return o.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},o.geo.interpolate=function(t,e){return n=t[0]*It,r=t[1]*It,i=e[0]*It,o=e[1]*It,a=Math.cos(r),l=Math.sin(r),s=Math.cos(o),u=Math.sin(o),c=a*Math.cos(n),f=a*Math.sin(n),h=s*Math.cos(i),p=s*Math.sin(i),d=2*Math.asin(Math.sqrt(Rt(o-r)+a*s*Rt(i-n))),g=1/Math.sin(d),(m=d?function(t){var e=Math.sin(t*=d)*g,n=Math.sin(d-t)*g,r=n*c+e*h,i=n*f+e*p,o=n*l+e*u;return[Math.atan2(i,r)*Lt,Math.atan2(o,Math.sqrt(r*r+i*i))*Lt]}:function(){return[n*Lt,r*Lt]}).distance=d,m;var n,r,i,o,a,l,s,u,c,f,h,p,d,g,m},o.geo.length=function(t){return xr=0,o.geo.stream(t,Vr),xr};var Vr={sphere:F,point:F,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=It),a=Math.cos(i),l=b((r*=It)-t),s=Math.cos(l);xr+=Math.atan2(Math.sqrt((l=a*Math.sin(l))*l+(l=n*o-e*a*s)*l),e*o+n*a*s),t=r,e=o,n=a}Vr.point=function(i,o){t=i*It,e=Math.sin(o*=It),n=Math.cos(o),Vr.point=r},Vr.lineEnd=function(){Vr.point=Vr.lineEnd=F}},lineEnd:F,polygonStart:F,polygonEnd:F};function qr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}var Gr=qr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(o.geo.azimuthalEqualArea=function(){return Br(Gr)}).raw=Gr;var Wr=qr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),T);function Xr(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Et/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return Kr;function a(t,e){o>0?e<-Bt+St&&(e=-Bt+St):e>Bt-St&&(e=Bt-St);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=Tt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Bt]},a}function Jr(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(b(r)<St)return Tr;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Tt(r)*Math.sqrt(t*t+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Br(Wr)}).raw=Wr,(o.geo.conicConformal=function(){return lr(Xr)}).raw=Xr,(o.geo.conicEquidistant=function(){return lr(Jr)}).raw=Jr;var Zr=qr((function(t){return 1/t}),Math.atan);function Kr(t,e){return[t,Math.log(Math.tan(Et/4+e/2))]}function ti(t){var e,n=Br(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var l=Et*r(),s=i();o([[s[0]-l,s[1]-l],[s[0]+l,s[1]+l]])}}else e&&(a=null);return a},n.clipExtent(null)}(o.geo.gnomonic=function(){return Br(Zr)}).raw=Zr,Kr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Bt]},(o.geo.mercator=function(){return ti(Kr)}).raw=Kr;var ei=qr((function(){return 1}),Math.asin);(o.geo.orthographic=function(){return Br(ei)}).raw=ei;var ni=qr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ri(t,e){return[Math.log(Math.tan(Et/4+e/2)),-t]}function ii(t){return t[0]}function oi(t){return t[1]}function ai(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Ut(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function li(t,e){return t[0]-e[0]||t[1]-e[1]}(o.geo.stereographic=function(){return Br(ni)}).raw=ni,ri.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Bt]},(o.geo.transverseMercator=function(){var t=ti(ri),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ri,o.geom={},o.geom.hull=function(t){var e=ii,n=oi;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=me(e),o=me(n),a=t.length,l=[],s=[];for(r=0;r<a;r++)l.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(l.sort(li),r=0;r<a;r++)s.push([l[r][0],-l[r][1]]);var u=ai(l),c=ai(s),f=c[0]===u[0],h=c[c.length-1]===u[u.length-1],p=[];for(r=u.length-1;r>=0;--r)p.push(t[l[u[r]][2]]);for(r=+f;r<c.length-h;++r)p.push(t[l[c[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},o.geom.polygon=function(t){return Q(t,si),t};var si=o.geom.polygon.prototype=[];function ui(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function ci(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,l=r[0]-o,s=t[1],u=n[1],c=e[1]-s,f=r[1]-u,h=(l*(s-u)-f*(i-o))/(f*a-l*c);return[i+h*a,s+h*c]}function fi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}si.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},si.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,l=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=l,l=this[r],n=e[0]*l[1]-l[0]*e[1],o+=(e[0]+l[0])*n,a+=(e[1]+l[1])*n;return[o*t,a*t]},si.clip=function(t){for(var e,n,r,i,o,a,l=fi(t),s=-1,u=this.length-fi(this),c=this[u-1];++s<u;){for(e=t.slice(),t.length=0,i=this[s],o=e[(r=e.length-l)-1],n=-1;++n<r;)ui(a=e[n],c,i)?(ui(o,c,i)||t.push(ci(o,a,c,i)),t.push(a)):ui(o,c,i)&&t.push(ci(o,a,c,i)),o=a;l&&t.push(t[0]),c=i}return t};var hi,pi,di,gi,mi,vi=[],yi=[];function _i(){Fi(this),this.edge=this.site=this.circle=null}function xi(t){var e=vi.pop()||new _i;return e.site=t,e}function wi(t){Ni(t),di.remove(t),vi.push(t),Fi(t)}function bi(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,l=[t];wi(t);for(var s=o;s.circle&&b(n-s.circle.x)<St&&b(r-s.circle.cy)<St;)o=s.P,l.unshift(s),wi(s),s=o;l.unshift(s),Ni(s);for(var u=a;u.circle&&b(n-u.circle.x)<St&&b(r-u.circle.cy)<St;)a=u.N,l.push(u),wi(u),u=a;l.push(u),Ni(u);var c,f=l.length;for(c=1;c<f;++c)u=l[c],s=l[c-1],Ui(u.edge,s.site,u.site,i);s=l[0],(u=l[f-1]).edge=Li(s.site,u.site,null,i),Di(s),Di(u)}function Ai(t){for(var e,n,r,i,o=t.x,a=t.y,l=di._;l;)if((r=Mi(l,a)-o)>St)l=l.L;else{if(!((i=o-ki(l,a))>St)){r>-St?(e=l.P,n=l):i>-St?(e=l,n=l.N):e=n=l;break}if(!l.R){e=l;break}l=l.R}var s=xi(t);if(di.insert(e,s),e||n){if(e===n)return Ni(e),n=xi(e.site),di.insert(s,n),s.edge=n.edge=Li(e.site,s.site),Di(e),void Di(n);if(n){Ni(e),Ni(n);var u=e.site,c=u.x,f=u.y,h=t.x-c,p=t.y-f,d=n.site,g=d.x-c,m=d.y-f,v=2*(h*m-p*g),y=h*h+p*p,_=g*g+m*m,x={x:(m*y-p*_)/v+c,y:(h*_-g*y)/v+f};Ui(n.edge,u,d,x),s.edge=Li(u,t,null,x),n.edge=Li(t,d,null,x),Di(e),Di(n)}else s.edge=Li(e.site,s.site)}}function Mi(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var l=(n=a.site).x,s=n.y,u=s-e;if(!u)return l;var c=l-r,f=1/o-1/u,h=c/u;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*u)-s+u/2+i-o/2)))/f+r:(r+l)/2}function ki(t,e){var n=t.N;if(n)return Mi(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ci(t){this.site=t,this.edges=[]}function Si(t,e){return e.angle-t.angle}function Ei(){Fi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Di(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,l=i.y,s=r.x-a,u=r.y-l,c=o.x-a,f=2*(s*(m=o.y-l)-u*c);if(!(f>=-1e-12)){var h=s*s+u*u,p=c*c+m*m,d=(m*h-u*p)/f,g=(s*p-c*h)/f,m=g+l,v=yi.pop()||new Ei;v.arc=t,v.site=i,v.x=d+a,v.y=m+Math.sqrt(d*d+g*g),v.cy=m,t.circle=v;for(var y=null,_=mi._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}mi.insert(y,v),y||(gi=v)}}}}function Ni(t){var e=t.circle;e&&(e.P||(gi=e.N),mi.remove(e),yi.push(e),Fi(e),t.circle=null)}function Bi(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],l=e[1][0],s=e[0][1],u=e[1][1],c=t.l,f=t.r,h=c.x,p=c.y,d=f.x,g=f.y,m=(h+d)/2,v=(p+g)/2;if(g===p){if(m<a||m>=l)return;if(h>d){if(o){if(o.y>=u)return}else o={x:m,y:s};n={x:m,y:u}}else{if(o){if(o.y<s)return}else o={x:m,y:u};n={x:m,y:s}}}else if(i=v-(r=(h-d)/(g-p))*m,r<-1||r>1)if(h>d){if(o){if(o.y>=u)return}else o={x:(s-i)/r,y:s};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<s)return}else o={x:(u-i)/r,y:u};n={x:(s-i)/r,y:s}}else if(p<g){if(o){if(o.x>=l)return}else o={x:a,y:r*a+i};n={x:l,y:r*l+i}}else{if(o){if(o.x<a)return}else o={x:l,y:r*l+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Ii(t,e){this.l=t,this.r=e,this.a=this.b=null}function Li(t,e,n,r){var i=new Ii(t,e);return hi.push(i),n&&Ui(i,t,e,n),r&&Ui(i,e,t,r),pi[t.i].edges.push(new Pi(i,t,e)),pi[e.i].edges.push(new Pi(i,e,t)),i}function Ti(t,e,n){var r=new Ii(t,null);return r.a=e,r.b=n,hi.push(r),r}function Ui(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Pi(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function zi(){this._=null}function Fi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ri(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ji(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function $i(t){for(;t.L;)t=t.L;return t}function Yi(t,e){var n,r,i,o=t.sort(Oi).pop();for(hi=[],pi=new Array(t.length),di=new zi,mi=new zi;;)if(i=gi,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===n&&o.y===r||(pi[o.i]=new Ci(o),Ai(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;bi(i.arc)}e&&(function(t){for(var e,n=hi,r=or(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Bi(e=n[i],t)||!r(e)||b(e.a.x-e.b.x)<St&&b(e.a.y-e.b.y)<St)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,l,s,u,c,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=pi,m=g.length;m--;)if((o=g[m])&&o.prepare())for(s=(l=o.edges).length,a=0;a<s;)r=(c=l[a].end()).x,i=c.y,e=(u=l[++a%s].start()).x,n=u.y,(b(r-e)>St||b(i-n)>St)&&(l.splice(a,0,new Pi(Ti(o.site,c,b(r-f)<St&&d-i>St?{x:f,y:b(e-f)<St?n:d}:b(i-d)<St&&h-r>St?{x:b(n-d)<St?e:h,y:d}:b(r-h)<St&&i-p>St?{x:h,y:b(e-h)<St?n:p}:b(i-p)<St&&r-f>St?{x:b(n-p)<St?e:f,y:p}:null),o.site,null)),++s)}(e));var a={cells:pi,edges:hi};return di=mi=hi=pi=null,a}function Oi(t,e){return e.y-t.y||e.x-t.x}Ci.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(Si),e.length},Pi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},zi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=$i(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ri(this,n),n=(t=n).U),n.C=!1,r.C=!0,ji(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ji(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ri(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?$i(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ri(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ji(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ri(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,ji(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ri(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ji(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},o.geom.voronoi=function(t){var e=ii,n=oi,r=e,i=n,o=Hi;if(t)return a(t);function a(t){var e=new Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return Yi(l(t),o).cells.forEach((function(o,l){var s=o.edges,u=o.site;(e[l]=s.length?s.map((function(t){var e=t.start();return[e.x,e.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[l]})),e}function l(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/St)*St,y:Math.round(i(t,e)/St)*St,i:e}}))}return a.links=function(t){return Yi(l(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},a.triangles=function(t){var e=[];return Yi(l(t)).cells.forEach((function(n,r){for(var i,o,a,l,s=n.site,u=n.edges.sort(Si),c=-1,f=u.length,h=u[f-1].edge,p=h.l===s?h.r:h.l;++c<f;)h,i=p,p=(h=u[c].edge).l===s?h.r:h.l,r<i.i&&r<p.i&&(a=i,l=p,((o=s).x-l.x)*(a.y-o.y)-(o.x-a.x)*(l.y-o.y)<0)&&e.push([t[r],t[i.i],t[p.i]])})),e},a.x=function(t){return arguments.length?(r=me(e=t),a):e},a.y=function(t){return arguments.length?(i=me(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?Hi:t,a):o===Hi?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===Hi?null:o&&o[1]},a};var Hi=[[-1e6,-1e6],[1e6,1e6]];function Qi(t){return t.x}function Vi(t){return t.y}function qi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),l=.5*(r+o),s=e.nodes;s[0]&&qi(t,s[0],n,r,a,l),s[1]&&qi(t,s[1],a,r,i,l),s[2]&&qi(t,s[2],n,l,a,o),s[3]&&qi(t,s[3],a,l,i,o)}}function Gi(t,e,n,r,i,o,a){var l,s=1/0;return function t(u,c,f,h,p){if(!(c>o||f>a||h<r||p<i)){if(d=u.point){var d,g=e-u.x,m=n-u.y,v=g*g+m*m;if(v<s){var y=Math.sqrt(s=v);r=e-y,i=n-y,o=e+y,a=n+y,l=d}}for(var _=u.nodes,x=.5*(c+h),w=.5*(f+p),b=(n>=w)<<1|e>=x,A=b+4;b<A;++b)if(u=_[3&b])switch(3&b){case 0:t(u,c,f,x,w);break;case 1:t(u,x,f,h,w);break;case 2:t(u,c,w,x,p);break;case 3:t(u,x,w,h,p)}}}(t,r,i,o,a),l}function Wi(t,e){t=o.rgb(t),e=o.rgb(e);var n=t.r,r=t.g,i=t.b,a=e.r-n,l=e.g-r,s=e.b-i;return function(t){return"#"+ue(Math.round(n+a*t))+ue(Math.round(r+l*t))+ue(Math.round(i+s*t))}}function Xi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=eo(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function Ji(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Zi(t,e){var n,r,i,o=Ki.lastIndex=to.lastIndex=0,a=-1,l=[],s=[];for(t+="",e+="";(n=Ki.exec(t))&&(r=to.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,s.push({i:a,x:Ji(n,r)})),o=to.lastIndex;return o<e.length&&(i=e.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}o.geom.delaunay=function(t){return o.geom.voronoi().triangles(t)},o.geom.quadtree=function(t,e,n,r,i){var o,a=ii,l=oi;if(o=arguments.length)return a=Qi,l=Vi,3===o&&(i=n,r=e,n=e=0),s(t);function s(t){var s,u,c,f,h,p,d,g,m,v=me(a),y=me(l);if(null!=e)p=e,d=n,g=r,m=i;else if(g=m=-(p=d=1/0),u=[],c=[],h=t.length,o)for(f=0;f<h;++f)(s=t[f]).x<p&&(p=s.x),s.y<d&&(d=s.y),s.x>g&&(g=s.x),s.y>m&&(m=s.y),u.push(s.x),c.push(s.y);else for(f=0;f<h;++f){var _=+v(s=t[f],f),x=+y(s,f);_<p&&(p=_),x<d&&(d=x),_>g&&(g=_),x>m&&(m=x),u.push(_),c.push(x)}var w=g-p,A=m-d;function M(t,e,n,r,i,o,a,l){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var s=t.x,u=t.y;if(null!=s)if(b(s-n)+b(u-r)<.01)k(t,e,n,r,i,o,a,l);else{var c=t.point;t.x=t.y=t.point=null,k(t,c,s,u,i,o,a,l),k(t,e,n,r,i,o,a,l)}else t.x=n,t.y=r,t.point=e}else k(t,e,n,r,i,o,a,l)}function k(t,e,n,r,i,o,a,l){var s=.5*(i+a),u=.5*(o+l),c=n>=s,f=r>=u,h=f<<1|c;t.leaf=!1,c?i=s:a=s,f?o=u:l=u,M(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,o,a,l)}w>A?m=d+w:g=p+A;var C={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){M(C,t,+v(t,++f),+y(t,f),p,d,g,m)},visit:function(t){qi(t,C,p,d,g,m)},find:function(t){return Gi(C,t[0],t[1],p,d,g,m)}};if(f=-1,null==e){for(;++f<h;)M(C,t[f],u[f],c[f],p,d,g,m);--f}else t.forEach(C.add);return u=c=t=s=null,C}return s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(l=t,s):l},s.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),s):null==e?null:[[e,n],[r,i]]},s.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),s):null==e?null:[r-e,i-n]},s},o.interpolateRgb=Wi,o.interpolateObject=Xi,o.interpolateNumber=Ji,o.interpolateString=Zi;var Ki=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,to=new RegExp(Ki.source,"g");function eo(t,e){for(var n,r=o.interpolators.length;--r>=0&&!(n=o.interpolators[r](t,e)););return n}function no(t,e){var n,r=[],i=[],o=t.length,a=e.length,l=Math.min(t.length,e.length);for(n=0;n<l;++n)r.push(eo(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<l;++n)i[n]=r[n](t);return i}}o.interpolate=eo,o.interpolators=[function(t,e){var n=typeof e;return("string"===n?ge.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Wi:Zi:e instanceof Ht?Wi:Array.isArray(e)?no:"object"===n&&isNaN(e)?Xi:Ji)(t,e)}],o.interpolateArray=no;var ro=function(){return T},io=o.map({linear:ro,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return uo},cubic:function(){return co},sin:function(){return ho},exp:function(){return po},circle:function(){return go},elastic:function(t,e){var n;arguments.length<2&&(e=.45);arguments.length?n=e/Dt*Math.asin(1/t):(t=1,n=e/4);return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Dt/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return mo}}),oo=o.map({in:T,out:lo,"in-out":so,"out-in":function(t){return so(lo(t))}});function ao(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function lo(t){return function(e){return 1-t(1-e)}}function so(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function uo(t){return t*t}function co(t){return t*t*t}function fo(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function ho(t){return 1-Math.cos(t*Bt)}function po(t){return Math.pow(2,10*(t-1))}function go(t){return 1-Math.sqrt(1-t*t)}function mo(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function vo(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function yo(t){var e,n,r,i=[t.a,t.b],o=[t.c,t.d],a=xo(i),l=_o(i,o),s=xo(((e=o)[0]+=(r=-l)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*o[1]<o[0]*i[1]&&(i[0]*=-1,i[1]*=-1,a*=-1,l*=-1),this.rotate=(a?Math.atan2(i[1],i[0]):Math.atan2(-o[0],o[1]))*Lt,this.translate=[t.e,t.f],this.scale=[a,s],this.skew=s?Math.atan2(l,s)*Lt:0}function _o(t,e){return t[0]*e[0]+t[1]*e[1]}function xo(t){var e=Math.sqrt(_o(t,t));return e&&(t[0]/=e,t[1]/=e),e}o.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=io.get(n)||ro,ao((r=oo.get(r)||T)(n.apply(null,a.call(arguments,1))))},o.interpolateHcl=function(t,e){t=o.hcl(t),e=o.hcl(e);var n=t.h,r=t.c,i=t.l,a=e.h-n,l=e.c-r,s=e.l-i;isNaN(l)&&(l=0,r=isNaN(r)?e.c:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return Xt(n+a*t,r+l*t,i+s*t)+""}},o.interpolateHsl=function(t,e){t=o.hsl(t),e=o.hsl(e);var n=t.h,r=t.s,i=t.l,a=e.h-n,l=e.s-r,s=e.l-i;isNaN(l)&&(l=0,r=isNaN(r)?e.s:r);isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360);return function(t){return qt(n+a*t,r+l*t,i+s*t)+""}},o.interpolateLab=function(t,e){t=o.lab(t),e=o.lab(e);var n=t.l,r=t.a,i=t.b,a=e.l-n,l=e.a-r,s=e.b-i;return function(t){return te(n+a*t,r+l*t,i+s*t)+""}},o.interpolateRound=vo,o.transform=function(t){var e=s.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new yo(n?n.matrix:wo)})(t)},yo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var wo={a:1,b:0,c:0,d:1,e:0,f:0};function bo(t,e){var n,r=[],i=[],a=o.transform(t),l=o.transform(e),s=a.translate,u=l.translate,c=a.rotate,f=l.rotate,h=a.skew,p=l.skew,d=a.scale,g=l.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:Ji(s[0],u[0])},{i:3,x:Ji(s[1],u[1])})):u[0]||u[1]?r.push("translate("+u+")"):r.push(""),c!=f?(c-f>180?f+=360:f-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:Ji(c,f)})):f&&r.push(r.pop()+"rotate("+f+")"),h!=p?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:Ji(h,p)}):p&&r.push(r.pop()+"skewX("+p+")"),d[0]!=g[0]||d[1]!=g[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:Ji(d[0],g[0])},{i:n-2,x:Ji(d[1],g[1])})):1==g[0]&&1==g[1]||r.push(r.pop()+"scale("+g+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function Ao(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Mo(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function ko(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;var n=Co(t),r=Co(e),i=n.pop(),o=r.pop(),a=null;for(;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Co(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function So(t){t.fixed|=2}function Eo(t){t.fixed&=-7}function Do(t){t.fixed|=4,t.px=t.x,t.py=t.y}function No(t){t.fixed&=-5}o.interpolateTransform=bo,o.layout={},o.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(ko(t[n]));return e}},o.layout.chord=function(){var t,e,n,r,i,a,l,s={},u=0;function c(){var s,c,h,p,d,g={},m=[],v=o.range(r),y=[];for(t=[],e=[],s=0,p=-1;++p<r;){for(c=0,d=-1;++d<r;)c+=n[p][d];m.push(c),y.push(o.range(r)),s+=c}for(i&&v.sort((function(t,e){return i(m[t],m[e])})),a&&y.forEach((function(t,e){t.sort((function(t,r){return a(n[e][t],n[e][r])}))})),s=(Dt-u*r)/s,c=0,p=-1;++p<r;){for(h=c,d=-1;++d<r;){var _=v[p],x=y[_][d],w=n[_][x],b=c,A=c+=w*s;g[_+"-"+x]={index:_,subindex:x,startAngle:b,endAngle:A,value:w}}e[_]={index:_,startAngle:h,endAngle:c,value:(c-h)/s},c+=u}for(p=-1;++p<r;)for(d=p-1;++d<r;){var M=g[p+"-"+d],k=g[d+"-"+p];(M.value||k.value)&&t.push(M.value<k.value?{source:k,target:M}:{source:M,target:k})}l&&f()}function f(){t.sort((function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return s.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,s):n},s.padding=function(n){return arguments.length?(u=n,t=e=null,s):u},s.sortGroups=function(n){return arguments.length?(i=n,t=e=null,s):i},s.sortSubgroups=function(e){return arguments.length?(a=e,t=null,s):a},s.sortChords=function(e){return arguments.length?(l=e,t&&f(),s):l},s.chords=function(){return t||c(),t},s.groups=function(){return e||c(),e},s},o.layout.force=function(){var t,e,n,r,i,a={},l=o.dispatch("start","tick","end"),s=[1,1],u=.9,c=Bo,f=Io,h=-30,p=Lo,d=.1,g=.64,m=[],v=[];function y(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,l=i-n,s=o*o+a*a;if(l*l/g<s){if(s<p){var u=e.charge/s;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&s&&s<p){u=e.pointCharge/s;t.px-=o*u,t.py-=a*u}}return!e.charge}}function _(t){t.px=o.event.x,t.py=o.event.y,a.resume()}return a.tick=function(){if((e*=.99)<.005)return l.end({type:"end",alpha:e=0}),!0;var t,a,c,f,p,g,_,x,w,b=m.length,A=v.length;for(a=0;a<A;++a)f=(c=v[a]).source,(g=(x=(p=c.target).x-f.x)*x+(w=p.y-f.y)*w)&&(x*=g=e*r[a]*((g=Math.sqrt(g))-n[a])/g,w*=g,p.x-=x*(_=f.weight/(p.weight+f.weight)),p.y-=w*_,f.x+=x*(_=1-_),f.y+=w*_);if((_=e*d)&&(x=s[0]/2,w=s[1]/2,a=-1,_))for(;++a<b;)(c=m[a]).x+=(x-c.x)*_,c.y+=(w-c.y)*_;if(h)for(!function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var a,l=e.nodes,s=l.length,u=-1;++u<s;)null!=(a=l[u])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(t=o.geom.quadtree(m),e,i),a=-1;++a<b;)(c=m[a]).fixed||t.visit(y(c));for(a=-1;++a<b;)(c=m[a]).fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*u,c.y-=(c.py-(c.py=c.y))*u);l.tick({type:"tick",alpha:e})},a.nodes=function(t){return arguments.length?(m=t,a):m},a.links=function(t){return arguments.length?(v=t,a):v},a.size=function(t){return arguments.length?(s=t,a):s},a.linkDistance=function(t){return arguments.length?(c="function"==typeof t?t:+t,a):c},a.distance=a.linkDistance,a.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,a):f},a.friction=function(t){return arguments.length?(u=+t,a):u},a.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,a):h},a.chargeDistance=function(t){return arguments.length?(p=t*t,a):Math.sqrt(p)},a.gravity=function(t){return arguments.length?(d=+t,a):d},a.theta=function(t){return arguments.length?(g=t*t,a):Math.sqrt(g)},a.alpha=function(t){return arguments.length?(t=+t,e?e=t>0?t:0:t>0&&(l.start({type:"start",alpha:e=t}),o.timer(a.tick)),a):e},a.start=function(){var t,e,o,l=m.length,u=v.length,p=s[0],d=s[1];for(t=0;t<l;++t)(o=m[t]).index=t,o.weight=0;for(t=0;t<u;++t)"number"==typeof(o=v[t]).source&&(o.source=m[o.source]),"number"==typeof o.target&&(o.target=m[o.target]),++o.source.weight,++o.target.weight;for(t=0;t<l;++t)o=m[t],isNaN(o.x)&&(o.x=g("x",p)),isNaN(o.y)&&(o.y=g("y",d)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(n=[],"function"==typeof c)for(t=0;t<u;++t)n[t]=+c.call(this,v[t],t);else for(t=0;t<u;++t)n[t]=c;if(r=[],"function"==typeof f)for(t=0;t<u;++t)r[t]=+f.call(this,v[t],t);else for(t=0;t<u;++t)r[t]=f;if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,m[t],t);else for(t=0;t<l;++t)i[t]=h;function g(n,r){if(!e){for(e=new Array(l),s=0;s<l;++s)e[s]=[];for(s=0;s<u;++s){var i=v[s];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,a=e[t],s=-1,c=a.length;++s<c;)if(!isNaN(o=a[s][n]))return o;return Math.random()*r}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(t||(t=o.behavior.drag().origin(T).on("dragstart.force",So).on("drag.force",_).on("dragend.force",Eo)),!arguments.length)return t;this.on("mouseover.force",Do).on("mouseout.force",No).call(t)},o.rebind(a,l,"on")};var Bo=20,Io=1,Lo=1/0;function To(t,e){return o.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=jo,t}function Uo(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Po(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function zo(t){return t.children}function Fo(t){return t.value}function Ro(t,e){return e.value-t.value}function jo(t){return o.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}o.layout.hierarchy=function(){var t=Ro,e=zo,n=Fo;function r(i){var o,a=[i],l=[];for(i.depth=0;null!=(o=a.pop());)if(l.push(o),(u=e.call(r,o,o.depth))&&(s=u.length)){for(var s,u,c;--s>=0;)a.push(c=u[s]),c.parent=o,c.depth=o.depth+1;n&&(o.value=0),o.children=u}else n&&(o.value=+n.call(r,o,o.depth)||0),delete o.children;return Po(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),l}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Uo(t,(function(t){t.children&&(t.value=0)})),Po(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},o.layout.partition=function(){var t=o.layout.hierarchy(),e=[1,1];function n(n,r){var i=t.call(this,n,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,l,s,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(l=o[u],n,s=l.value*r,i),n+=s}}(i[0],0,e[0],e[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return n.size=function(t){return arguments.length?(e=t,n):e},To(n,t)},o.layout.pie=function(){var t=Number,e=$o,n=0,r=Dt,i=0;function a(l){var s,u=l.length,c=l.map((function(e,n){return+t.call(a,e,n)})),f=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof r?r.apply(this,arguments):r)-f,p=Math.min(Math.abs(h)/u,+("function"==typeof i?i.apply(this,arguments):i)),d=p*(h<0?-1:1),g=(h-u*d)/o.sum(c),m=o.range(u),v=[];return null!=e&&m.sort(e===$o?function(t,e){return c[e]-c[t]}:function(t,n){return e(l[t],l[n])}),m.forEach((function(t){v[t]={data:l[t],value:s=c[t],startAngle:f,endAngle:f+=s*g+d,padAngle:p}})),v}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(e=t,a):e},a.startAngle=function(t){return arguments.length?(n=t,a):n},a.endAngle=function(t){return arguments.length?(r=t,a):r},a.padAngle=function(t){return arguments.length?(i=t,a):i},a};var $o={};function Yo(t){return t.x}function Oo(t){return t.y}function Ho(t,e,n){t.y0=e,t.y=n}o.layout.stack=function(){var t=T,e=qo,n=Go,r=Ho,i=Yo,a=Oo;function l(s,u){if(!(p=s.length))return s;var c=s.map((function(e,n){return t.call(l,e,n)})),f=c.map((function(t){return t.map((function(t,e){return[i.call(l,t,e),a.call(l,t,e)]}))})),h=e.call(l,f,u);c=o.permute(c,h),f=o.permute(f,h);var p,d,g,m,v=n.call(l,f,u),y=c[0].length;for(g=0;g<y;++g)for(r.call(l,c[0][g],m=v[g],f[0][g][1]),d=1;d<p;++d)r.call(l,c[d][g],m+=f[d-1][g][1],f[d][g][1]);return s}return l.values=function(e){return arguments.length?(t=e,l):t},l.order=function(t){return arguments.length?(e="function"==typeof t?t:Qo.get(t)||qo,l):e},l.offset=function(t){return arguments.length?(n="function"==typeof t?t:Vo.get(t)||Go,l):n},l.x=function(t){return arguments.length?(i=t,l):i},l.y=function(t){return arguments.length?(a=t,l):a},l.out=function(t){return arguments.length?(r=t,l):r},l};var Qo=o.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(Wo),a=t.map(Xo),l=o.range(r).sort((function(t,e){return i[t]-i[e]})),s=0,u=0,c=[],f=[];for(e=0;e<r;++e)n=l[e],s<u?(s+=a[n],c.push(n)):(u+=a[n],f.push(n));return f.reverse().concat(c)},reverse:function(t){return o.range(t.length).reverse()},default:qo}),Vo=o.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],l=0,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>l&&(l=r),a.push(r)}for(n=0;n<o;++n)s[n]=(l-a[n])/2;return s},wiggle:function(t){var e,n,r,i,o,a,l,s,u,c=t.length,f=t[0],h=f.length,p=[];for(p[0]=s=u=0,n=1;n<h;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,l=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*l);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/l;o+=a*t[e][n][1]}p[n]=s-=i?o/i*l:0,s<u&&(u=s)}for(n=0;n<h;++n)p[n]-=u;return p},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,l=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)l[n]=0;return l},zero:Go});function qo(t){return o.range(t.length)}function Go(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function Wo(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function Xo(t){return t.reduce(Jo,0)}function Jo(t,e){return t+e[1]}function Zo(t,e){return Ko(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ko(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function ta(t){return[o.min(t),o.max(t)]}function ea(t,e){return t.value-e.value}function na(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function ra(t,e){t._pack_next=e,e._pack_prev=t}function ia(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function oa(t){if((e=t.children)&&(s=e.length)){var e,n,r,i,o,a,l,s,u=1/0,c=-1/0,f=1/0,h=-1/0;if(e.forEach(aa),(n=e[0]).x=-n.r,n.y=0,_(n),s>1&&((r=e[1]).x=r.r,r.y=0,_(r),s>2))for(sa(n,r,i=e[2]),_(i),na(n,i),n._pack_prev=i,na(i,r),r=n._pack_next,o=3;o<s;o++){sa(n,r,i=e[o]);var p=0,d=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,d++)if(ia(a,i)){p=1;break}if(1==p)for(l=n._pack_prev;l!==a._pack_prev&&!ia(l,i);l=l._pack_prev,g++);p?(d<g||d==g&&r.r<n.r?ra(n,r=a):ra(n=l,r),o--):(na(n,i),r=i,_(i))}var m=(u+c)/2,v=(f+h)/2,y=0;for(o=0;o<s;o++)(i=e[o]).x-=m,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(la)}function _(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function aa(t){t._pack_next=t._pack_prev=t}function la(t){delete t._pack_next,delete t._pack_prev}function sa(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,l=i*i+o*o,s=.5+((r*=r)-(a*=a))/(2*l),u=Math.sqrt(Math.max(0,2*a*(r+l)-(r-=l)*r-a*a))/(2*l);n.x=t.x+s*i+u*o,n.y=t.y+s*o-u*i}else n.x=t.x+r,n.y=t.y}function ua(t,e){return t.parent==e.parent?1:2}function ca(t){var e=t.children;return e.length?e[0]:t.t}function fa(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function ha(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function pa(t,e,n){return t.a.parent===e.parent?t.a:n}function da(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ga(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function ma(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function va(t){return t.rangeExtent?t.rangeExtent():ma(t.range())}function ya(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function _a(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}o.layout.histogram=function(){var t=!0,e=Number,n=ta,r=Zo;function i(i,a){for(var l,s,u=[],c=i.map(e,this),f=n.call(this,c,a),h=r.call(this,f,c,a),p=(a=-1,c.length),d=h.length-1,g=t?1:1/p;++a<d;)(l=u[a]=[]).dx=h[a+1]-(l.x=h[a]),l.y=0;if(d>0)for(a=-1;++a<p;)(s=c[a])>=f[0]&&s<=f[1]&&((l=u[o.bisect(h,s,1,d)-1]).y+=g,l.push(i[a]));return u}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=me(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return Ko(e,t)}:me(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},o.layout.pack=function(){var t,e=o.layout.hierarchy().sort(ea),n=0,r=[1,1];function i(i,o){var a=e.call(this,i,o),l=a[0],s=r[0],u=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(l.x=l.y=0,Po(l,(function(t){t.r=+c(t.value)})),Po(l,oa),n){var f=n*(t?1:Math.max(2*l.r/s,2*l.r/u))/2;Po(l,(function(t){t.r+=f})),Po(l,oa),Po(l,(function(t){t.r-=f}))}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var a=-1,l=o.length;++a<l;)t(o[a],n,r,i)}(l,s/2,u/2,t?1:1/Math.max(2*l.r/s,2*l.r/u)),a}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},To(i,e)},o.layout.tree=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ua,n=[1,1],r=null;function i(i,o){var u=t.call(this,i,o),c=u[0],f=function(t){var e,n={A:null,children:[t]},r=[n];for(;null!=(e=r.pop());)for(var i,o=e.children,a=0,l=o.length;a<l;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(Po(f,a),f.parent.m=-f.z,Uo(f,l),r)Uo(c,s);else{var h=c,p=c,d=c;Uo(c,(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var g=e(h,p)/2-h.x,m=n[0]/(p.x+e(p,h)/2+g),v=n[1]/(d.depth||1);Uo(c,(function(t){t.x=(t.x+g)*m,t.y=t.depth*v}))}return u}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){var e,n=0,r=0,i=t.children,o=i.length;for(;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,o=t,a=t,l=n,s=o.parent.children[0],u=o.m,c=a.m,f=l.m,h=s.m;l=fa(l),o=ca(o),l&&o;)s=ca(s),(a=fa(a)).a=t,(i=l.z+f-o.z-u+e(l._,o._))>0&&(ha(pa(l,t,r),t,i),u+=i,c+=i),f+=l.m,u+=o.m,h+=s.m,c+=a.m;l&&!fa(a)&&(a.t=l,a.m+=f-c),o&&!ca(s)&&(s.t=o,s.m+=u-h,r=t)}return r}(t,i,t.parent.A||r[0])}function l(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?s:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:s,i):r?n:null},To(i,t)},o.layout.cluster=function(){var t=o.layout.hierarchy().sort(null).value(null),e=ua,n=[1,1],r=!1;function i(i,a){var l,s=t.call(this,i,a),u=s[0],c=0;Po(u,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+o.max(t,(function(t){return t.y}))}(n)):(t.x=l?c+=e(t,l):0,t.y=0,l=t)}));var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(u),h=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(u),p=f.x-e(f,h)/2,d=h.x+e(h,f)/2;return Po(u,r?function(t){t.x=(t.x-u.x)*n[0],t.y=(u.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(u.y?t.y/u.y:1))*n[1]}),s}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},To(i,t)},o.layout.treemap=function(){var t,e=o.layout.hierarchy(),n=Math.round,r=[1,1],i=null,a=da,l=!1,s="squarify",u=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t){var e=t.children;if(e&&e.length){var n,r,i,o=a(t),l=[],u=e.slice(),h=1/0,g="slice"===s?o.dx:"dice"===s?o.dy:"slice-dice"===s?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(c(u,o.dx*o.dy/t.value),l.area=0;(i=u.length)>0;)l.push(n=u[i-1]),l.area+=n.area,"squarify"!==s||(r=p(l,g))<=h?(u.pop(),h=r):(l.area-=l.pop().area,d(l,g,o,!1),g=Math.min(o.dx,o.dy),l.length=l.area=0,h=1/0);l.length&&(d(l,g,o,!0),l.length=l.area=0),e.forEach(f)}}function h(t){var e=t.children;if(e&&e.length){var n,r=a(t),i=e.slice(),o=[];for(c(i,r.dx*r.dy/t.value),o.area=0;n=i.pop();)o.push(n),o.area+=n.area,null!=n.z&&(d(o,n.z?r.dx:r.dy,r,!i.length),o.length=o.area=0);e.forEach(h)}}function p(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,l=t.length;++a<l;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*u/r,r/(e*o*u)):1/0}function d(t,e,r,i){var o,a=-1,l=t.length,s=r.x,u=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++a<l;)(o=t[a]).x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(r.x+r.dx-s,c?n(o.area/c):0);o.z=!0,o.dx+=r.x+r.dx-s,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++a<l;)(o=t[a]).x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(r.y+r.dy-u,c?n(o.area/c):0);o.z=!1,o.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),o=i[0];return o.x=0,o.y=0,o.dx=r[0],o.dy=r[1],t&&e.revalue(o),c([o],o.dx*o.dy/o.value),(t?h:f)(o),l&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(g,e,e.depth);return null==n?da(e):ga(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return ga(e,t)}var r;return a=null==(i=t)?da:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(l=e,t=null,g):l},g.ratio=function(t){return arguments.length?(u=t,g):u},g.mode=function(t){return arguments.length?(s=t+"",g):s},To(g,e)},o.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=o.random.normal.apply(o,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=o.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},o.scale={};var xa={floor:T,ceil:T};function wa(t,e,n,r){var i=[],a=[],l=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<=s;)i.push(n(t[l-1],t[l])),a.push(r(e[l-1],e[l]));return function(e){var n=o.bisect(t,e,1,s)-1;return a[n](i[n](e))}}function ba(t,e){return o.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Aa(t,e){return _a(t,(n=Ma(t,e)[2])?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:xa);var n}function Ma(t,e){null==e&&(e=10);var n=ma(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function ka(t,e){return o.range.apply(o,Ma(t,e))}function Ca(t,e,n){var r=Ma(t,e);if(n){var i=Be.exec(n);if(i.shift(),"s"===i[8]){var a=o.formatPrefix(Math.max(b(r[0]),b(r[1])));return i[7]||(i[7]="."+Ea(a.scale(r[2]))),i[8]="f",n=o.format(i.join("")),function(t){return n(a.scale(t))+a.symbol}}i[7]||(i[7]="."+function(t,e){var n=Ea(e[2]);return t in Sa?Math.abs(n-Ea(Math.max(b(e[0]),b(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Ea(r[2])+"f";return o.format(n)}o.scale.linear=function(){return function t(e,n,r,i){var o,a;function l(){var t=Math.min(e.length,n.length)>2?wa:ya,l=i?Mo:Ao;return o=t(e,n,l,r),a=t(n,e,l,eo),s}function s(t){return o(t)}return s.invert=function(t){return a(t)},s.domain=function(t){return arguments.length?(e=t.map(Number),l()):e},s.range=function(t){return arguments.length?(n=t,l()):n},s.rangeRound=function(t){return s.range(t).interpolate(vo)},s.clamp=function(t){return arguments.length?(i=t,l()):i},s.interpolate=function(t){return arguments.length?(r=t,l()):r},s.ticks=function(t){return ka(e,t)},s.tickFormat=function(t,n){return Ca(e,t,n)},s.nice=function(t){return Aa(e,t),l()},s.copy=function(){return t(e,n,r,i)},l()}([0,1],[0,1],eo,!1)};var Sa={s:1,g:1,p:1,r:1,e:1};function Ea(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}o.scale.log=function(){return function t(e,n,r,i){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function l(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function s(t){return e(a(t))}return s.invert=function(t){return l(e.invert(t))},s.domain=function(t){return arguments.length?(r=t[0]>=0,e.domain((i=t.map(Number)).map(a)),s):i},s.base=function(t){return arguments.length?(n=+t,e.domain(i.map(a)),s):n},s.nice=function(){var t=_a(i.map(a),r?Math:Na);return e.domain(t),i=t.map(l),s},s.ticks=function(){var t=ma(i),e=[],o=t[0],s=t[1],u=Math.floor(a(o)),c=Math.ceil(a(s)),f=n%1?2:n;if(isFinite(c-u)){if(r){for(;u<c;u++)for(var h=1;h<f;h++)e.push(l(u)*h);e.push(l(u))}else for(e.push(l(u));u++<c;)for(h=f-1;h>0;h--)e.push(l(u)*h);for(u=0;e[u]<o;u++);for(c=e.length;e[c-1]>s;c--);e=e.slice(u,c)}return e},s.tickFormat=function(t,e){if(!arguments.length)return Da;arguments.length<2?e=Da:"function"!=typeof e&&(e=o.format(e));var n,i=Math.max(.1,t/s.ticks().length),u=r?(n=1e-12,Math.ceil):(n=-1e-12,Math.floor);return function(t){return t/l(u(a(t)+n))<=i?e(t):""}},s.copy=function(){return t(e.copy(),n,r,i)},ba(s,e)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var Da=o.format(".0e"),Na={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Ba(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}o.scale.pow=function(){return function t(e,n,r){var i=Ba(n),o=Ba(1/n);function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r},a.ticks=function(t){return ka(r,t)},a.tickFormat=function(t,e){return Ca(r,t,e)},a.nice=function(t){return a.domain(Aa(r,t))},a.exponent=function(t){return arguments.length?(i=Ba(n=t),o=Ba(1/n),e.domain(r.map(i)),a):n},a.copy=function(){return t(e.copy(),n,r)},ba(a,e)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function t(e,n){var r,i,a;function l(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(t,n){return o.range(e.length).map((function(e){return t+n*e}))}return l.domain=function(t){if(!arguments.length)return e;e=[],r=new k;for(var i,o=-1,a=t.length;++o<a;)r.has(i=t[o])||r.set(i,e.push(i));return l[n.t].apply(l,n.a)},l.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},l):i},l.rangePoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],u=t[1],c=e.length<2?(o=(o+u)/2,0):(u-o)/(e.length-1+r);return i=s(o+c*r/2,c),a=0,n={t:"rangePoints",a:arguments},l},l.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var o=t[0],u=t[1],c=e.length<2?(o=u=Math.round((o+u)/2),0):(u-o)/(e.length-1+r)|0;return i=s(o+Math.round(c*r/2+(u-o-(e.length-1+r)*c)/2),c),a=0,n={t:"rangeRoundPoints",a:arguments},l},l.rangeBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var u=t[1]<t[0],c=t[u-0],f=t[1-u],h=(f-c)/(e.length-r+2*o);return i=s(c+h*o,h),u&&i.reverse(),a=h*(1-r),n={t:"rangeBands",a:arguments},l},l.rangeRoundBands=function(t,r,o){arguments.length<2&&(r=0),arguments.length<3&&(o=r);var u=t[1]<t[0],c=t[u-0],f=t[1-u],h=Math.floor((f-c)/(e.length-r+2*o));return i=s(c+Math.round((f-c-(e.length-r)*h)/2),h),u&&i.reverse(),a=Math.round(h*(1-r)),n={t:"rangeRoundBands",a:arguments},l},l.rangeBand=function(){return a},l.rangeExtent=function(){return ma(n.a[0])},l.copy=function(){return t(e,n)},l.domain(e)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Ia)},o.scale.category20=function(){return o.scale.ordinal().range(La)},o.scale.category20b=function(){return o.scale.ordinal().range(Ta)},o.scale.category20c=function(){return o.scale.ordinal().range(Ua)};var Ia=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(le),La=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(le),Ta=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(le),Ua=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(le);function Pa(){return 0}o.scale.quantile=function(){return function t(e,n){var r;function i(){var t=0,i=n.length;for(r=[];++t<i;)r[t-1]=o.quantile(e,t/i);return a}function a(t){if(!isNaN(t=+t))return n[o.bisect(r,t)]}return a.domain=function(t){return arguments.length?(e=t.map(v).filter(y).sort(m),i()):e},a.range=function(t){return arguments.length?(n=t,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return t(e,n)},i()}([],[])},o.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function l(){return i=r.length/(n-e),o=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],l()):[e,n]},a.range=function(t){return arguments.length?(r=t,l()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return t(e,n,r)},l()}(0,1,[0,1])},o.scale.threshold=function(){return function t(e,n){function r(t){if(t<=t)return n[o.bisect(e,t)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return t(e,n)},r}([.5],[0,1])},o.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return ka(e,t)},n.tickFormat=function(t,n){return Ca(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},o.svg={},o.svg.arc=function(){var t=Fa,e=Ra,n=Pa,r=za,i=ja,o=$a,a=Ya;function l(){var l=Math.max(0,+t.apply(this,arguments)),u=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-Bt,f=o.apply(this,arguments)-Bt,h=Math.abs(f-c),p=c>f?0:1;if(u<l&&(d=u,u=l,l=d),h>=Nt)return s(u,p)+(l?s(l,1-p):"")+"Z";var d,g,m,v,y,_,x,w,b,A,M,k,C=0,S=0,E=[];if((v=(+a.apply(this,arguments)||0)/2)&&(m=r===za?Math.sqrt(l*l+u*u):+r.apply(this,arguments),p||(S*=-1),u&&(S=zt(m/u*Math.sin(v))),l&&(C=zt(m/l*Math.sin(v)))),u){y=u*Math.cos(c+S),_=u*Math.sin(c+S),x=u*Math.cos(f-S),w=u*Math.sin(f-S);var D=Math.abs(f-c-2*S)<=Et?0:1;if(S&&Oa(y,_,x,w)===p^D){var N=(c+f)/2;y=u*Math.cos(N),_=u*Math.sin(N),x=w=null}}else y=_=0;if(l){b=l*Math.cos(f-C),A=l*Math.sin(f-C),M=l*Math.cos(c+C),k=l*Math.sin(c+C);var B=Math.abs(c-f+2*C)<=Et?0:1;if(C&&Oa(b,A,M,k)===1-p^B){var I=(c+f)/2;b=l*Math.cos(I),A=l*Math.sin(I),M=k=null}}else b=A=0;if((d=Math.min(Math.abs(u-l)/2,+n.apply(this,arguments)))>.001){g=l<u^p?0:1;var L=null==M?[b,A]:null==x?[y,_]:ci([y,_],[M,k],[x,w],[b,A]),T=y-L[0],U=_-L[1],P=x-L[0],z=w-L[1],F=1/Math.sin(Math.acos((T*P+U*z)/(Math.sqrt(T*T+U*U)*Math.sqrt(P*P+z*z)))/2),R=Math.sqrt(L[0]*L[0]+L[1]*L[1]);if(null!=x){var j=Math.min(d,(u-R)/(F+1)),$=Ha(null==M?[b,A]:[M,k],[y,_],u,j,p),Y=Ha([x,w],[b,A],u,j,p);d===j?E.push("M",$[0],"A",j,",",j," 0 0,",g," ",$[1],"A",u,",",u," 0 ",1-p^Oa($[1][0],$[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",j,",",j," 0 0,",g," ",Y[0]):E.push("M",$[0],"A",j,",",j," 0 1,",g," ",Y[0])}else E.push("M",y,",",_);if(null!=M){var O=Math.min(d,(l-R)/(F-1)),H=Ha([y,_],[M,k],l,-O,p),Q=Ha([b,A],null==x?[y,_]:[x,w],l,-O,p);d===O?E.push("L",Q[0],"A",O,",",O," 0 0,",g," ",Q[1],"A",l,",",l," 0 ",p^Oa(Q[1][0],Q[1][1],H[1][0],H[1][1]),",",1-p," ",H[1],"A",O,",",O," 0 0,",g," ",H[0]):E.push("L",Q[0],"A",O,",",O," 0 0,",g," ",H[0])}else E.push("L",b,",",A)}else E.push("M",y,",",_),null!=x&&E.push("A",u,",",u," 0 ",D,",",p," ",x,",",w),E.push("L",b,",",A),null!=M&&E.push("A",l,",",l," 0 ",B,",",1-p," ",M,",",k);return E.push("Z"),E.join("")}function s(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return l.innerRadius=function(e){return arguments.length?(t=me(e),l):t},l.outerRadius=function(t){return arguments.length?(e=me(t),l):e},l.cornerRadius=function(t){return arguments.length?(n=me(t),l):n},l.padRadius=function(t){return arguments.length?(r=t==za?za:me(t),l):r},l.startAngle=function(t){return arguments.length?(i=me(t),l):i},l.endAngle=function(t){return arguments.length?(o=me(t),l):o},l.padAngle=function(t){return arguments.length?(a=me(t),l):a},l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Bt;return[Math.cos(r)*n,Math.sin(r)*n]},l};var za="auto";function Fa(t){return t.innerRadius}function Ra(t){return t.outerRadius}function ja(t){return t.startAngle}function $a(t){return t.endAngle}function Ya(t){return t&&t.padAngle}function Oa(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function Ha(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],l=(i?r:-r)/Math.sqrt(o*o+a*a),s=l*a,u=-l*o,c=t[0]+s,f=t[1]+u,h=e[0]+s,p=e[1]+u,d=(c+h)/2,g=(f+p)/2,m=h-c,v=p-f,y=m*m+v*v,_=n-r,x=c*p-h*f,w=(v<0?-1:1)*Math.sqrt(_*_*y-x*x),b=(x*v-m*w)/y,A=(-x*m-v*w)/y,M=(x*v+m*w)/y,k=(-x*m+v*w)/y,C=b-d,S=A-g,E=M-d,D=k-g;return C*C+S*S>E*E+D*D&&(b=M,A=k),[[b-s,A-u],[b*n/_,A*n/_]]}function Qa(t){var e=ii,n=oi,r=Wn,i=qa,o=i.key,a=.7;function l(o){var l,s=[],u=[],c=-1,f=o.length,h=me(e),p=me(n);function d(){s.push("M",i(t(u),a))}for(;++c<f;)r.call(this,l=o[c],c)?u.push([+h.call(this,l,c),+p.call(this,l,c)]):u.length&&(d(),u=[]);return u.length&&d(),s.length?s.join(""):null}return l.x=function(t){return arguments.length?(e=t,l):e},l.y=function(t){return arguments.length?(n=t,l):n},l.defined=function(t){return arguments.length?(r=t,l):r},l.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Va.get(t)||qa).key,l):o},l.tension=function(t){return arguments.length?(a=t,l):a},l}o.svg.line=function(){return Qa(T)};var Va=o.map({linear:qa,"linear-closed":function(t){return qa(t)+"Z"},step:function(t){var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];for(;++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":Ga,"step-after":Wa,basis:Za,"basis-open":function(t){if(t.length<4)return qa(t);var e,n=[],r=-1,i=t.length,o=[0],a=[0];for(;++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);n.push(Ka(nl,o)+","+Ka(nl,a)),--r;for(;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),rl(n,o,a);return n.join("")},"basis-closed":function(t){var e,n,r=-1,i=t.length,o=i+4,a=[],l=[];for(;++r<4;)n=t[r%i],a.push(n[0]),l.push(n[1]);e=[Ka(nl,a),",",Ka(nl,l)],--r;for(;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),l.shift(),l.push(n[1]),rl(e,a,l);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],l=t[n][0]-o,s=t[n][1]-a,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(o+i*l),r[1]=e*r[1]+(1-e)*(a+i*s);return Za(t)},cardinal:function(t,e){return t.length<3?qa(t):t[0]+Xa(t,Ja(t,e))},"cardinal-open":function(t,e){return t.length<4?qa(t):t[1]+Xa(t.slice(1,-1),Ja(t,e))},"cardinal-closed":function(t,e){return t.length<3?qa(t):t[0]+Xa((t.push(t[0]),t),Ja([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?qa(t):t[0]+Xa(t,function(t){var e,n,r,i,o=[],a=function(t){var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=il(i,o);for(;++e<n;)r[e]=(a+(a=il(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),l=-1,s=t.length-1;for(;++l<s;)e=il(t[l],t[l+1]),b(e)<St?a[l]=a[l+1]=0:(n=a[l]/e,r=a[l+1]/e,(i=n*n+r*r)>9&&(i=3*e/Math.sqrt(i),a[l]=i*n,a[l+1]=i*r));l=-1;for(;++l<=s;)i=(t[Math.min(s,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+a[l]*a[l])),o.push([i||0,a[l]*i||0]);return o}(t))}});function qa(t){return t.join("L")}function Ga(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Wa(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function Xa(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return qa(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],l=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),e.length>1){l=e[1],o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,s++)o=t[s],l=e[u],r+="S"+(o[0]-l[0])+","+(o[1]-l[1])+","+o[0]+","+o[1]}if(n){var c=t[s];r+="Q"+(o[0]+2*l[0]/3)+","+(o[1]+2*l[1]/3)+","+c[0]+","+c[1]}return r}function Ja(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],l=1,s=t.length;++l<s;)n=o,o=a,a=t[l],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Za(t){if(t.length<3)return qa(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],l=[o,o,o,r[1]],s=[i,",",o,"L",Ka(nl,a),",",Ka(nl,l)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),l.shift(),l.push(r[1]),rl(s,a,l);return t.pop(),s.push("L",r),s.join("")}function Ka(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Va.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var tl=[0,2/3,1/3,0],el=[0,1/3,2/3,0],nl=[0,1/6,2/3,1/6];function rl(t,e,n){t.push("C",Ka(tl,e),",",Ka(tl,n),",",Ka(el,e),",",Ka(el,n),",",Ka(nl,e),",",Ka(nl,n))}function il(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ol(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-Bt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function al(t){var e=ii,n=ii,r=0,i=oi,o=Wn,a=qa,l=a.key,s=a,u="L",c=.7;function f(l){var f,h,p,d=[],g=[],m=[],v=-1,y=l.length,_=me(e),x=me(r),w=e===n?function(){return h}:me(n),b=r===i?function(){return p}:me(i);function A(){d.push("M",a(t(m),c),u,s(t(g.reverse()),c),"Z")}for(;++v<y;)o.call(this,f=l[v],v)?(g.push([h=+_.call(this,f,v),p=+x.call(this,f,v)]),m.push([+w.call(this,f,v),+b.call(this,f,v)])):g.length&&(A(),g=[],m=[]);return g.length&&A(),d.length?d.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=i=t,f):i},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(i=t,f):i},f.defined=function(t){return arguments.length?(o=t,f):o},f.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Va.get(t)||qa).key,s=a.reverse||a,u=a.closed?"M":"L",f):l},f.tension=function(t){return arguments.length?(c=t,f):c},f}function ll(t){return t.radius}function sl(t){return[t.x,t.y]}function ul(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Bt;return[n*Math.cos(r),n*Math.sin(r)]}}function cl(){return 64}function fl(){return"circle"}function hl(t){var e=Math.sqrt(t/Et);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}o.svg.line.radial=function(){var t=Qa(ol);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ga.reverse=Wa,Wa.reverse=Ga,o.svg.area=function(){return al(T)},o.svg.area.radial=function(){var t=al(ol);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},o.svg.chord=function(){var t=Hr,e=Qr,n=ll,r=ja,i=$a;function o(n,r){var i,o,u=a(this,t,n,r),c=a(this,e,n,r);return"M"+u.p0+l(u.r,u.p1,u.a1-u.a0)+(o=c,(i=u).a0==o.a0&&i.a1==o.a1?s(u.r,u.p1,u.r,u.p0):s(u.r,u.p1,c.r,c.p0)+l(c.r,c.p1,c.a1-c.a0)+s(c.r,c.p1,u.r,u.p0))+"Z"}function a(t,e,o,a){var l=e.call(t,o,a),s=n.call(t,l,a),u=r.call(t,l,a)-Bt,c=i.call(t,l,a)-Bt;return{r:s,a0:u,a1:c,p0:[s*Math.cos(u),s*Math.sin(u)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function l(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Et)+",1 "+e}function s(t,e,n,r){return"Q 0,0 "+r}return o.radius=function(t){return arguments.length?(n=me(t),o):n},o.source=function(e){return arguments.length?(t=me(e),o):t},o.target=function(t){return arguments.length?(e=me(t),o):e},o.startAngle=function(t){return arguments.length?(r=me(t),o):r},o.endAngle=function(t){return arguments.length?(i=me(t),o):i},o},o.svg.diagonal=function(){var t=Hr,e=Qr,n=sl;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),l=(o.y+a.y)/2,s=[o,{x:o.x,y:l},{x:a.x,y:l},a];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(e){return arguments.length?(t=me(e),r):t},r.target=function(t){return arguments.length?(e=me(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},o.svg.diagonal.radial=function(){var t=o.svg.diagonal(),e=sl,n=t.projection;return t.projection=function(t){return arguments.length?n(ul(e=t)):e},t},o.svg.symbol=function(){var t=fl,e=cl;function n(n,r){return(pl.get(t.call(this,n,r))||hl)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=me(e),n):t},n.size=function(t){return arguments.length?(e=me(t),n):e},n};var pl=o.map({circle:hl,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*gl)),n=e*gl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/dl),n=e*dl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/dl),n=e*dl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});o.svg.symbolTypes=pl.keys();var dl=Math.sqrt(3),gl=Math.tan(30*It);X.transition=function(t){for(var e,n,r=_l||++bl,i=kl(t),o=[],a=xl||{time:Date.now(),ease:fo,delay:0,duration:250},l=-1,s=this.length;++l<s;){o.push(e=[]);for(var u=this[l],c=-1,f=u.length;++c<f;)(n=u[c])&&Cl(n,c,i,r,a),e.push(n)}return yl(o,i,r)},X.interrupt=function(t){return this.each(null==t?ml:vl(kl(t)))};var ml=vl(kl());function vl(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function yl(t,e,n){return Q(t,wl),t.namespace=e,t.id=n,t}var _l,xl,wl=[],bl=0;function Al(t,e,n,r){var i=t.id,o=t.namespace;return pt(t,"function"==typeof n?function(t,a,l){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,l)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Ml(t){return null==t&&(t=""),function(){this.textContent=t}}function kl(t){return null==t?"__transition__":"__transition_"+t+"__"}function Cl(t,e,n,r,i){var a=t[n]||(t[n]={active:0,count:0}),l=a[r];if(!l){var s=i.time;l=a[r]={tween:new k,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++a.count,o.timer((function(i){var u,c,f=l.delay,h=Ae,p=[];if(h.t=f+s,f<=i)return d(i-f);function d(n){if(a.active>r)return m();var i=a[a.active];i&&(--a.count,delete a[a.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),a.active=r,l.event&&l.event.start.call(t,t.__data__,e),l.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)})),c=l.ease,u=l.duration,o.timer((function(){return h.c=g(n||1)?Wn:g,1}),0,s)}function g(n){if(a.active!==r)return 1;for(var i=n/u,o=c(i),s=p.length;s>0;)p[--s].call(t,o);return i>=1?(l.event&&l.event.end.call(t,t.__data__,e),m()):void 0}function m(){return--a.count?delete a[r]:delete t[n],1}h.c=d}),0,s)}}wl.call=X.call,wl.empty=X.empty,wl.node=X.node,wl.size=X.size,o.transition=function(t,e){return t&&t.transition?_l?t.transition(e):t:o.selection().transition(t)},o.transition.prototype=wl,wl.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=J(t);for(var l=-1,s=this.length;++l<s;){a.push(e=[]);for(var u=this[l],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,l))?("__data__"in r&&(n.__data__=r.__data__),Cl(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return yl(a,o,i)},wl.selectAll=function(t){var e,n,r,i,o,a=this.id,l=this.namespace,s=[];t=Z(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],h=-1,p=f.length;++h<p;)if(r=f[h]){o=r[l][a],n=t.call(r,r.__data__,h,u),s.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&Cl(i,d,l,a,o),e.push(i)}return yl(s,l,a)},wl.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var i=0,o=this.length;i<o;i++){r.push(e=[]);for(var a,l=0,s=(a=this[i]).length;l<s;l++)(n=a[l])&&t.call(n,n.__data__,l,i)&&e.push(n)}return yl(r,this.namespace,this.id)},wl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):pt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},wl.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?bo:eo,r=o.ns.qualify(t);function i(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}function l(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function s(t){return null==t?a:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Al(this,"attr."+t,e,r.local?s:l)},wl.attrTween=function(t,e){var n=o.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},wl.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function o(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=eo(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Al(this,"style."+t,e,o)},wl.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},wl.text=function(t){return Al(this,"text",t,Ml)},wl.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},wl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=o.ease.apply(o,arguments)),pt(this,(function(r){r[n][e].ease=t})))},wl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:pt(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},wl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:pt(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},wl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=xl,a=_l;try{_l=n,pt(this,(function(e,i,o){xl=e[r][n],t.call(e,e.__data__,i,o)}))}finally{xl=i,_l=a}}else pt(this,(function(i){var a=i[r][n];(a.event||(a.event=o.dispatch("start","end","interrupt"))).on(t,e)}));return this},wl.transition=function(){for(var t,e,n,r=this.id,i=++bl,o=this.namespace,a=[],l=0,s=this.length;l<s;l++){a.push(t=[]);for(var u,c=0,f=(u=this[l]).length;c<f;c++)(e=u[c])&&Cl(e,c,o,i,{time:(n=e[o][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return yl(a,o,i)},o.svg.axis=function(){var t,e=o.scale.linear(),n=Sl,r=6,i=6,a=3,l=[10],s=null;function u(u){u.each((function(){var u,c=o.select(this),f=this.__chart__||e,h=this.__chart__=e.copy(),p=null==s?h.ticks?h.ticks.apply(h,l):h.domain():s,d=null==t?h.tickFormat?h.tickFormat.apply(h,l):T:t,g=c.selectAll(".tick").data(p,h),m=g.enter().insert("g",".domain").attr("class","tick").style("opacity",St),v=o.transition(g.exit()).style("opacity",St).remove(),y=o.transition(g.order()).style("opacity",1),_=Math.max(r,0)+a,x=va(h),w=c.selectAll(".domain").data([0]),b=(w.enter().append("path").attr("class","domain"),o.transition(w));m.append("line"),m.append("text");var A,M,k,C,S=m.select("line"),E=y.select("line"),D=g.select("text").text(d),N=m.select("text"),B=y.select("text"),I="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(u=Dl,A="x",k="y",M="x2",C="y2",D.attr("dy",I<0?"0em":".71em").style("text-anchor","middle"),b.attr("d","M"+x[0]+","+I*i+"V0H"+x[1]+"V"+I*i)):(u=Nl,A="y",k="x",M="y2",C="x2",D.attr("dy",".32em").style("text-anchor",I<0?"end":"start"),b.attr("d","M"+I*i+","+x[0]+"H0V"+x[1]+"H"+I*i)),S.attr(C,I*r),N.attr(k,I*_),E.attr(M,0).attr(C,I*r),B.attr(A,0).attr(k,I*_),h.rangeBand){var L=h,U=L.rangeBand()/2;f=h=function(t){return L(t)+U}}else f.rangeBand?f=h:v.call(u,h,f);m.call(u,f,h),y.call(u,h,h)}))}return u.scale=function(t){return arguments.length?(e=t,u):e},u.orient=function(t){return arguments.length?(n=t in El?t+"":Sl,u):n},u.ticks=function(){return arguments.length?(l=arguments,u):l},u.tickValues=function(t){return arguments.length?(s=t,u):s},u.tickFormat=function(e){return arguments.length?(t=e,u):t},u.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],u):r},u.innerTickSize=function(t){return arguments.length?(r=+t,u):r},u.outerTickSize=function(t){return arguments.length?(i=+t,u):i},u.tickPadding=function(t){return arguments.length?(a=+t,u):a},u.tickSubdivide=function(){return arguments.length&&u},u};var Sl="bottom",El={top:1,right:1,bottom:1,left:1};function Dl(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Nl(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}o.svg.brush=function(){var t,e,n=O(h,"brushstart","brush","brushend"),r=null,i=null,a=[0,0],l=[0,0],s=!0,u=!0,f=Il[0];function h(t){t.each((function(){var t=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",m).on("touchstart.brush",m),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(f,T);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Bl[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var a,l=o.transition(t),s=o.transition(e);r&&(a=va(r),s.attr("x",a[0]).attr("width",a[1]-a[0]),d(l)),i&&(a=va(i),s.attr("y",a[0]).attr("height",a[1]-a[0]),g(l)),p(l)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+a[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",a[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",a[1]-a[0])}function g(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function m(){var f,m,v=this,y=o.select(o.event.target),_=n.of(v,arguments),x=o.select(v),w=y.datum(),b=!/^(n|s)$/.test(w)&&r,A=!/^(e|w)$/.test(w)&&i,M=y.classed("extent"),k=At(v),C=o.mouse(v),S=o.select(c(v)).on("keydown.brush",N).on("keyup.brush",B);if(o.event.changedTouches?S.on("touchmove.brush",I).on("touchend.brush",T):S.on("mousemove.brush",I).on("mouseup.brush",T),x.interrupt().selectAll("*").interrupt(),M)C[0]=a[0]-C[0],C[1]=l[0]-C[1];else if(w){var E=+/w$/.test(w),D=+/^n/.test(w);m=[a[1-E]-C[0],l[1-D]-C[1]],C[0]=a[E],C[1]=l[D]}else o.event.altKey&&(f=C.slice());function N(){32==o.event.keyCode&&(M||(f=null,C[0]-=a[1],C[1]-=l[1],M=2),$())}function B(){32==o.event.keyCode&&2==M&&(C[0]+=a[1],C[1]+=l[1],M=0,$())}function I(){var t=o.mouse(v),e=!1;m&&(t[0]+=m[0],t[1]+=m[1]),M||(o.event.altKey?(f||(f=[(a[0]+a[1])/2,(l[0]+l[1])/2]),C[0]=a[+(t[0]<f[0])],C[1]=l[+(t[1]<f[1])]):f=null),b&&L(t,r,0)&&(d(x),e=!0),A&&L(t,i,1)&&(g(x),e=!0),e&&(p(x),_({type:"brush",mode:M?"move":"resize"}))}function L(n,r,i){var o,c,h=va(r),p=h[0],d=h[1],g=C[i],m=i?l:a,v=m[1]-m[0];if(M&&(p-=g,d-=v+g),o=(i?u:s)?Math.max(p,Math.min(d,n[i])):n[i],M?c=(o+=g)+v:(f&&(g=Math.max(p,Math.min(d,2*f[i]-o))),g<o?(c=o,o=g):c=g),m[0]!=o||m[1]!=c)return i?e=null:t=null,m[0]=o,m[1]=c,!0}function T(){I(),x.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),_({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",y.style("cursor")),_({type:"brushstart"}),I()}return h.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:a,y:l,i:t,j:e},s=this.__chart__||i;this.__chart__=i,_l?o.select(this).transition().each("start.brush",(function(){t=s.i,e=s.j,a=s.x,l=s.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=no(a,i.x),o=no(l,i.y);return t=e=null,function(t){a=i.x=n(t),l=i.y=o(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},h.x=function(t){return arguments.length?(f=Il[!(r=t)<<1|!i],h):r},h.y=function(t){return arguments.length?(f=Il[!r<<1|!(i=t)],h):i},h.clamp=function(t){return arguments.length?(r&&i?(s=!!t[0],u=!!t[1]):r?s=!!t:i&&(u=!!t),h):r&&i?[s,u]:r?s:i?u:null},h.extent=function(n){var o,s,u,c,f;return arguments.length?(r&&(o=n[0],s=n[1],i&&(o=o[0],s=s[0]),t=[o,s],r.invert&&(o=r(o),s=r(s)),s<o&&(f=o,o=s,s=f),o==a[0]&&s==a[1]||(a=[o,s])),i&&(u=n[0],c=n[1],r&&(u=u[1],c=c[1]),e=[u,c],i.invert&&(u=i(u),c=i(c)),c<u&&(f=u,u=c,c=f),u==l[0]&&c==l[1]||(l=[u,c])),h):(r&&(t?(o=t[0],s=t[1]):(o=a[0],s=a[1],r.invert&&(o=r.invert(o),s=r.invert(s)),s<o&&(f=o,o=s,s=f))),i&&(e?(u=e[0],c=e[1]):(u=l[0],c=l[1],i.invert&&(u=i.invert(u),c=i.invert(c)),c<u&&(f=u,u=c,c=f))),r&&i?[[o,u],[s,c]]:r?[o,s]:i&&[u,c])},h.clear=function(){return h.empty()||(a=[0,0],l=[0,0],t=e=null),h},h.empty=function(){return!!r&&a[0]==a[1]||!!i&&l[0]==l[1]},o.rebind(h,n,"on")};var Bl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Il=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ll=Te.format=cn.timeFormat,Tl=Ll.utc,Ul=Tl("%Y-%m-%dT%H:%M:%S.%LZ");function Pl(t){return t.toISOString()}function zl(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=o.bisect(Rl,r);return i==Rl.length?[e.year,Ma(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/Rl[i-1]<Rl[i]/r?i-1:i]:[Yl,Ma(t,n)[2]]}return r.invert=function(e){return Fl(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Fl)},r.nice=function(t,e){var n=r.domain(),o=ma(n),a=null==t?i(o,10):"number"==typeof t&&i(o,t);function l(n){return!isNaN(n)&&!t.range(n,Fl(+n+1),e).length}return a&&(t=a[0],e=a[1]),r.domain(_a(n,e>1?{floor:function(e){for(;l(e=t.floor(e));)e=Fl(e-1);return e},ceil:function(e){for(;l(e=t.ceil(e));)e=Fl(+e+1);return e}}:t))},r.ticks=function(t,e){var n=ma(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Fl(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return zl(t.copy(),e,n)},ba(r,t)}function Fl(t){return new Date(t)}Ll.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Pl:Ul,Pl.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Pl.toString=Ul.toString,Te.second=Fe((function(t){return new Ue(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),Te.seconds=Te.second.range,Te.seconds.utc=Te.second.utc.range,Te.minute=Fe((function(t){return new Ue(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),Te.minutes=Te.minute.range,Te.minutes.utc=Te.minute.utc.range,Te.hour=Fe((function(t){var e=t.getTimezoneOffset()/60;return new Ue(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),Te.hours=Te.hour.range,Te.hours.utc=Te.hour.utc.range,Te.month=Fe((function(t){return(t=Te.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),Te.months=Te.month.range,Te.months.utc=Te.month.utc.range;var Rl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],jl=[[Te.second,1],[Te.second,5],[Te.second,15],[Te.second,30],[Te.minute,1],[Te.minute,5],[Te.minute,15],[Te.minute,30],[Te.hour,1],[Te.hour,3],[Te.hour,6],[Te.hour,12],[Te.day,1],[Te.day,2],[Te.week,1],[Te.month,1],[Te.month,3],[Te.year,1]],$l=Ll.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Wn]]),Yl={range:function(t,e,n){return o.range(Math.ceil(t/n)*n,+e,n).map(Fl)},floor:T,ceil:T};jl.year=Te.year,Te.scale=function(){return zl(o.scale.linear(),jl,$l)};var Ol=jl.map((function(t){return[t[0].utc,t[1]]})),Hl=Tl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Wn]]);function Ql(t){return JSON.parse(t.responseText)}function Vl(t){var e=s.createRange();return e.selectNode(s.body),e.createContextualFragment(t.responseText)}Ol.year=Te.year.utc,Te.scale.utc=function(){return zl(o.scale.linear(),Ol,Hl)},o.text=ve((function(t){return t.responseText})),o.json=function(t,e){return ye(t,"application/json",Ql,e)},o.html=function(t,e){return ye(t,"text/html",Vl,e)},o.xml=ve((function(t){return t.responseXML})),void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i),this.d3=o}()},2036:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return'<div class="sc-font-light medium profileUploadFooter__text">'+s((n(2)||e&&e.$t||l).call(a,"More uploads means more listeners.",{name:"$t",hash:{},data:o}))+'</div>\n<a href="'+s((n(16)||e&&e.$route||l).call(a,"upload",{name:"$route",hash:{},data:o}))+'" class="sc-button sc-button-cta sc-button-medium sc-font-light profileUploadFooter__cta">\n   '+s((n(2)||e&&e.$t||l).call(a,"Upload more",{name:"$t",hash:{},data:o}))+"\n</a>\n"},useData:!0})},2037:function(t,e,n){var r=n(10),i=n(2038);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},2038:function(t,e,n){(e=n(11)(!1)).push([t.i,".profileUploadFooter{position:relative;margin:10px 0 0;border-radius:2px;background-color:#fff;text-align:center;padding-bottom:45px}.profileUploadFooter__text{padding:15px 0}",""]),t.exports=e},2039:function(t,e,n){(function(e){t.exports=n(143).extend(n(317),n(318),{defaults:{type:"spotlight"},model:n(415),baseUrl:function(){return this.getEndpointUrl("userSpotlight",{id:this.options.userId})},add:function(){return n(143).prototype.add.apply(this,arguments),this.length>5&&this.remove(this.models.slice(5)),this},parse:function(t){return t.collection.slice(0,5).map((function(t){var e="playlist"===t.kind;return{type:e?"playlist_spotlight":"track_spotlight",created_at:t.display_date,track:e?null:t,playlist:e?t:null}}))},getMaxItemCount:function(){return 5},getCurrentOrder:function(){return this.map((function(t){return(t.get("playlist")||t.get("track")).id}))},getCurrentUrns:function(){return this.map((function(t){return t.audible.getUrn()}))},reorder:function(t){this.sort({silent:!0,comparator:function(e){return t.indexOf(e.audible.id)}})},resetOrder:function(){return this.fetch({reset:!0})},saveOrder:function(){return this.save()},save:function(){var t=this.getCurrentUrns();return e.ajax(n(0).result(this,"baseUrl"),{type:"PUT",data:JSON.stringify({spotlight:t}),dataType:"json",contentType:"application/json"})}})}).call(this,n(14))},2043:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3IiBoZWlnaHQ9IjEyIiB2aWV3Qm94PSIwIDAgNyAxMiI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMy43NzIgMTEuMlY5Ljk3NmMuNzkyLS4xMDQgMS4zODYtLjM2NiAxLjc4Mi0uNzg2LjM5Ni0uNDIuNTk0LS45NzQuNTk0LTEuNjYyIDAtLjM3Ni0uMDYtLjY5NC0uMTgtLjk1NHMtLjI5Ni0uNDgyLS41MjgtLjY2NmMtLjIzMi0uMTg0LS41MTQtLjM0Mi0uODQ2LS40NzQtLjMzMi0uMTMyLS43MS0uMjYyLTEuMTM0LS4zOS0uNzM2LS4yMjQtMS4yMjItLjQyMi0xLjQ1OC0uNTk0cy0uMzU0LS40MDItLjM1NC0uNjljMC0uMjguMTEyLS41MS4zMzYtLjY5LjIyNC0uMTguNTc2LS4yNyAxLjA1Ni0uMjcuNDMyIDAgLjc5NC4wNzQgMS4wODYuMjIyLjI5Mi4xNDguNTg2LjM1Ljg4Mi42MDZsLjg3Ni0uODg4Yy0uMjk2LS4yOTYtLjYxOC0uNTM4LS45NjYtLjcyNi0uMzQ4LS4xODgtLjczLS4zMTQtMS4xNDYtLjM3OFYuNGgtMS4yNnYxLjIzNmMtLjYwOC4wOTYtMS4xMTguMzM2LTEuNTMuNzItLjQxMi4zODQtLjYxOC44ODgtLjYxOCAxLjUxMiAwIC4zNi4wNTQuNjY2LjE2Mi45MTguMTA4LjI1Mi4yNy40NjYuNDg2LjY0Mi4yMTYuMTc2LjQ4OC4zMzIuODE2LjQ2OC4zMjguMTM2LjcxNi4yNjggMS4xNjQuMzk2LjY5Ni4yMDggMS4xODIuNDA2IDEuNDU4LjU5NC4yNzYuMTg4LjQxNC40NDYuNDE0Ljc3NCAwIC4zNjgtLjEzOC42NS0uNDE0Ljg0Ni0uMjc2LjE5Ni0uNzE0LjI5NC0xLjMxNC4yOTQtLjM5MiAwLS43NjgtLjA4LTEuMTI4LS4yNC0uMzYtLjE2LS42OTItLjQwNC0uOTk2LS43MzJsLS45Ni44MTZjLjI3Mi4zNTIuNjI2LjY0NiAxLjA2Mi44ODIuNDM2LjIzNi45MDIuMzg2IDEuMzk4LjQ1VjExLjJoMS4yNnoiLz4KPC9zdmc+Cg=="},2052:function(t,e,n){t.exports=n(91).extend(n(231),{className:"soundList",itemClassName:"soundList__item",css:[n(1896),n(1891)],emptyTemplate:n(1892),defaults:{showEndView:!0,showUploadFooter:!1},events:{"click .emptyNetworkPage__button > a":function(){n(12).trackUploadFunnel({chapter:"upload_button_user_profile"})}},Subview:n(289),setup:function(t){var e=t.resource_id;this.collection=new(n(411))(null,{userId:e,keepBlocked:!1}),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:["username"]}),t.showUploadFooter&&(this.EndOfListView=n(1986))},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).t("Seems a little quiet over here"),t.linkUrl=t.buttonUrl=n(20).getRoute("upload"),t.linkText=n(1).t("Upload a track to share it with your followers."),t.buttonText=n(1).t("Upload now")):(t.message=n(1).t("Nothing to hear here"),t.subheaderMessage=n(1).t("Follow [[username]] for updates on sounds they share in the future.",{username:this.user.get("username")})),t.emptyPageClass="emptyTracks",t}})},2073:function(t,e,n){t.exports=n(5).extend(n(59),{defaults:{size:"medium",show_icon:!0},tagName:"a",buttonLabels:{default:{text:n(1).t("Message"),title:n(1).t("Send a message")}},attributes:{href:""},states:{icon:"sc-button-message"},ModelClass:n(30),modal:null,setup:function(t){this.toggleState("icon",t.show_icon)},onClick:function(t){t.preventDefault(),this.modal||(this.modal=new(n(1990))({togglerEl:this.el,subviewArgs:{resource_id:this.model?this.model.id:null}})),n(8).trigger("messages:write-new"),n(12).trackV0Click(["messages","write-new-clicked"]),this.modal.open()}})},2074:function(t,e,n){t.exports=n(5).extend(n(59),{className:"reportButton",defaults:{responsive:!1,showUserName:!1,showIcon:!1},buttonLabels:{default:function(){return this.options.showUserName?n(1).t("Report [[username]]",{username:this.model.get("username")}):n(1).t("Report")}},ModelClass:n(30),modal:null,setup:function(t){var e=t.showIcon;this.$el.toggleClass("sc-button-block",e)},onClick:function(t){t.preventDefault(),r.call(this)}});function r(){this.modal||(this.modal=new(n(44))({togglerEl:this.el,width:520,Subview:n(654),subviewArgs:{resource_id:this.options.resource_id}})),this.modal.open()}},2079:function(t,e,n){t.exports=new(n(15))({applyTo:function(t){t.css?(Array.isArray(t.css)||(t.css=[t.css]),t.css.push(n(1998))):t.css=n(1998),t.className&&!/\bupsellBanner\b/.test(t.className)&&(t.className+=" upsellBanner")}})},2080:function(t,e,n){var r=n(11),i=n(27),o=n(2081);e=r(!1);var a=i(o);e.push([t.i,".upsellBanner{display:none;position:relative;padding:23px 30px}.upsellBanner.expanded{display:block}.upsellBanner__title{font-size:18px;color:#fff;padding:0 0 4px}.upsellBanner__copy{padding-bottom:4px}.upsellBanner__close{position:absolute;top:10px;right:10px;width:15px;height:15px;border:0;padding:0;display:block;background:url("+a+") 50% no-repeat;cursor:pointer}@media (max-width:1079px){.upsellBanner{background-image:none}}",""]),t.exports=e},2081:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAQAAACR313BAAABC0lEQVR4AV3KMWsUURQF4O/e6RVCIgFB2EyyxYI2g4ZAkBQGrayEgZVg438SO2EhaBlQjH9AUTIIgihYCEKqFcEFW5/rvkq/4t4D5wTV6Egf+y76Wd44NgNiBNtxEpNAKCjKaXnonFyVr3OSUgr15514b5PUxNPcSAGqEHIjHoeMaXaJe/ZVN92vg7ulz+gDLOw6wKHr5tTBUcZegFc+6zxwzUcvQYgurQHhuYV1373QqKxlzFVuu+CXdQcq/MjyDrjlqg8e+eKGPZUhPQEuGZwKJz4Zqcy0zc7ZuIzLVmmXt6at1d85a5toxZV8a9P/5r93fc3g2zIM/jX8LYltVfQx1bns3FCeOQb+ANlbSmVcuz2DAAAAAElFTkSuQmCC"},2098:function(t,e,n){t.exports=new(n(15))(n(295).withOptions({names:["v2_direct_support_link"]}),{merge:{defaults:{userId:null}},after:{setup:function(){var t=this.ModelClass===n(30)&&(this.options.resource_id||this.options._id)||this.options.userId;this._userWebProfiles=new(n(414))(null,{userId:t}),this.addDataSource(this._userWebProfiles),this.listenTo(this,"update:collection",this.rerender)}},getDirectSupportProfile:function(){return this.getRollout("v2_direct_support_link")&&this._userWebProfiles.getDirectSupportProfile()}})},2099:function(t,e,n){t.exports=n(5).extend({tagName:"article",className:"directSupport",template:n(2100),css:n(2101),ModelClass:n(30),requiredAttributes:["username"],defaults:{profile:null},events:{"click .directSupport__button":function(){n(12).trackV1Click({click_name:"covid_support_link::click",click_object:this.model.getUrn(),click_category:"engagement"})}},getTemplateData:function(){var t=this.options.profile;return{profileUrl:n(95).formatUserGeneratedLink(t.get("url")),username:this.model.get("username")}}})},2100:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<div class="directSupport__box">\n  <p class="directSupport__copy sc-font-light">\n    '+u((n(2)||e&&e.$t||s).call(l,"The COVID-19 virus has impacted the creative community around the world. Show support for your favorite creators. [[[linkBegin]]]Learn more[[[linkEnd]]]",{name:"$t",hash:{linkEnd:"</a>",linkBegin:'<a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'},data:o}))+'\n  </p>\n  <a href="'+u("function"==typeof(a=null!=(a=r.profileUrl||(null!=e?e.profileUrl:e))?a:s)?a.call(l,{name:"profileUrl",hash:{},data:o}):a)+'" target="_blank" class="sc-button sc-button-large directSupport__button">\n    <span class="directSupport__buttonIcon"></span>\n    <span class="directSupport__buttonLabel">\n      '+u((n(2)||e&&e.$t||s).call(l,"Support [[username]]",{name:"$t",hash:{username:(n(187)||e&&e.$normalize||s).call(l,null!=e?e.username:e,{name:"$normalize",hash:{},data:o})},data:o}))+"\n    </span>\n  </a>\n</div>\n"},useData:!0})},2101:function(t,e,n){var r=n(10),i=n(2102);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},2102:function(t,e,n){var r=n(11),i=n(27),o=n(2103),a=n(2104),l=n(2043);e=r(!1);var s=i(o),u=i(a),c=i(l);e.push([t.i,".directSupport{margin-bottom:30px}.directSupport__box{border-radius:3px;background-color:#2b70b6;background-image:url("+s+");background-position:0 0;background-size:100% auto;padding:15px}@media (-webkit-min-device-pixel-ratio:2),(min-resolution:2dppx),(min-resolution:192dpi){.directSupport__box{background-image:url("+u+')}}.directSupport__copy{margin-bottom:12px;color:#fff}.directSupport__copy a{color:#fff;text-decoration:underline}.directSupport__button{display:block;overflow:hidden;text-overflow:ellipsis}.directSupport__button,.directSupport__button:focus,.directSupport__button:hover,.directSupport__button:visited{background-color:#38d;border-color:#38d;color:#fff}.directSupport__buttonIcon{position:relative;display:inline-block;width:18px;height:18px;margin-right:2px;margin-bottom:-3px;overflow:hidden}.directSupport__buttonIcon:before{content:"";display:inline-block;width:18px;height:18px;background-color:rgba(0,0,0,.175);border-radius:50%;background-image:url('+c+");background-repeat:no-repeat;background-position:50%}",""]),t.exports=e},2103:function(t,e,n){t.exports=n.p+"assets/images/direct-support-bg-ad2384d0.jpg"},2104:function(t,e,n){t.exports=n.p+"assets/images/direct-support-bg@2x-05c2898f.jpg"},2576:function(t,e,n){t.exports=n(5).extend({template:n(2577),css:n(2580),className:"commentBadge",ModelClass:n(181),requiredAttributes:["user"],defaults:{compact:!0},states:{canDelete:"canDelete",dialogOpen:"dialogOpen"},initialize:function(){this.bubbleEvents={},this.bubbleEvents[n(239).TOGGLE]="onDeleteDialogToggle",n(5).prototype.initialize.apply(this,arguments)},renderDecorate:function(){this.toggleState("canDelete",n(3).get("me").owns(this.model))},onDeleteDialogToggle:function(){this.toggleState("dialogOpen",this.subviews.deleteCommentButton.isOverlayOpened())},getTemplateData:function(t){t.canDelete=n(3).get("me").owns(this.model)}})},2577:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return" sc-font-light"},3:function(t,e,r,i,o){return t.escapeExpression((n(1945)||e&&e.$usertextOneline||r.helperMissing).call(null!=e?e:t.nullContext||{},null!=e?e.body:e,{name:"$usertextOneline",hash:{maxLength:200,links:!1},data:o}))},5:function(t,e,r,i,o){return t.escapeExpression((n(1917)||e&&e.$usertext||r.helperMissing).call(null!=e?e:t.nullContext||{},null!=e?e.body:e,{name:"$usertext",hash:{paragraphs:!1},data:o}))},7:function(t,e,r,i,o){return'  <div class="commentBadge__deleteCommentButton">\n    '+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(2006),{name:"$view",hash:{size:null!=e?e.button_size:e,key:"deleteCommentButton",resource_id:null!=e?e._resource_id:e},data:o}))+"\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<div class="commentBadge__title">\n  \x3c!-- TODO When sound model will be included in comment we don\'t need this --\x3e\n  '+u((n(4)||e&&e.$view||s).call(l,n(2578),{name:"$view",hash:{resource_id:null!=e?e.track_id:e},data:o}))+'\n</div>\n<div class="commentBadge__body'+(null!=(a=r.unless.call(l,null!=(a=null!=e?e._options:e)?a.compact:a,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'">'+(null!=(a=r.if.call(l,null!=(a=null!=e?e._options:e)?a.compact:a,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.program(5,o,0),data:o}))?a:"")+'</div>\n<span class="commentBadge__time sc-text-light">\n  '+u((n(4)||e&&e.$view||s).call(l,n(235),{name:"$view",hash:{timestamp:null!=e?e.created_at:e},data:o}))+"\n</span>\n"+(null!=(a=r.if.call(l,null!=e?e.canDelete:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?a:"")},useData:!0})},2578:function(t,e,n){t.exports=n(5).extend({template:function(t){return n(1).t("on [[[linkToTrack]]]",{linkToTrack:n(2579)(t)})},ModelClass:n(18),requiredAttributes:["title","permalink"],defaults:{noFollow:!1}})},2579:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return'rel="nofollow"'},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l,s=null!=e?e:t.nullContext||{},u=r.helperMissing,c=t.escapeExpression;return'<a class="sc-link-light" href="'+c((n(16)||e&&e.$route||u).call(s,"listen",e,{name:"$route",hash:{},data:o}))+'" '+(null!=(a=r.if.call(s,null!=e?e.noFollow:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+">"+c("function"==typeof(l=null!=(l=r.title||(null!=e?e.title:e))?l:u)?l.call(s,{name:"title",hash:{},data:o}):l)+"</a>"},useData:!0})},2580:function(t,e,n){var r=n(10),i=n(2581);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},2581:function(t,e,n){(e=n(11)(!1)).push([t.i,'.commentBadge{position:relative;overflow:hidden}.commentBadge__title{margin-right:70px}.commentBadge:hover .commentBadge__title a{color:#333}.commentBadge__time{color:#ccc;position:absolute;right:0;top:0}.commentBadge__deleteCommentButton{display:none;position:absolute;top:5px;right:7px}.commentBadge.dialogOpen .commentBadge__deleteCommentButton,.commentBadge:hover .commentBadge__deleteCommentButton{display:block}.commentBadge.canDelete:hover .commentBadge__time,.commentBadge.dialogOpen .commentBadge__time{display:none}.commentBadge__body:before{content:"“"}.commentBadge__body:after{content:"”"}',""]),t.exports=e},2582:function(t,e,n){t.exports=n(143).extend({model:n(181),defaults:{type:"comments"},baseUrl:function(){return this.getEndpointUrl("userComments",{id:this.options.userId})}})},2583:function(t,e,n){t.exports=n(91).extend(n(231),{Subview:n(289),css:[n(1896),n(1891)],className:"soundList",itemClassName:"soundList__item",emptyTemplate:n(1892),defaults:{showEndView:!0},user:null,setup:function(t){var e=t.resource_id;this.collection=new(n(1906))(null,{userId:e}),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:["username"]})},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).t("You haven’t created any playlists."),t.linkUrl="https://help.soundcloud.com/hc/articles/115003449787-Creating-and-adding-tracks-to-a-playlist",t.linkExternal=!0,t.linkText=n(1).t("Learn about playlists")):t.message=n(1).t("[[username]] hasn’t created any playlists yet.",{username:this.user.get("username")}),t.emptyPageClass="emptySets",t}})},2584:function(t,e,n){t.exports=n(5).extend({template:n(3735),className:"userStreamItem",defaults:{userStreamItem:null,userId:null},setup:function(t){this.model=t.userStreamItem,this.model.hold()},hasSpotlightEdit:function(){return n(3).get("me").getPerk("spotlight")&&"public"===this.model.getModelData().sharing&&!this.model.isRepost()&&!this.model.isLike()&&n(3).get("me").id===this.options.userId},getTemplateData:function(t){var e=this.model,r=this.options.userId,i=!!t.track,o=t[i?"track":"playlist"];return n(0).assign(t,{user_id:r,model_type:i?"sound":"playlist",model_id:o.id,actorId:(e.isRepost()||e.isLike())&&r,actionType:e.getActionType(),time_to_show:t.created_at,time_display_prefix:this.model.isRepost()?"Reposted":"Posted",show_spotlight:this.hasSpotlightEdit()})}})},2650:function(t,e,n){function r(){var t=this.getElement("fileInput");t.replaceWith(t.val("").clone()),this.resetElementCache()}t.exports=n(5).extend(n(87),{template:n(3670),className:"headerImageEditChooser",ModelClass:n(30),events:{"click .headerImageEditChooser__chooseButton":function(){this.getElement("fileInput").click()},"change .headerImageEditChooser__fileInput":function(t){var e=t.target.files[0];e&&(r.call(this),this.openModalWithFile(e))}},defaults:{buttonClass:"sc-button-nostyle",text:n(1).t("Replace image"),dialogType:"genericDialog",dialogEnabled:!1},element2selector:{chooseButton:".headerImageEditChooser__chooseButton",fileInput:".headerImageEditChooser__fileInput"},dialogArgs:{text:n(1).t("For best results, upload PNG or JPG images of at least 2480x520 pixels. 2MB file-size limit."),smallText:!0,offset:"50 10",width:215},renderDecorate:function(){this.getElement("chooseButton").prop("disabled",!n(3).get("me").isConfirmed())},openModalWithFile:function(t){var e=new(n(3671))({togglerEl:this.el,subviewArgs:{resource_id:this.model.id,file:t}});e.on(n(44).Events.CLOSED,e._dispose,e),e.open()},getModelData:function(){return{}},getTemplateData:function(t){return t.mimeTypes="image/jpeg,image/pjpeg,image/png",t}})},2651:function(t,e,n){t.exports=n(5).extend({template:n(3674),css:n(3675),className:"profileHeaderInfo sc-media",ModelClass:n(30),requiredAttributes:["avatar_url","username","full_name","city","country_code"],observedAttributes:["creator_subscription"],getTemplateData:function(t){return n(0).assign(t,{_address:[t.city,this.model.getCountry()].filter(Boolean).join(", "),isPremium:this.model.isPremium(),isMe:this.model.isMe()})}})},2652:function(t,e,n){t.exports=n(19).extend({resource_type:"userVisual",baseUrl:n(32).getUrlForEndpoint("visuals"),saveFormat:"json",saveWithWrapper:!1})},2653:function(t,e,n){t.exports=n(5).extend(n(31).withOptions("userActionButtons"),{className:"sc-button-group",ModelClass:n(30),requiredAttributes:["track_count"],template:function(){var t=this.model.isMe(),e=n(17).isLoggedIn(),r=this.model.get("id"),i=[t&&n(3).get("rollouts").get("v2_can_see_insights")&&{View:n(460)},this.model.getNumTracks("public")>0&&{View:n(329),args:{stationType:"artist",stationId:r,text_only:!1,noStyle:!1,size:"medium",noFollow:!0}},!t&&{View:n(314),args:{size:"medium",resource_id:r,is_cta:!0}},{View:n(307),args:{size:"medium",resource_id:r,resource_type:"user"}},!t&&e&&!this.model.isSystemUser()&&{View:n(2073),args:{size:"medium",resource_id:r,icon_only:!0}},t&&{View:n(3709),args:{size:"medium",resource_id:r,hideLabelOnSmallScreen:!0}},!t&&e&&{View:n(3726),args:{size:"medium",resource_id:r,icon_only:!0,contentViewArgs:{size:"medium"}}}].filter(Boolean);return n(29).children(i.map((function(t){var e=t.View,r=t.args;return n(29).subview(e,r)})))}})},2654:function(t,e,n){t.exports=n(33).extend(n(3793),{defaults:{limit:3},songkickId:null,songkickUrl:null,url:function(){return"//"+n(21).stringify({path:"/api/3.0/artists/"+this.songkickId+"/calendar.json",query:{apikey:n(3).get("songkick_api_key"),per_page:this.options.limit,jsoncallback:""}},"api.songkick.com")+"?"},fetchServiceData:function(t){var e=this._webProfileCollection.getProfileByName("songkick");return e&&-1!==e.get("url").indexOf("/artists/")?(this.songkickId=e.get("username"),this.songkickUrl=e.get("url"),n(33).prototype.fetch.call(this,n(0).assign(t,{jsonpCallback:"soundcloud"+this.songkickId,cache:!0}))):(this.resetFetch(),n(6).resolve())},parse:function(t){return t.resultsPage.results.event}})},2655:function(t,e,n){t.exports=n(1899).extend({shouldAddFromActions:!1,baseUrl:function(){return this.getEndpointUrl("userFollowersFollowedBy",{id:this.options.userId,followed_by:n(3).get("me").id})}})},3657:function(t,e,n){var r=n(10),i=n(3658);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3658:function(t,e,n){(e=n(11)(!1)).push([t.i,".l-fluid-fixed .l-user-main{margin-top:20px;padding-top:0}.l-fluid-fixed .l-user-sidebar-right{top:0}",""]),t.exports=e},3659:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){return'<div class="l-banner l-inner-fullwidth">\n\n</div>\n<div class="l-user-hero">\n\n</div>\n<div class="l-vertical-bar">\n\n</div>\n<div class="l-fluid-fixed">\n  <div class="l-main l-user-main sc-border-light-right">\n\n  </div>\n  <div class="l-sidebar-right l-user-sidebar-right">\n\n  </div>\n</div>\n'},useData:!0})},3660:function(t,e,n){t.exports=n(5).extend(n(2079),{template:n(3661),css:n(3662),className:"userUpsell sc-type-light sc-border-box",events:{"click .upsellBanner__button":"onClick","click .upsellBanner__close":"onClose"},states:{expanded:"expanded"},setup:function(t){this.collection=new(n(411))(null,{resource_id:t.resource_id})},onClose:function(){this.toggleState("expanded",!1),n(626).dismissUserUpsell(),n(12).trackV0Click(["upsell_teaser_user","dismiss"],{impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(3).get("me").getUrn()})},onClick:function(){n(12).trackV0Click(["upsell_teaser_user","click"],{impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(3).get("me").getUrn()})},renderDecorate:function(){n(626).couldHaveUserUpsell(this.options.resource_id)&&n(626).isValidUserSounds(this.collection)&&(n(626).dismissUserUpsell(),this.toggleState("expanded",!0),n(12).trackImpression({impression_name:"user_upsell",context:this.getContextData(),originView:"listenUpsell",urn:n(3).get("me").getUrn()}))},hasData:function(){return!n(626).couldHaveUserUpsell(this.options.resource_id)||n(5).prototype.hasData.call(this)}})},3661:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return'<h3 class="upsellBanner__title sc-type-light">'+s((n(2)||e&&e.$t||l).call(a,"Help your audience discover your sounds",{name:"$t",hash:{},data:o}))+'</h3>\n<p class="upsellBanner__copy">'+s((n(2)||e&&e.$t||l).call(a,"Let your audience know what to hear first.<br> With any Pro plan, get Spotlight to showcase the best of your music &amp; audio at the top of your profile.",{name:"$t",hash:{},data:o}))+"</p>\n"+s((n(4)||e&&e.$view||l).call(a,n(144),{name:"$view",hash:{text:(n(2)||e&&e.$t||l).call(a,"Learn more about Pro",{name:"$t",hash:{},data:o}),tcode:"t113",className:"upsellBanner__button sc-button sc-button-medium sc-button-cta"},data:o}))+'\n<button type="button" class="upsellBanner__close sc-ir">'+s((n(2)||e&&e.$t||l).call(a,"Close",{name:"$t",hash:{},data:o}))+"</button>\n"},useData:!0})},3662:function(t,e,n){var r=n(10),i=n(3663);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3663:function(t,e,n){var r=n(11),i=n(27),o=n(3664);e=r(!1);var a=i(o);e.push([t.i,".userUpsell{background:#333 url("+a+") right 30px top no-repeat;padding-right:450px}",""]),t.exports=e},3664:function(t,e,n){t.exports=n.p+"assets/images/spotlight-99243287.png"},3665:function(t,e,n){t.exports=n(5).extend(n(31).withOptions("userProfileBanner"),{template:n(3666),css:n(3701),className:"profileHeader",ModelClass:n(30),requiredAttributes:["visuals"],events:{"keydown .profileHeader__headerImageEditChooser":function(t){var e=this.subviews.chooser;e&&t.keyCode===n(53).ENTER&&e.chooseFile()}},getTemplateData:function(t){return t.hasVisuals=this.model.hasVisuals(),t.showEdit=r.call(this),t}});function r(){return this.model.isMe()}},3666:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o;return'  <div class="profileHeader__edit">\n    <div class="profileHeader__chooserWrapper right" tabIndex="0">\n'+(null!=(o=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.hasVisuals:e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.program(4,i,0),data:i}))?o:"")+"    </div>\n  </div>\n"},2:function(t,e,r,i,o){var a;return"        "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3667),{name:"$view",hash:{className:"profileHeader__headerImageEditChooser right",resource_id:null!=(a=null!=e?e._options:e)?a.resource_id:a},data:o}))+"\n"},4:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing;return"        "+t.escapeExpression((n(4)||e&&e.$view||s).call(l,n(2650),{name:"$view",hash:{dialogEnabled:!0,text:(n(2)||e&&e.$t||s).call(l,"Upload header image",{name:"$t",hash:{},data:o}),buttonClass:"profileHeader__headerImageEditChooser profileHeader__headerImageEditChooserFirstTime sc-button-medium sc-button-camera sc-button-translucent right",resource_id:null!=(a=null!=e?e._options:e)?a.resource_id:a},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return(null!=(a=r.if.call(l,null!=e?e.showEdit:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'<div class="profileHeader__info">\n  '+u((n(4)||e&&e.$view||s).call(l,n(2651),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n</div>\n\n"+u((n(4)||e&&e.$view||s).call(l,n(3689),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n"+u((n(4)||e&&e.$view||s).call(l,n(3694),{name:"$view",hash:{userId:null!=e?e._resource_id:e},data:o}))+"\n"},useData:!0})},3667:function(t,e,n){(function(e){t.exports=n(84).extend({defaults:{size:"medium",overlayType:"dropdown",overlayOptions:{relativeElementAnchor:"right bottom",anchor:"right top",offset:"0 0",width:function(){return e(this.options.relativeElement).outerWidth()}},text:n(1).t("Update image"),ContentViewClass:n(3668)},className:"headerImageEditButton sc-button-camera sc-button-translucent",css:n(3687),attributes:function(){return{disabled:!n(3).get("me").isConfirmed()}}})}).call(this,n(14))},3668:function(t,e,n){t.exports=n(5).extend({template:n(3669),css:n(3680),className:"headerImageEditDropdown sc-list-nostyle",tagName:"ul",events:{"click [name=delete]":function(){var t=new(n(3682));t.open(),t.on(n(44).Events.CLOSED,r,this),this.addSubview(t,"headerImageDelete")}}});function r(){var t=this.subviews.headerImageDelete;t.close(),t._dispose(),this.removeSubview(t)}},3669:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return"<li>\n  "+u((n(4)||e&&e.$view||s).call(l,n(2650),{name:"$view",hash:{buttonClass:"headerImageEditDropdown__button sc-button sc-button-nostyle",resource_id:null!=(a=null!=e?e._options:e)?a.resource_id:a},data:o}))+'\n</li>\n<li>\n  <button type="button" class="headerImageEditDropdown__button sc-button sc-button-nostyle" name="delete">\n    '+u((n(2)||e&&e.$t||s).call(l,"Delete image",{name:"$t",hash:{},data:o}))+"\n  </button>\n</li>\n"},useData:!0})},3670:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a,l=t.lambda,s=t.escapeExpression;return'<button type="button" class="headerImageEditChooser__chooseButton sc-button '+s(l(null!=(o=null!=e?e._options:e)?o.buttonClass:o,e))+'">'+s(l(null!=(o=null!=e?e._options:e)?o.text:o,e))+'</button>\n<input class="headerImageEditChooser__fileInput sc-visuallyhidden" type="file" accept="'+s("function"==typeof(a=null!=(a=n.mimeTypes||(null!=e?e.mimeTypes:e))?a:n.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"mimeTypes",hash:{},data:i}):a)+'">\n'},useData:!0})},3671:function(t,e,n){t.exports=n(44).extend({bubbleEvents:{"headerImageEditModal:success":"onSuccess","headerImageEditModal:cancel":"onCancel"},defaults:{width:900,Subview:n(3672)},onSuccess:function(){this.close()},onCancel:function(){this.close()}})},3672:function(t,e,n){t.exports=n(5).extend({template:n(3673),css:n(3677),className:"headerImageEditModal sc-selection-disabled",ModelClass:n(30),requiredAttributes:["visuals"],defaults:{file:null},_savedNewVisual:!1,onModelChange:function(){this._savedNewVisual?this._savedNewVisual=!1:this.rerender()},getTemplateData:function(t){var e=this;return t.cropSizes={width:1240,height:260,previewWidth:850},t.file=this.options.file,t.saveFile=function(t){return function(t){return(new(n(3679))).upload(t)}(t).then(i)},t.onCancel=function(){return e.bubble("headerImageEditModal:cancel")},t.onSaveSuccess=r.bind(this),t}});function r(t){this._savedNewVisual=!0,this.model.set("visuals",[{visual_url:t.image_url,urn:t.user_urn}]),n(12).trackV1Click({context:this.getContextData(),click_name:"banner_image:add",click_category:"profile_edit",click_object:n(3).get("me").getUrn()}),this.bubble("headerImageEditModal:success")}function i(t){var e=new(n(2652))({image_url:t});return e.release(),e.save()}},3673:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return'<h2 class="g-modal-title-h1 sc-truncate">'+s((n(2)||e&&e.$t||l).call(a,"Position and resize your profile header",{name:"$t",hash:{},data:o}))+'</h2>\n<p class="headerImageEditModal__hint">'+s((n(2)||e&&e.$t||l).call(a,"For best results, upload PNG or JPG images of at least 2480x520 pixels. 2MB file-size limit. Avoid using text within your header image, as it will be cropped on smaller screens.",{name:"$t",hash:{},data:o}))+'</p>\n<div class="headerImageEditModal__cropper">\n  '+s((n(4)||e&&e.$view||l).call(a,n(441),{name:"$view",hash:{sizes:null!=e?e.cropSizes:e,onCancel:null!=e?e.onCancel:e,onSaveSuccess:null!=e?e.onSaveSuccess:e,saveFile:null!=e?e.saveFile:e,file:null!=e?e.file:e},data:o}))+'\n  <div class="headerImageEditModal__previewOverlay">\n    <div class="headerImageEditModal__previewOverlayUser">\n      '+s((n(4)||e&&e.$view||l).call(a,n(2651),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n    </div>\n  </div>\n</div>\n"},useData:!0})},3674:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(67),{name:"$view",hash:{boundaryOutlineStyle:"none",editable:!0,zoomable:!0,size:200,resource_type:"me-user",resource_id:1},data:o}))+"\n"},3:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(67),{name:"$view",hash:{boundaryOutlineStyle:"none",editable:!1,zoomable:!0,size:200,resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},5:function(t,e,r,i,o){return t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(207),{name:"$view",hash:{size:"medium",className:"profileHeaderInfo__premiumIndicator",referral:"t071",resource_id:null!=e?e._resource_id:e},data:o}))},7:function(t,e,n,r,i){var o;return'    <br><h4 class="profileHeaderInfo__additional g-type-shrinkwrap-block g-type-shrinkwrap-large-secondary">'+t.escapeExpression("function"==typeof(o=null!=(o=n.full_name||(null!=e?e.full_name:e))?o:n.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"full_name",hash:{},data:i}):o)+"</h4>\n"},9:function(t,e,n,r,i){var o;return'    <br><h4 class="profileHeaderInfo__additional g-type-shrinkwrap-block g-type-shrinkwrap-large-secondary">'+t.escapeExpression("function"==typeof(o=null!=(o=n._address||(null!=e?e._address:e))?o:n.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"_address",hash:{},data:i}):o)+"</h4>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a,l=null!=e?e:t.nullContext||{};return'<div class="profileHeaderInfo__avatar sc-media-image">\n'+(null!=(o=n.if.call(l,null!=e?e.isMe:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?o:"")+'\n</div>\n<div class="profileHeaderInfo__content sc-media-content">\n  <h3 class="profileHeaderInfo__userName g-type-shrinkwrap-block g-type-shrinkwrap-large-primary">\n    '+t.escapeExpression("function"==typeof(a=null!=(a=n.username||(null!=e?e.username:e))?a:n.helperMissing)?a.call(l,{name:"username",hash:{},data:i}):a)+(null!=(o=n.if.call(l,null!=e?e.isPremium:e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i}))?o:"")+"\n  </h3>\n"+(null!=(o=n.if.call(l,null!=e?e.full_name:e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i}))?o:"")+(null!=(o=n.if.call(l,null!=e?e._address:e,{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.noop,data:i}))?o:"")+"</div>\n"},useData:!0})},3675:function(t,e,n){var r=n(10),i=n(3676);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3676:function(t,e,n){(e=n(11)(!1)).push([t.i,".profileHeaderInfo__avatar{margin-right:30px}.profileHeaderInfo__details{margin:4px 0 10px}.profileHeaderInfo__additional{margin-top:4px}.profileHeaderInfo__premiumIndicator{padding:0 2px 0 6px;position:relative;top:4px}",""]),t.exports=e},3677:function(t,e,n){var r=n(10),i=n(3678);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3678:function(t,e,n){(e=n(11)(!1)).push([t.i,".headerImageEditModal__cropper{position:relative}.headerImageEditModal__hint{color:#666;margin-bottom:8px}.headerImageEditModal__previewOverlay{position:absolute;left:0;top:0;bottom:0;right:0;pointer-events:none;-webkit-transform:scale(.68548);transform:scale(.68548);-webkit-transform-origin:0 0;transform-origin:0 0}.headerImageEditModal__previewOverlayUser{padding:30px 30px 0}",""]),t.exports=e},3679:function(t,e,n){(function(e){t.exports=n(689).extend({presign:function(t,e){return n(32).callEndpoint("visualsPolicy",null,{contentType:t.type},null,null,{abort:e}).then((function(t){return t.body}))},uploadFile:function(t,r,i,o){var a=new window.FormData;return n(0).each(r.fields,(function(t,e){a.append(e,t)})),a.append("file",t),e.ajax({url:r.url,type:"POST",data:a,processData:!1,contentType:!1,dataType:"xml",timeout:0,progress:o,abort:i})},resolveWith:function(t){return t.url+t.fields.key}})}).call(this,n(14))},3680:function(t,e,n){var r=n(10),i=n(3681);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3681:function(t,e,n){(e=n(11)(!1)).push([t.i,".headerImageEditDropdown{background-color:#fff;border-radius:0 0 4px 4px;box-shadow:0 2px 6px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.1);border-top:0 solid rgba(0,0,0,.1);background-clip:padding-box}.headerImageEditDropdown__button{display:block;width:100%;text-align:left}.headerImageEditDropdown__button:focus,.headerImageEditDropdown__button:hover{color:#f50;background-color:#f2f2f2;outline:none}",""]),t.exports=e},3682:function(t,e,n){t.exports=n(44).extend({defaults:{Subview:n(3683),width:400},bubbleEvents:{"visual-delete:success":"close","visual-delete:cancel":"close"}})},3683:function(t,e,n){t.exports=n(5).extend({className:"visualDelete",template:n(3684),css:n(3685),events:{"click [name=delete]":function(){this.toggleState("errorDeleting",!1),this.toggleState("deleting",!0),r.call(this)},"click [name=cancel]":function(){this.bubble("visual-delete:cancel")}},states:{deleting:function(t){var e=t?n(1).t("Deleting"):n(1).t("Delete");this.getElement("deleteButton").toggleClass("sc-pending",t).text(e)},errorDeleting:function(t){var e=t?n(1).t("Error deleting. Please try again."):"",r=t?n(1).t("Retry"):n(1).t("Delete");this.getElement("error").text(e),this.getElement("deleteButton").text(r)}},element2selector:{deleteButton:"[name=delete]",error:".visualDelete__error"}});function r(){var t=new(n(2652))({id:n(3).get("me").id});t.release(),t.destroy().then(i.bind(this)).fail(o.bind(this))}function i(){this.toggleState("deleting",!1),n(12).trackV0Click(null,{context:this.getContextData(),click_name:"banner_image:remove"}),this.bubble("visual-delete:success"),n(3).get("me").set("visuals",null),n(3).get("router").reload()}function o(){this.toggleState("deleting",!1),this.toggleState("errorDeleting",!0)}},3684:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return'<h1 class="g-modal-title-h1">\n  '+s((n(2)||e&&e.$t||l).call(a,"Are you sure?",{name:"$t",hash:{},data:o}))+"\n</h1>\n\n<p>\n  "+s((n(2)||e&&e.$t||l).call(a,"Please confirm that you want to delete your header image.<br>This action cannot be reversed.",{name:"$t",hash:{},data:o}))+'\n</p>\n\n<div class="visualDelete__buttons">\n  <button type="button" class="sc-button-nostyle sc-button sc-button-medium" name="cancel">\n    '+s((n(2)||e&&e.$t||l).call(a,"Cancel",{name:"$t",hash:{},data:o}))+'\n  </button>\n  <button type="button" class="sc-button-cta sc-button sc-button-medium" name="delete">\n    '+s((n(2)||e&&e.$t||l).call(a,"Delete",{name:"$t",hash:{},data:o}))+'\n  </button>\n</div>\n\n<div class="visualDelete__error sc-type-small sc-orange"></div>\n'},useData:!0})},3685:function(t,e,n){var r=n(10),i=n(3686);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3686:function(t,e,n){(e=n(11)(!1)).push([t.i,".visualDelete__buttons,.visualDelete__error{text-align:right}.visualDelete__error{margin-top:10px}.visualDelete__error:empty{display:none}",""]),t.exports=e},3687:function(t,e,n){var r=n(10),i=n(3688);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3688:function(t,e,n){(e=n(11)(!1)).push([t.i,".headerImageEditButton.sc-button-active{color:#333}",""]),t.exports=e},3689:function(t,e,n){t.exports=n(5).extend({template:n(3690),css:n(3692),className:"profileHeaderBackground",ModelClass:n(30),requiredAttributes:["visuals"],events:{"click .profileHeaderBackground__link":function(t){n(12).trackV0Click(["deeplink"])}},states:{visualLoaded:"m-visualLoaded"},getTemplateData:function(t){var e=this.model.hasVisuals()&&this.model.getVisual();return t.visual=e,t.background_url=e&&this.model.getVisualURL(),t.clickthrough_url=e&&e.link,t},renderDecorate:function(){this.model.hasVisuals()&&(r.call(this,this.model.getVisualURL()),n(56).trackEvent("impression",n(0).pick(this.model.get("visuals"),"tracking")))}});function r(t){var e=this;this.addDeferred(n(37).load(t)).then((function(){e.toggleState("visualLoaded",!0)}))}},3690:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,l=null!=e?e:t.nullContext||{};return(null!=(o=n.if.call(l,null!=e?e.clickthrough_url:e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?o:"")+'  <div class="profileHeaderBackground__visual" style="background-image: url('+t.escapeExpression("function"==typeof(a=null!=(a=n.background_url||(null!=e?e.background_url:e))?a:n.helperMissing)?a.call(l,{name:"background_url",hash:{},data:i}):a)+');"></div>\n'},2:function(t,e,n,r,i){var o;return'    <a href="'+t.escapeExpression("function"==typeof(o=null!=(o=n.clickthrough_url||(null!=e?e.clickthrough_url:e))?o:n.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"clickthrough_url",hash:{},data:i}):o)+'" target="_blank" class="profileHeader__link"></a>\n'},4:function(t,e,r,i,o){return"  "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3691),{name:"$view",hash:{resource_type:"user",resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return null!=(o=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.visual:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(4,i,0),data:i}))?o:""},useData:!0})},3691:function(t,e,n){t.exports=n(5).extend(n(1925).withOptions({angle:315,colorAdjustment:"muted"}),{ModelClass:n(30),requiredAttributes:[n(30).prototype.imageProperties.read]})},3692:function(t,e,n){var r=n(10),i=n(3693);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3693:function(t,e,n){(e=n(11)(!1)).push([t.i,".profileHeaderBackground{position:absolute;top:0;left:0;bottom:0;right:0;background:#e5e5e5}.profileHeaderBackground__visual{position:absolute;top:0;left:0;bottom:0;right:0;background-color:#666;background-size:auto 100%;background-position:0 0;background-repeat:no-repeat;opacity:0;transition:opacity .2s linear}.profileHeaderBackground.m-visualLoaded .profileHeaderBackground__visual{opacity:1}.profileHeader__link{position:absolute;left:230px;right:0;top:0;bottom:0;z-index:1}",""]),t.exports=e},3694:function(t,e,n){t.exports=n(46).extend(n(209),{template:n(3695),css:n(3696),className:"featuredProfiles g-dark",itemClassName:"featuredProfiles__item",Subview:n(3698),_closeTimeout:null,defaults:{userId:null,maxDisplay:0},element2selector:{list:".featuredProfiles__list",scrollContent:".featuredProfiles__wrapper",scrollWrapper:".featuredProfiles__scroll"},states:{expanded:function(t){this.$el.toggleClass("expanded",t),t||this.getElement("scrollContent").scrollTop(0)},populated:"populated"},events:{"click .featuredProfiles__title":"onTitleClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave"},setup:function(t){n(0).bindAll(this,"onMouseEnter","onMouseLeave"),this.collection=new(n(3700))(null,{userId:t.userId})},emptyTemplate:function(){return""},onMouseEnter:function(){window.clearTimeout(this._closeTimeout),this.toggleState("expanded",!0)},onMouseLeave:function(){window.clearTimeout(this._closeTimeout),this._closeTimeout=this.addDeferred(window.setTimeout(this.toggleState.bind(this,"expanded",!1),200))},renderDecorate:function(){var t=this;n(46).prototype.renderDecorate.apply(this,arguments),this.toggleState("populated",this.collection.length),this.collection.length&&this.whenInserted().done((function(){t.setupScrollable(t.getElement("scrollWrapper"),t.getElement("scrollContent"),{hScroll:!1})}))},teardown:function(){this.disposeScrollable()},getModelsToRender:function(){return this.collection.filter((function(t){return"user"===t.get("kind")}))},getTemplateData:function(t){var e=this.collection.groupBy((function(t){return t.get("kind")}));t.userId=this.options.userId,t.hasProfiles=!!e.user},getListContainer:function(){return this.getElement("list")},onTitleClick:function(t){this.toggleState("expanded"),t.preventDefault()}})},3695:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return'      <a class="featuredProfiles__title sc-type-small" href="">\n        <span class="sc-icon sc-icon-large sc-icon-user"></span>'+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},"Featured profiles",{name:"$t",hash:{},data:o}))+'\n      </a>\n      <div class="featuredProfiles__list"></div>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return'<div class="featuredProfiles__scroll g-scrollable">\n  <div class="featuredProfiles__wrapper g-scrollable-inner">\n'+(null!=(o=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.hasProfiles:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+"  </div>\n</div>\n"},useData:!0})},3696:function(t,e,n){var r=n(10),i=n(3697);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3697:function(t,e,n){(e=n(11)(!1)).push([t.i,".featuredProfiles{display:none;position:absolute;width:100%;height:100%;bottom:0;-webkit-transform:translateY(220px);transform:translateY(220px);right:30px;width:330px;height:260px;background-color:rgba(0,0,0,.8);transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out;z-index:1}.featuredProfiles.populated{display:block}.featuredProfiles.expanded{-webkit-transform:translateY(0);transform:translateY(0)}@media (max-width:1079px){.featuredProfiles{right:20px}}.featuredProfiles .featuredProfiles__title{display:block;cursor:pointer;margin:5px 10px 10px;color:#fff;outline:0 none;line-height:30px}.featuredProfiles.expanded .featuredProfiles__title{border-bottom:1px solid #333;color:#999}.featuredProfiles__scroll{position:absolute;top:0;bottom:0;width:330px}.featuredGroups__list,.featuredProfiles__list{padding:0 10px}.featuredProfiles__item{margin:10px 0;padding-bottom:10px;border-bottom:1px solid #333}.featuredProfiles__item:last-child{border-bottom:0}.featuredProfiles__item:first-child{margin-top:0;padding-top:0}.featuredProfile .groupBadge{padding-top:0}",""]),t.exports=e},3698:function(t,e,n){t.exports=n(5).extend({ModelClass:n(30),template:n(3699),className:"featuredProfile sc-media",requiredAttributes:["permalink"],getTemplateData:function(t){return t.name=t.name||t.username,t.route=t.kind,t}})},3699:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){return t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(303),{name:"$view",hash:{dark:!0,resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},useData:!0})},3700:function(t,e,n){t.exports=n(33).extend({model:n(30),defaults:{userId:null},baseUrl:function(){return this.getEndpointUrl("featuredProfiles",{id:this.options.userId})}},{hashFn:function(t,e){return e.userId}})},3701:function(t,e,n){var r=n(10),i=n(3702);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3702:function(t,e,n){(e=n(11)(!1)).push([t.i,".profileHeader{position:relative;margin-left:-30px;margin-right:-30px;padding:30px;box-sizing:border-box;overflow:hidden;height:260px}.profileHeader__info{position:relative;z-index:1}.profileHeader__edit{position:absolute;left:230px;right:0;top:0;bottom:0;z-index:4;padding:30px}.profileHeader__edit .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser{opacity:0;transition:opacity .2s}.profileHeader__edit:hover .profileHeader__headerImageEditChooser,.profileHeader__headerImageEditChooser.sc-button-active,.profileHeader__headerImageEditChooser:focus,.profileHeader__headerImageEditChooserFirstTime{outline:0;opacity:1}.profileHeader__edit:hover .profileHeader__headerImageEditChooser:disabled,.profileHeader__headerImageEditChooser.sc-button-active:disabled,.profileHeader__headerImageEditChooser:focus:disabled,.profileHeader__headerImageEditChooserFirstTime:disabled{opacity:.5}@media (max-width:1079px){.profileHeader{margin-left:-20px;margin-right:-20px;padding-left:20px;padding-right:20px}.profileHeader__edit{left:220px;padding-right:20px}}",""]),t.exports=e},3703:function(t,e,n){t.exports=n(5).extend({css:n(3704),template:n(3706),className:"userInfoBar",ModelClass:n(30),defaults:{subpage:"all"}})},3704:function(t,e,n){var r=n(10),i=n(3705);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3705:function(t,e,n){(e=n(11)(!1)).push([t.i,".userInfoBar{position:relative;padding-top:15px}.userInfoBar__buttons{position:absolute;right:0;bottom:9px}",""]),t.exports=e},3706:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<div class="userInfoBar__tabs">\n  '+u((n(4)||e&&e.$view||s).call(l,n(3707),{name:"$view",hash:{subpage:null!=(a=null!=e?e._options:e)?a.subpage:a,resource_id:null!=e?e._resource_id:e},data:o}))+'\n</div>\n<div class="userInfoBar__buttons">\n  '+u((n(4)||e&&e.$view||s).call(l,n(2653),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n</div>\n"},useData:!0})},3707:function(t,e,n){var r=[{title:n(1).t("All"),subpage:"all",getRoute:function(t){return n(20).getRoute("user",t)}},{title:n(1).t("Popular tracks"),subpage:"popular-tracks",getRoute:function(t){return n(20).getRoute("user",t,"popular-tracks")}},{title:n(1).t("Tracks"),subpage:"tracks",getRoute:function(t){return n(20).getRoute("user",t,"tracks")}},{title:n(1).t("Albums"),subpage:"albums",getRoute:function(t){return n(20).getRoute("user",t,"albums")}},{title:n(1).t("Playlists"),subpage:"sets",getRoute:function(t){return n(20).getRoute("user",t,"sets")}},{title:n(1).t("Reposts"),subpage:"reposts",getRoute:function(t){return n(20).getRoute("user",t,"reposts")}}];t.exports=n(5).extend({ModelClass:n(30),template:n(3708),className:"profileTabs g-tabs g-tabs-medium",tagName:"ul",defaults:{subpage:"all"},getTemplateData:function(t){var e;t.tabs=(e=this.model,r.map((function(t){var n=t.getRoute,r=t.subpage,i=t.title;return{route:n(e),subpage:r,title:i}})));var i=n(0).findWhere(t.tabs,{subpage:this.options.subpage});return i&&(i.isActive=!0),t}})},3708:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,l=null!=e?e:t.nullContext||{},s=n.helperMissing,u=t.escapeExpression;return'  <li class="g-tabs-item">\n    <a class="g-tabs-link '+(null!=(o=n.if.call(l,null!=e?e.isActive:e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?o:"")+'" href="'+u("function"==typeof(a=null!=(a=n.route||(null!=e?e.route:e))?a:s)?a.call(l,{name:"route",hash:{},data:i}):a)+'" rel="nofollow">\n      '+u("function"==typeof(a=null!=(a=n.title||(null!=e?e.title:e))?a:s)?a.call(l,{name:"title",hash:{},data:i}):a)+"\n    </a>\n  </li>\n"},2:function(t,e,n,r,i){return"active"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return null!=(o=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.tabs:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:""},useData:!0})},3709:function(t,e,n){t.exports=n(5).extend(n(59),{className:"sc-button-edit editProfileButton",css:n(3710),ModelClass:n(164),defaults:{title:n(1).t("Edit"),allPossibleLabels:[n(1).t("Edit")],hideLabelOnSmallScreen:!1},buttonLabels:{default:n(1).t("Edit")},onClick:function(){n(12).trackV1Click({click_name:"profile_edit::open",click_category:"profile_edit",click_object:this.model.get("urn")});var t=new(n(3712))({togglerEl:this.el});t.on(n(44).Events.CLOSED,t._dispose,t),t.open()},renderDecorate:function(){this.$el.toggleClass("editProfileButton--hiddenLabelOnSmallScreen",this.options.hideLabelOnSmallScreen)}})},3710:function(t,e,n){var r=n(10),i=n(3711);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3711:function(t,e,n){(e=n(11)(!1)).push([t.i,"@media (max-width:1079px){.editProfileButton--hiddenLabelOnSmallScreen .sc-button-alt-labels{display:none}}",""]),t.exports=e},3712:function(t,e,n){t.exports=n(44).extend({defaults:{Subview:n(3713),width:850},setup:function(){n(44).prototype.setup.apply(this,arguments),this.form=new(n(627)),this.listenTo(this,n(44).Events.CLOSED,this.onClosed).listenTo(this.form,"saved",this.onSaved).listenTo(this.form,"canceled",this.onCanceled)},dispose:function(){n(44).prototype.dispose.apply(this,arguments),this.form.release(),this.form=null},onClosed:function(){this.form.isDirty()&&this.form.cancelEdits()},onCanceled:function(){this.close()},onSaved:function(){this.close()}})},3713:function(t,e,n){t.exports=n(5).extend(n(636),{template:n(3714),css:n(3724),className:"profileSettings",states:{showPermalinkWarning:"m-showPermalinkWarning"},element2selector:{currentPermalink:".profileSettings__currentPermalink"},setup:function(){this.model=new(n(627)),this.me=this.addDataSource(n(3).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold(),this.listenTo(this.model,"change:permalink",o).listenTo(this.model,"saved",i).listenTo(this.me,"change:confirmed",r)},getTemplateData:function(t){return t.meId=this.me.id,t.feedsUrl=this.me.getRSSFeedUrl(),t},renderDecorate:function(){a.call(this),r.call(this)}});function r(){this.model.setFieldDisabled("description",!this.me.isConfirmed()),this.model.setFieldDisabled("web-profiles",!this.me.isConfirmed())}function i(){var t=n(3).get("me");n(12).trackV1Click({click_name:"user_metadata:update",click_category:"profile_edit",click_object:t.getUrn()}),this.toggleState("showPermalinkWarning",!1)}function o(){a.call(this),this.toggleState("showPermalinkWarning",n(3).get("me").get("permalink")!==this.model.get("permalink"))}function a(){this.getElement("currentPermalink").text(n(3).get("me").get("permalink"))}},3714:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return"      "+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},"Add links to your website and social network profiles to help your audience find you wherever you are.",{name:"$t",hash:{},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<h2 class="g-modal-title-h1 sc-truncate">'+u((n(2)||e&&e.$t||s).call(l,"Edit your Profile",{name:"$t",hash:{},data:o}))+'</h2>\n<div class="profileSettings__form">\n  <div class="sc-media">\n    <div class="profileSettings__avatar sc-media-image">\n      '+u((n(4)||e&&e.$view||s).call(l,n(697),{name:"$view",hash:{resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e},data:o}))+'\n    </div>\n    <div class="profileSettings__baseFields sc-media-content">\n      <div class="profileSettings__cell m-fullWidth">\n        '+u((n(4)||e&&e.$view||s).call(l,n(25),{name:"$view",hash:{size:"large",label:(n(2)||e&&e.$t||s).call(l,"Display name",{name:"$t",hash:{},data:o}),field:"username",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n      <div class="profileSettings__permalinkControl profileSettings__cell m-fullWidth">\n        '+u((n(4)||e&&e.$view||s).call(l,n(696),{name:"$view",hash:{permalinkType:"user",label:(n(2)||e&&e.$t||s).call(l,"Profile URL",{name:"$t",hash:{},data:o}),field:"permalink",size:"medium",showLabel:!0,resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(4)||e&&e.$view||s).call(l,n(25),{name:"$view",hash:{label:(n(2)||e&&e.$t||s).call(l,"First name",{name:"$t",hash:{},data:o}),field:"first_name",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(4)||e&&e.$view||s).call(l,n(25),{name:"$view",hash:{label:(n(2)||e&&e.$t||s).call(l,"Last name",{name:"$t",hash:{},data:o}),field:"last_name",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(4)||e&&e.$view||s).call(l,n(25),{name:"$view",hash:{label:(n(2)||e&&e.$t||s).call(l,"City",{name:"$t",hash:{},data:o}),field:"city",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n      <div class="profileSettings__cell">\n        '+u((n(4)||e&&e.$view||s).call(l,n(663),{name:"$view",hash:{label:(n(2)||e&&e.$t||s).call(l,"Country",{name:"$t",hash:{_comment:"Not the music genre",_context:"Country"},data:o}),field:"country_code",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n      <div class="profileSettings__cell m-fullWidth">\n        '+u((n(4)||e&&e.$view||s).call(l,n(450),{name:"$view",hash:{className:"profileSettings__description",placeholder:(n(2)||e&&e.$t||s).call(l,"Tell the world a little bit about yourself. The shorter the better.",{name:"$t",hash:{},data:o}),label:(n(2)||e&&e.$t||s).call(l,"Bio",{name:"$t",hash:{_comment:"Short for 'Biography'"},data:o}),field:"description",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+'\n      </div>\n    </div>\n  </div>\n  <div class="g-form-section-head">\n    <h3 class="g-form-section-title">'+u((n(2)||e&&e.$t||s).call(l,"Your links",{name:"$t",hash:{},data:o}))+"</h3>\n"+(null!=(a=(n(4)||e&&e.$view||s).call(l,n(290),{name:"$view",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'  </div>\n  <div class="profileSettings__webProfiles">\n    '+u((n(4)||e&&e.$view||s).call(l,n(3715),{name:"$view",hash:{resource_id:null!=e?e.meId:e},data:o}))+'\n  </div>\n  <div class="profileSettings__formButtons sc-button-toolbar sc-border-light-top">\n    <div class="profileSettings__permalinkWarning sc-text-light">\n      '+u((n(2)||e&&e.$t||s).call(l,'<strong class="sc-text">Please note:</strong>You’re about to replace your old URL <span class="sc-text">soundcloud.com/<span class="profileSettings__currentPermalink"></span></span>. This will affect all links you’ve already posted outside of SoundCloud. Make sure you don’t forget to update these too.',{name:"$t",hash:{},data:o}))+"\n    </div>\n    "+u((n(4)||e&&e.$view||s).call(l,n(102),{name:"$view",hash:{size:"medium",button:"cancel",noStyle:!0,resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+"\n    "+u((n(4)||e&&e.$view||s).call(l,n(102),{name:"$view",hash:{size:"medium",button:"save",className:"sc-button-cta",resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e,Form:n(627)},data:o}))+"\n  </div>\n</div>\n"},useData:!0})},3715:function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}t.exports=n(46).extend(n(295).withOptions({names:["v2_direct_support_link"]}),{css:n(3716),template:n(3718),Subview:n(3719),tagName:"div",className:"webProfilesControl",itemClassName:"webProfilesControl__item",element2selector:{list:".webProfilesControl__list",addLinkButton:".webProfilesControl__add",addSupportLinkButton:".webProfilesControl__addSupportLink",maxLinksMessage:".webProfilesControl__maxLinksMessage"},events:{"click .webProfilesControl__add":"onAddClick","click .webProfilesControl__addSupportLink":"onAddSupportLinkClick"},defaults:{maxDisplay:0,resource_id:null,limit:10},states:{reachedMaxWebprofiles:"reachedMaxWebprofiles"},setup:function(t){this.collection=new(n(673))(null,{userId:t.resource_id}),this.collection.setLimit(50),this.me=this.addDataSource(n(3).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold(),this.listenTo(this.collection,"add remove change",this.onCollectionAddedChanged).listenTo(this.collection,"deleted",i)},getTemplateData:function(t){return t.shouldShowAddSupportLink=this.getRollout("v2_direct_support_link"),t},renderDecorate:function(){n(46).prototype.renderDecorate.call(this,arguments),o.call(this)},onAddClick:function(){this.collection.add(a()),this.collection.trigger("form:dirty")},onAddSupportLinkClick:function(){this.collection.add(r({},a(),{network:"support"})),this.collection.trigger("form:dirty")},getListContainer:function(){return this.getElement("list")},onCollectionAddedChanged:function(){o.call(this)}});function i(t){var e=this.getListItemView(t.form);e&&this.getSubviewWrapper(e).hide()}function o(){var t=this.collection.length>=this.options.limit,e=this.me.isConfirmed(),n=!!this.collection.find((function(t){return t.isSupportLink()}));this.getElement("addLinkButton").attr("disabled",t||!e),this.getElement("addSupportLinkButton").attr("disabled",n||t||!e),this.getElement("maxLinksMessage").toggleClass("g-input-validation-hidden",!t),this.toggleState("reachedMaxWebprofiles",t)}function a(){return{id:n(0).uniqueId("web-profile_")}}},3716:function(t,e,n){var r=n(10),i=n(3717);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3717:function(t,e,n){(e=n(11)(!1)).push([t.i,".webProfilesControl__item{margin-bottom:18px}.webProfilesControl__maxLinksMessage{margin-left:5px;display:inline-block}",""]),t.exports=e},3718:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return'<button\n  type="button"\n  class="webProfilesControl__addSupportLink sc-button sc-button-medium sc-button-cta"\n>\n  '+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},"Add support link",{name:"$t",hash:{},data:o}))+"\n</button>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<div class="webProfilesControl__list"></div>\n<button\n  type="button"\n  class="webProfilesControl__add sc-button sc-button-medium"\n>\n  '+u((n(2)||e&&e.$t||s).call(l,"Add link",{name:"$t",hash:{},data:o}))+"\n</button>\n"+(null!=(a=r.if.call(l,null!=e?e.shouldShowAddSupportLink:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'<span \n  class="webProfilesControl__maxLinksMessage g-input-validation g-input-validation-hidden"\n>\n  '+u((n(2)||e&&e.$t||s).call(l,"A maximum of 10 links can be added to your profile.",{name:"$t",hash:{},data:o}))+"\n</span>\n"},useData:!0})},3719:function(t,e,n){t.exports=n(5).extend({template:n(3720),css:n(3722),className:"webProfileControl sc-media",events:{"click .webProfileControl__remove":function(){this.model.removeWebProfile()}},element2selector:{removeButton:".webProfileControl__remove"},ModelClass:n(637),setup:function(){this.me=this.addDataSource(n(3).get("me"),{requiredAttributes:["confirmed"]}),this.me.hold()},getTemplateData:function(t){return t.isSupportLink=this.model.isSupportLink(),t},renderDecorate:function(){var t=this;r.call(this),this.model.get("url")||this.whenInserted().done((function(){t.subviews.url.focus()}))}});function r(){var t=this.me.isConfirmed();this.model.setFieldDisabled(["title","url"],!t),this.getElement("removeButton").attr("disabled",!t)}},3720:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){var a;return'        <div class="webProfileControl__hintWrapper">\n'+(null!=(a=(n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(290),{name:"$view",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?a:"")+"        </div>\n"},2:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return"            <p>\n              "+s((n(2)||e&&e.$t||l).call(a,"Support Links are a single link that you add to your profile in order to highlight an app or site where you would like to direct supporters who want to chip in and provide some financial relief for you, if you choose to activate it.",{name:"$t",hash:{},data:o}))+'\n            </p>\n            <p>\n              <a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'+s((n(2)||e&&e.$t||l).call(a,"Learn more",{name:"$t",hash:{},data:o}))+"</a>\n            </p>\n"},4:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing;return"        "+t.escapeExpression((n(4)||e&&e.$view||l).call(a,n(25),{name:"$view",hash:{placeholder:(n(2)||e&&e.$t||l).call(a,"Short title",{name:"$t",hash:{_comment:"placeholder for input with title of a link by user"},data:o}),field:"title",className:"webProfileControl__title",Form:n(637),resource_id:null!=e?e.id:e},data:o}))+"\n"},6:function(t,e,r,i,o){return'      <div class="webProfileControl__supportLinkDescription sc-type-light">\n        '+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},"Supported platforms: PayPal, Cash app, Venmo, Bandcamp, Shopify, Kickstarter, Patreon, and Gofundme. [[[link]]]Learn more[[[linkEnd]]]",{name:"$t",hash:{linkEnd:"</a>",link:'<a href="https://help.soundcloud.com/hc/articles/360045363454" target="_blank">'},data:o}))+"\n      </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<div class="webProfileControl__wrapper g-flex-row">\n  '+u((n(4)||e&&e.$view||s).call(l,n(3721),{name:"$view",hash:{field:"icon",Form:n(637),resource_id:null!=e?e.id:e},data:o}))+'\n  <div class="g-flex-one">\n    <div class="sc-media-content g-flex-row">\n      '+u((n(4)||e&&e.$view||s).call(l,n(25),{name:"$view",hash:{key:"url",placeholder:(n(2)||e&&e.$t||s).call(l,(n(234)||e&&e.$ternary||s).call(l,null!=e?e.isSupportLink:e,"e.g.: https://paypal.me/username","Web or email address",{name:"$ternary",hash:{},data:o}),{name:"$t",hash:{_comment:"placeholder for input with a URL or Email by user"},data:o}),field:"url",className:(n(234)||e&&e.$ternary||s).call(l,null!=e?e.isSupportLink:e,"webProfileControl__url m-fullWidth","webProfileControl__url",{name:"$ternary",hash:{},data:o}),Form:n(637),resource_id:null!=e?e.id:e},data:o}))+"\n"+(null!=(a=r.if.call(l,null!=e?e.isSupportLink:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(4,o,0),data:o}))?a:"")+"    </div>\n"+(null!=(a=r.if.call(l,null!=e?e.isSupportLink:e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o}))?a:"")+'  </div>\n  <button type="button" class="webProfileControl__remove sc-button sc-button-medium sc-button-delete sc-button-icon">\n    '+u((n(2)||e&&e.$t||s).call(l,"Remove link",{name:"$t",hash:{},data:o}))+"\n  </button>\n</div>\n"},useData:!0})},3721:function(t,e,n){t.exports=n(5).extend(n(77),{tagName:"span",renderDecorate:function(){var t=this.form.get("icon"),e=this.form.isSupportLink()?"webProfileControl__supportIcon":t?"sc-social-logo sc-social-logo-square sc-social-logo-"+t:"webProfileControl__emptyIcon";this.$el.removeClass().addClass("webProfileControl__icon sc-media-image "+e).text("")},onFieldChange:function(){this.rerender()}})},3722:function(t,e,n){var r=n(10),i=n(3723);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3723:function(t,e,n){var r=n(11),i=n(27),o=n(2043);e=r(!1);var a=i(o);e.push([t.i,".webProfileControl__icon{margin:5px 8px 0 0;width:16px;height:16px;box-sizing:border-box}.webProfileControl__emptyIcon{background-color:#f4f4f4}.webProfileControl__supportIcon{background-color:#38d;background-image:url("+a+");background-position:50%;background-repeat:no-repeat}.webProfileControl__url{width:66.666%}.webProfileControl__url.m-fullWidth{width:auto;-webkit-flex:1 0 auto;flex:1 0 auto}.webProfileControl__title{width:33.333%}.webProfileControl__title,.webProfileControl__url{margin:0 8px 0 0}.webProfileControl__hintWrapper{width:auto;height:26px;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;margin-right:10px}.webProfileControl__supportLinkDescription{margin:6px 0 5px}",""]),t.exports=e},3724:function(t,e,n){var r=n(10),i=n(3725);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3725:function(t,e,n){(e=n(11)(!1)).push([t.i,".profileSettings__emailBanner{margin:-25px -25px 0;padding-bottom:7px}.profileSettings__avatar{margin-right:18px}.profileSettings__baseFields{display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:wrap;flex-wrap:wrap}.profileSettings__baseFields .textfield{margin:0}.profileSettings__cell{margin-bottom:15px;width:48.9%}.profileSettings__cell.m-fullWidth{width:100%}.profileSettings__permalinkControl{margin:4px 0 12px}.profileSettings.m-showPermalinkWarning .profileSettings__permalinkWarning{display:block}.profileSettings__description textarea{height:66px}.profileSettings__description textarea:disabled{background-color:#f2f2f2;border-color:#e5e5e5;color:#ccc;cursor:default;resize:none}.profileSettings__description textarea:disabled::-webkit-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-moz-placeholder{color:#ccc}.profileSettings__description textarea:disabled:-ms-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::-ms-input-placeholder{color:#ccc}.profileSettings__description textarea:disabled::placeholder{color:#ccc}.profileSettings__webProfiles{margin:18px 0}.profileSettings__formButtons{padding:20px 25px 0;margin:0 -25px;position:relative;display:-webkit-flex;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end}.profileSettings__permalinkWarning{display:none;line-height:1.6}",""]),t.exports=e},3726:function(t,e,n){var r=n(1).t("More");t.exports=n(84).extend({className:"sc-button-more",defaults:{ContentViewClass:n(3727),contentViewArgs:{size:"medium",includeStationShare:!0},overlayType:"dropdown",overlayOptions:{anchor:"left top",relativeElementAnchor:"left bottom"}},buttonLabels:{default:r,selected:{text:r,title:r}}})},3727:function(t,e,n){t.exports=n(5).extend(n(311),{ModelClass:n(30),defaults:{size:"medium"},getTemplateData:function(){return{items:[[r.call(this,n(1997),{showUserName:!0}),r.call(this,n(2074),{showUserName:!0})]]}},getModelData:function(){return{}}});function r(t,e){var r=this.options.size,i=this.model.id;return{args:n(0).assign({className:"moreActions__button m-noIcon sc-button-"+r,size:r,resource_id:i,resource_type:"user",isScButton:!1,icon_only:!1,selectedClass:"sc-button-selected"},e),View:t}}},3728:function(t,e,n){t.exports=n(5).extend({template:n(3729),css:n(3772),ModelClass:n(30),className:"userMain",defaults:{subpage:"all"},getTemplateData:function(t){var e=n(3).get("me");return t["show_"+this.options.subpage]=!0,t.showUploadFooter=this.model.isMe()&&e.hasOwnSounds(),t}})},3729:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return"  "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3730),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},3:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3734),{name:"$view",hash:{showUploadFooter:null!=e?e.showUploadFooter:e,showEndView:!0,resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},5:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(2052),{name:"$view",hash:{showUploadFooter:null!=e?e.showUploadFooter:e,resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},7:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3765),{name:"$view",hash:{showUploadFooter:null!=e?e.showUploadFooter:e,_id:null!=e?e._resource_id:e},data:o}))+"\n"},9:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3767),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},11:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(2583),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},13:function(t,e,r,i,o){return"    "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3770),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{};return(null!=(a=(n(4)||e&&e.$view||r.helperMissing).call(l,n(1946),{name:"$view",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'\n<div class="userMain__content">\n'+(null!=(a=r.if.call(l,null!=e?e.show_all:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?a:"")+(null!=(a=r.if.call(l,null!=e?e.show_tracks:e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?a:"")+(null!=(a=r.if.call(l,null!=e?e["show_popular-tracks"]:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?a:"")+(null!=(a=r.if.call(l,null!=e?e.show_albums:e,{name:"if",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o}))?a:"")+(null!=(a=r.if.call(l,null!=e?e.show_sets:e,{name:"if",hash:{},fn:t.program(11,o,0),inverse:t.noop,data:o}))?a:"")+(null!=(a=r.if.call(l,null!=e?e.show_reposts:e,{name:"if",hash:{},fn:t.program(13,o,0),inverse:t.noop,data:o}))?a:"")+"</div>\n"},useData:!0})},3730:function(t,e,n){(function(e){t.exports=n(5).extend({template:n(3731),css:n(3732),className:"userDropbar sc-media sc-border-light-bottom",ModelClass:n(30),requiredAttributes:["username"],events:{"click .userDropbar__title":function(t){e("body,html").animate({scrollTop:0},{duration:300})}}})}).call(this,n(14))},3731:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<div class="sc-media-image">\n  '+u((n(4)||e&&e.$view||s).call(l,n(67),{name:"$view",hash:{size:30,resource_type:null!=e?e._resource_type:e,resource_id:null!=e?e._resource_id:e},data:o}))+'\n</div>\n<div class="userDropbar__buttons sc-media-extra">\n  '+u((n(4)||e&&e.$view||s).call(l,n(2653),{name:"$view",hash:{resource_id:null!=e?e._resource_id:e},data:o}))+'\n</div>\n<div class="sc-media-content">\n  <h2 class="userDropbar__title sc-truncate">'+u("function"==typeof(a=null!=(a=r.username||(null!=e?e.username:e))?a:s)?a.call(l,{name:"username",hash:{},data:o}):a)+" "+u((n(4)||e&&e.$view||s).call(l,n(207),{name:"$view",hash:{referral:"t071",resource_id:null!=e?e._resource_id:e},data:o}))+"</h2>\n</div>\n"},useData:!0})},3732:function(t,e,n){var r=n(10),i=n(3733);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3733:function(t,e,n){(e=n(11)(!1)).push([t.i,".userDropbar{padding:22px 0 10px}.userDropbar__title{font-size:24px;line-height:1.3;cursor:pointer}.userDropbar__buttons{margin-top:2px}",""]),t.exports=e},3734:function(t,e,n){t.exports=n(91).extend(n(231),n(31).withOptions("userStream"),{Subview:n(2584),template:n(3739),css:[n(1896),n(1891),n(3762)],emptyTemplate:n(1892),tagName:"div",className:"userStream",listClassName:"soundList sc-list-nostyle",itemClassName:"soundList__item",element2selector:{list:".userStream__list"},animations:{remove:{delay:0}},defaults:{showEndView:!0,initialPageSize:5,pageSize:10,showUploadFooter:!1},events:{"click .emptyNetworkPage__button > a":function(){n(12).trackUploadFunnel({chapter:"upload_button_user_profile"})}},setup:function(t){var e=t.resource_id,r=t.showUploadFooter;this.collection=new(n(3764))(null,{userId:e}),this.collection.setLimit(20),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:["username"]}),r&&(this.EndOfListView=n(1986))},onAdd:function(t,e,i){r(t)&&n(91).prototype.onAdd.call(this,t,e,i)},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).t("Seems a little quiet over here"),t.linkUrl=t.buttonUrl=n(20).getRoute("upload"),t.linkText=n(1).t("Upload a track to share it with your followers."),t.buttonText=n(1).t("Upload now")):(t.message=n(1).t("Nothing to hear here"),t.subheaderMessage=n(1).t("Follow [[username]] for updates on sounds they share in the future.",{username:this.user.get("username")})),t.emptyPageClass="emptyStream",t},getListContainer:function(){return this.getElement("list")},getModelsToRender:function(){return this.collection.filter(r)},getSubviewArgs:function(t){return{userStreamItem:t,userId:this.options.resource_id}}});function r(t){return!t.isSpotlight()}},3735:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return"  "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3736),{name:"$view",hash:{stream_owner_id:null!=e?e.user_id:e,resource_type:null!=e?e._resource_id:e,resource_id:null!=e?e._resource_id:e},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{};return t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(l,n(289),{name:"$view",hash:{time_display_prefix:null!=e?e.time_display_prefix:e,time_to_show:null!=e?e.time_to_show:e,actionType:null!=e?e.actionType:e,actorId:null!=e?e.actorId:e,resource_type:null!=e?e.model_type:e,resource_id:null!=e?e.model_id:e},data:o}))+"\n\n"+(null!=(a=r.if.call(l,null!=e?e.show_spotlight:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")},useData:!0})},3736:function(t,e,n){var r=n(1).t("Remove from Spotlight");t.exports=n(5).extend(n(59),{css:n(3737),className:"spotlightRemove sc-ir",tagName:"a",buttonLabels:{default:r},ModelClass:n(415),defaults:{stream_owner_id:null,isScButton:!1},states:{removing:"removing"},setup:function(){this.spotlight=new(n(2039))(null,{userId:this.options.stream_owner_id})},dispose:function(){this.spotlight.release(),delete this.spotlight},onClick:function(){n(3).get("me").id===this.options.stream_owner_id&&(this.toggleState("removing",!0),this.removeFromSpotlight())},removeFromSpotlight:function(){this.model.isSpotlight()&&this.spotlight.remove(this.model)}})},3737:function(t,e,n){var r=n(10),i=n(3738);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3738:function(t,e,n){var r=n(11),i=n(27),o=n(244);e=r(!1);var a=i(o);e.push([t.i,".spotlightRemove{background:transparent url("+a+") no-repeat 0 0;border:0;opacity:0;cursor:pointer;position:absolute;right:23px;top:22px;width:15px;height:15px;visibility:hidden;z-index:3}.spotlightRemove:active{-webkit-transform:translateY(1px);transform:translateY(1px)}.spotlightRemove.removing{-webkit-animation:g-rotate .8s linear infinite;animation:g-rotate .8s linear infinite}.editing .spotlightRemove{opacity:1;visibility:visible}",""]),t.exports=e},3739:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return u((n(4)||e&&e.$view||s).call(l,n(3740),{name:"$view",hash:{resource_id:null!=(a=null!=e?e._options:e)?a.resource_id:a},data:o}))+'\n\n<h3 class="userstream__header">'+u((n(2)||e&&e.$t||s).call(l,"Recent",{name:"$t",hash:{},data:o}))+'</h3>\n<div class="userStream__list"></div>\n'},useData:!0})},3740:function(t,e,n){(function(e){t.exports=n(46).extend(n(643),n(451),{Subview:n(2584),css:[n(3741),n(1896)],template:n(3743),tagName:"div",className:"spotlight",listClassName:"spotlight__list soundList sc-list-nostyle",itemClassName:"spotlight__item soundList__item g-all-transitions-300",events:{"click .spotlight__upsellCTA":function(){var t=n(3).get("me");n(160).default.trackUserEvent("spotlight_edit_attempt",{creator_display_name:t.get("username"),creator_user_urn:t.getUrn()})}},states:{empty:"empty",full:"full",isMine:"isMine"},element2selector:{counter:".spotlight__counter",listContainer:".spotlight__listContainer"},defaults:{maxDisplay:5},editableObject:null,listSelector:".spotlight__list",listItemSelector:".spotlight__item",animations:{remove:{delay:0}},setup:function(){var t={userId:this.options.resource_id};this.collection=new(n(2039))(null,t),this.customUserAudiblesFilter=r.bind(null,this.collection),this.editableObject=this.collection,this.toggleState("isMine",n(3).get("me").id===this.options.resource_id)},renderDecorate:function(){n(46).prototype.renderDecorate.call(this),this.syncState(),this.subviews.userAudibleSearch&&this.subviews.userAudibleSearch.on("onItemSelected",this.addItem,this)},syncState:function(){if(this.getState("isMine")){var t=this.collection.length,e=this.collection.getMaxItemCount();this.toggleState("empty",0===t).toggleState("full",t===e&&this.getState("editing")).getElement("counter").text("("+[t,e].join("/")+")")}},addItem:function(t){var e="playlist"===t.get("kind"),r=new(n(415))({type:e?"playlist":"track",track:e?null:t.toJSON(),playlist:e?t.toJSON():null});r.release(),r.toggleSpotlight(!0),this.collection.add(r,{at:0})},onAddItem:function(){this.syncState(),this.collection.isEditing()&&(i(this,!1),i(this,!0))},onRemoveItem:function(){var t=this;n(0).delay((function(){return t.syncState()}),200)},onEditEnter:function(){this.syncState(),this.enableSorting(),i(this,!0)},onEditLeave:function(){this.disableSorting(),this.syncState(),i(this,!1)},getListContainer:function(){return this.getElement("listContainer")},getSubviewArgs:function(t){return{userStreamItem:t,userId:this.options.resource_id}},getTemplateData:function(){var t=this.getState("isMine"),e=n(3).get("me"),r=e.getPerk("spotlight"),i=t&&!r&&e.getNumTracks()>=1,o=i&&e.getNumTracks()>=5,a=this.getModelsToRender().length||t&&r||i;return{userId:this.options.resource_id,customUserAudiblesFilter:this.customUserAudiblesFilter,showSpotlight:a,isMine:t,showUpsell:i,showUpsellBanner:o}}});function r(t,e){return t.every((function(t){return t.getAudible()!==e}))}function i(t,n){var r=t.$el,i="fakePlayButton",o="."+i;n?(r.find(".commentPlaceholder").hide(),r.find(".playButton").each((function(){e(this).hide().before('<span class="'+[this.className,i].join(" ")+'"></span>')}))):(r.find(o).remove(),r.find(".playButton").show(),r.find(".commentPlaceholder").show())}}).call(this,n(14))},3741:function(t,e,n){var r=n(10),i=n(3742);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3742:function(t,e,n){(e=n(11)(!1)).push([t.i,'.spotlight{position:relative}.spotlight__full{margin:0 0 10px;display:none}.spotlight__empty{margin:0;display:none;min-height:32px}.spotlight.empty .spotlight__empty,.spotlight.full .spotlight__full{display:block}.spotlight__mine{padding:0;margin-bottom:0;position:relative;height:0;transition:margin .3s,height .3s,padding .3s,margin .3s}.spotlight.empty .spotlight__mine{height:auto;padding:10px 0 20px}.spotlight__item{border:1px solid transparent;border-radius:5px;margin-bottom:0;padding:22px 0 13px;position:relative}.spotlight.full .spotlight__search,.spotlight__search{display:none}.spotlight.editing .spotlight__mine{height:auto;padding:10px 0 20px}.spotlight.editing .spotlight__empty{display:none}.spotlight.editing .spotlight__search{display:block}.spotlight.editing .spotlight__item{background-color:#fff;cursor:move;padding-left:22px;margin-left:-22px;padding-right:23px;margin-right:-23px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.spotlight.editing .spotlight__item:hover{border-color:#f2f2f2}.spotlight.editing .spotlight__item:after{content:"";position:absolute;left:0;top:0;right:0;bottom:0;z-index:2}.spotlight__list .sortable-placeholder{border:1px solid transparent;padding-top:10px;padding-bottom:25px}.spotlight.editing .spotlight__item .soundTitle__tag,.spotlight.editing .spotlight__item .soundTitle__uploadTime{display:none}.spotlight__upsellCTA{position:absolute;top:0;right:0;color:#fff}',""]),t.exports=e},3743:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{};return"  "+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(l,n(3744),{name:"$view",hash:{resource_id:null!=e?e.userId:e},data:o}))+"\n"+(null!=(a=r.if.call(l,null!=e?e.isMine:e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?a:"")+'  <div class="spotlight__listContainer"></div>\n  <span class="sc-border-light-top g-box-full"></span>\n'},2:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return(null!=(a=r.if.call(l,null!=e?e.showUpsell:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?a:"")+'    <div class="spotlight__editButton">'+u((n(4)||e&&e.$view||s).call(l,n(3748),{name:"$view",hash:{showUpsell:null!=e?e.showUpsell:e,resource_id:null!=e?e.userId:e},data:o}))+"</div>\n"+(null!=(a=r.if.call(l,null!=e?e.showUpsellBanner:e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?a:"")+'    <div class="spotlight__mine">\n      <p class="spotlight__empty">'+u((n(2)||e&&e.$t||s).call(l,"Highlight your best tracks and playlists: put them in Spotlight so that your audience will find them first when they visit your profile.",{name:"$t",hash:{},data:o}))+'</p>\n      <p class="spotlight__full sc-type-h3">'+u((n(2)||e&&e.$t||s).call(l,"Your Spotlight is full, with the maximum of five tracks or playlists. Take one or more of them out to showcase something else.",{name:"$t",hash:{},data:o}))+'</p>\n      <div class="spotlight__search">\n        '+u((n(4)||e&&e.$view||s).call(l,n(709),{name:"$view",hash:{customUserAudiblesFilter:null!=e?e.customUserAudiblesFilter:e,key:"userAudibleSearch"},data:o}))+"\n      </div>\n    </div>\n"},3:function(t,e,r,i,o){return'      <div class="spotlight__upsellCTA">'+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3753),{name:"$view",hash:{},data:o}))+"</div>\n"},5:function(t,e,r,i,o){return'      <div class="spotlight__upsellBanner">'+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3757),{name:"$view",hash:{},data:o}))+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return null!=(o=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.showSpotlight:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:""},useData:!0})},3744:function(t,e,n){t.exports=n(5).extend({css:n(3745),template:n(3747),className:"spotlightTitle",tagName:"h3",setup:function(t){this.collection=new(n(2039))(null,t)},onAdd:function(){this.rerender()},onRemove:function(){this.rerender()},getTemplateData:function(t){return t.isMe=this.options.resource_id===n(3).get("me").id,t.maxItems=this.collection.getMaxItemCount(),t.currentItems=this.collection.length,t}})},3745:function(t,e,n){var r=n(10),i=n(3746);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3746:function(t,e,n){(e=n(11)(!1)).push([t.i,".spotlightTitle{margin-bottom:20px;font-size:23px;font-weight:100}",""]),t.exports=e},3747:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return"  "+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},"Spotlight ([[currentItems]]/[[maxItems]])",{name:"$t",hash:{maxItems:null!=e?e.maxItems:e,currentItems:null!=e?e.currentItems:e},data:o}))+"\n"},3:function(t,e,r,i,o){return"  "+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},"Spotlight",{name:"$t",hash:{},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return null!=(o=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.isMe:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i}))?o:""},useData:!0})},3748:function(t,e,n){t.exports=n(5).extend(n(643),n(87),{template:n(3749),css:n(3750),className:"editSpotlight sc-button-group",editableObject:null,enterEditingStateDefaults:{addNavigationBlock:!0},element2selector:{editButton:".editSpotlight__editButton",cancelButton:".editSpotlight__cancelButton",saveButton:".editSpotlight__saveButton"},events:function(){return this.options.showUpsell?{}:{"click .editSpotlight__editButton":"onEditButtonClick","click .editSpotlight__cancelButton":"onCancelButtonClick","click .editSpotlight__saveButton":"onSaveButtonClick"}},defaults:{buttonSize:"small",showUpsell:!1,dialogType:"genericProUpsell",dialogSelector:".editSpotlight__upsellButton"},dialogArgs:function(){var t=this.options.dialogSelector;return{togglerEl:this.$(t),subviewArgs:{text:n(1).t("Get a Pro subscription to pin tracks and playlists to the top of your profile with Spotlight."),buttonText:n(1).t("Learn more"),tcode:"t232"}}},setup:function(t){this.collection=new(n(2039))(null,t),this.editableObject=this.collection},getTemplateData:function(t){t.buttonSize=this.options.buttonSize},renderDecorate:function(){this.options.showUpsell||this.getElement("editButton").one("click",this.onFirstEditClick.bind(this))},onFirstEditClick:function(){var t=new(n(3752))(null,{userId:this.options.resource_id,limit:25}),e=new(n(647))(null,{resource_id:this.options.resource_id,playlists_for:"user",limit:25});t.fetch().always((function(){t.release()})),e.fetch().always((function(){e.release()}))},onEditLeave:function(){var t=this.collection,e=this.editableObject;if(e.isCanceling())t.resetOrder();else if(e.isSaving()){t.saveOrder();var r=n(3).get("me");n(160).default.trackUserEvent("add_a_track_to_spotlight",{creator_display_name:r.get("username"),creator_user_urn:r.getUrn()}),n(12).trackV1Click({click_name:"user::spotlight_saved",click_attributes:{user_subscription:n(3).get("me").getCreatorSubscriptionIdentifier()}})}}})},3749:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return"editSpotlight__upsellButton sc-button-disabled"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l,s=null!=e?e:t.nullContext||{},u=r.helperMissing,c=t.escapeExpression;return'<button type="button" class="editSpotlight__editButton sc-button sc-button-'+c("function"==typeof(l=null!=(l=r.buttonSize||(null!=e?e.buttonSize:e))?l:u)?l.call(s,{name:"buttonSize",hash:{},data:o}):l)+" sc-button-edit "+(null!=(a=r.if.call(s,null!=(a=null!=e?e._options:e)?a.showUpsell:a,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+'">'+c((n(2)||e&&e.$t||u).call(s,"Edit Spotlight",{name:"$t",hash:{},data:o}))+'</button>\n<button type="button" class="editSpotlight__cancelButton sc-button sc-button-nostyle sc-button-'+c("function"==typeof(l=null!=(l=r.buttonSize||(null!=e?e.buttonSize:e))?l:u)?l.call(s,{name:"buttonSize",hash:{},data:o}):l)+'">'+c((n(2)||e&&e.$t||u).call(s,"Cancel",{name:"$t",hash:{},data:o}))+'</button>\n<button type="button" class="editSpotlight__saveButton sc-button sc-button-'+c("function"==typeof(l=null!=(l=r.buttonSize||(null!=e?e.buttonSize:e))?l:u)?l.call(s,{name:"buttonSize",hash:{},data:o}):l)+' sc-button-cta">'+c((n(2)||e&&e.$t||u).call(s,"Save",{name:"$t",hash:{},data:o}))+"</button>\n"},useData:!0})},3750:function(t,e,n){var r=n(10),i=n(3751);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3751:function(t,e,n){(e=n(11)(!1)).push([t.i,".editSpotlight{position:absolute;top:0;right:0}.editSpotlight .editSpotlight__editButton{margin-right:0}.editSpotlight.editing .editSpotlight__editButton,.editSpotlight__cancelButton,.editSpotlight__saveButton{display:none}.editSpotlight.editing .editSpotlight__cancelButton,.editSpotlight.editing .editSpotlight__saveButton{display:block}",""]),t.exports=e},3752:function(t,e,n){t.exports=n(33).extend({model:n(18),defaults:{limit:250},baseUrl:function(){return this.getEndpointUrl("userTracks",{id:this.options.userId})}})},3753:function(t,e,n){t.exports=n(5).extend(n(68).withOptions({type:"pro",elSelector:".spotlightUpsellButton"}),{css:n(3754),tagName:"button",className:"spotlightUpsellButton sc-button sc-button-small sc-button-edit-white sc-button-cta",template:function(){return n(1).t("Edit Spotlight")},getUpsellRef:function(){return"t282"}})},3754:function(t,e,n){var r=n(10),i=n(3755);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3755:function(t,e,n){var r=n(11),i=n(27),o=n(3756);e=r(!1);var a=i(o);e.push([t.i,".sc-button-edit-white{text-indent:19px}.sc-button-edit-white:before{background-image:url("+a+');background-size:12px 12px;content:"";display:block;position:absolute;background-repeat:no-repeat;background-position:50%;width:20px;height:20px;top:0;bottom:0;margin:auto 0;left:4px}',""]),t.exports=e},3756:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDEzIDEzIj4KICAgIDxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjcxOCAzLjYxbC04LjQ4NiA4LjQ4Ni0zLjUzNS43MDcuNzA3LTMuNTM1TDkuODg5Ljc4MmwyLjgyOSAyLjgyOXptLTIuMTIyLS43MDZsLS43MDctLjcwNy03LjA3MSA3LjA3LjcwNy43MDggNy4wNzEtNy4wNzF6Ii8+Cjwvc3ZnPgo="},3757:function(t,e,n){var r=new(n(47))("has-dismissed");t.exports=n(5).extend({css:n(3758),template:n(3760),events:{"click .spotlightUpsellBanner__closeButton":function(){r.set("spotlight-upsell-banner",{dismissed:!0}),this.toggleState("showSpotlightUpsellBanner",!1)}},states:{showSpotlightUpsellBanner:"showSpotlightUpsellBanner"},className:"spotlightUpsellBanner sc-font",setup:function(){if(this.toggleState("showSpotlightUpsellBanner",!i()),!i()){var t=n(3).get("me").getUrn(),e=n(0).pick(n(1955).findByKey("last12Months"),"from","to"),r=e.from,o=e.to;this.collection=new(n(1967))(null,{metric:"plays",by:"track",from:r,to:o,user:t,track:null,limit:1})}},getTemplateData:function(){var t=this.collection&&this.collection.first()&&this.collection.first().get("subject");return{artworkUrl:t&&t.artwork_url?n(37).urlFrom(t,200):n(3761)}}});function i(){var t=r.get("spotlight-upsell-banner");return t&&t.dismissed}},3758:function(t,e,n){var r=n(10),i=n(3759);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3759:function(t,e,n){(e=n(11)(!1)).push([t.i,".spotlightUpsellBanner__background{background:rgba(0,0,0,.8);padding:0 30px;margin:-1px -1px -1px 0;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column;-webkit-justify-content:center;justify-content:center}.spotlightUpsellBanner__artWork{width:160px;height:160px;padding:10px;-webkit-flex-shrink:0;flex-shrink:0}.spotlightUpsellBanner__header{font-size:24px;margin-bottom:16px;font-weight:300}.spotlightUpsellBanner__text{-webkit-flex:2;flex:2;margin-right:10px;font-size:14px;font-weight:300;line-height:1.57}.spotlightUpsellBanner__closeButton{position:absolute;right:0;top:60px;width:24px;height:24px;cursor:pointer;padding:0 8px}.spotlightUpsellBanner__closePath{fill:#fff}.spotlightUpsellBanner__button.g-button-premium{-webkit-flex:1;flex:1;font-size:16px}.spotlightUpsellBanner{display:none}.showSpotlightUpsellBanner.spotlightUpsellBanner{width:100%;display:-webkit-flex;display:flex;color:#fff;border:2px dashed #d6d6d6;height:180px}",""]),t.exports=e},3760:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<img class="spotlightUpsellBanner__artWork" src="'+u("function"==typeof(a=null!=(a=r.artworkUrl||(null!=e?e.artworkUrl:e))?a:s)?a.call(l,{name:"artworkUrl",hash:{},data:o}):a)+'">\n<div class="spotlightUpsellBanner__background">\n  <svg class="spotlightUpsellBanner__closeButton" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n      <path class="spotlightUpsellBanner__closePath" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n    </g>\n  </svg>\n\n  <div class="spotlightUpsellBanner__header">'+u((n(2)||e&&e.$t||s).call(l,"Get more plays with Spotlight",{name:"$t",hash:{},data:o}))+'</div>\n  <div class="g-flex-row-centered">\n    <div class="sc-font-light spotlightUpsellBanner__text">\n      '+u((n(2)||e&&e.$t||s).call(l,"SoundCloud Pro users who pin tracks to the top of their profiles get heard 10% more than those who don’t.",{name:"$t",hash:{},data:o}))+"\n    </div>\n    "+u((n(4)||e&&e.$view||s).call(l,n(645),{name:"$view",hash:{text:(n(2)||e&&e.$t||s).call(l,"Get Spotlight",{name:"$t",hash:{},data:o}),tcode:"t281",size:"large",className:"spotlightUpsellBanner__button"},data:o}))+"\n  </div>\n</div>\n"},useData:!0})},3761:function(t,e,n){t.exports=n.p+"assets/images/spotlight-upsell-fallback-cover-b8984aa7.jpg"},3762:function(t,e,n){var r=n(10),i=n(3763);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3763:function(t,e,n){(e=n(11)(!1)).push([t.i,".userstream__header{padding-top:22px;margin:12px 0 20px;font-size:23px;font-weight:100}",""]),t.exports=e},3764:function(t,e,n){t.exports=n(128).extend(n(156),{model:n(415),getSourceInfo:function(t){void 0===t&&(t=this.getAudioCursor());var e="tracks";t>=0&&(this.models[t].isSpotlight()&&(e="spotlight"));return{type:e,resourceId:this.options.resource_id||this.options.userId,resourceType:"user"}},setupSources:function(){var t=[new(n(651))(null,{userId:this.options.userId||this.options.resource_id})],e=n(30).getInstance({id:this.options.userId}),r=e&&e.getPerk("spotlight");return(r||void 0===r)&&t.unshift(new(n(2039))(null,{userId:this.options.userId||this.options.resource_id})),t},audibleAt:function(t){var e=this.at(t);return e&&e.getAudible()}},{hashFn:function(t,e){return e.resource_id||e.userId}})},3765:function(t,e,n){t.exports=n(2052).extend({setup:function(t){var e=t._id;this.collection=new(n(3766))(null,{userId:e}),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:["username"]}),t.showUploadFooter&&(this.EndOfListView=n(1986))}})},3766:function(t,e,n){t.exports=n(143).extend({model:n(18),defaults:{type:"popular_tracks"},baseUrl:function(){return this.getEndpointUrl("userToptracks",{id:this.options.userId})},parse:function(t){return t.collection}})},3767:function(t,e,n){t.exports=n(91).extend(n(231),{Subview:n(289),css:[n(1896),n(1891)],className:"soundList",itemClassName:"soundList__item",emptyTemplate:n(1892),defaults:{showEndView:!0},events:{"click .emptyNetworkPage__button > a":function(){n(12).trackUploadFunnel({chapter:"upload_button_user_profile"})}},user:null,setup:function(t){var e=t.resource_id;this.collection=new(n(3768))(null,{userId:e}),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:["username"]})},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).t("Seems a little quiet over here"),t.linkUrl=t.buttonUrl=n(20).getRoute("upload"),t.linkText=n(1).t("Upload a track to share it with your followers."),t.buttonText=n(1).t("Upload now")):t.message=n(1).t("[[username]] hasn’t created any albums yet.",{username:this.user.get("username")}),t.emptyPageClass="emptyAlbums",t}})},3768:function(t,e,n){t.exports=n(143).extend({model:n(3769),defaults:{type:"albums"},baseUrl:function(){return this.getEndpointUrl("userAlbums",{id:this.options.userId})}})},3769:function(t,e,n){t.exports=n(43)},3770:function(t,e,n){t.exports=n(91).extend(n(231),n(31).withOptions("userReposts"),{className:"userReposts",Subview:n(2584),css:[n(1896),n(1891)],listClassName:"soundList sc-list-nostyle",itemClassName:"soundList__item",animations:{remove:{delay:0}},emptyTemplate:n(1892),defaults:{showEndView:!0},setup:function(t){var e=t.resource_id;this.collection=new(n(3771))(null,{userId:e}),this.user=this.addDataSource(new(n(30))({id:e}),{requiredAttributes:["username"]})},getTemplateData:function(t){return this.user.isMe()?(t.message=n(1).t("You haven’t reposted any sounds."),t.linkUrl="https://help.soundcloud.com/hc/articles/115003567488-Reposting-tracks-or-playlists",t.linkExternal=!0,t.linkText=n(1).t("Learn about reposts")):t.message=n(1).t("[[username]] hasn’t reposted any sounds yet.",{username:this.user.get("username")}),t.emptyPageClass="emptyReposts",t},getSubviewArgs:function(t){return{userStreamItem:t,userId:this.options.resource_id}}})},3771:function(t,e,n){t.exports=n(143).extend(n(676),{defaults:{type:"reposts"},baseUrl:function(){return this.getEndpointUrl("streamUserReposts",{id:this.options.userId})}})},3772:function(t,e,n){var r=n(10),i=n(3773);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3773:function(t,e,n){(e=n(11)(!1)).push([t.i,".userMain__tabs{position:relative;margin-bottom:20px}",""]),t.exports=e},3774:function(t,e,n){function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}t.exports=n(633).extend(n(31).withOptions("userSidebar"),n(2098),{className:"userSidebar",ModelClass:n(30),defaults:{showLikes:!0,showComments:!0,targetOffsetTop:125},getModelData:function(){return{}},getTemplateData:function(){var t=this.model,e=n(3).get("me"),i=t.isMe(),o=!!e.id,a=this.options,l=a.showLikes,s=a.showComments,u=o&&(e.get("track_count")||e.get("private_tracks_count")),c=function(){return{resource_id:t.id}},f=l&&(!i||t.get("likes_count")),h=n(188).getQuotaInfo(e).isNearingQuota,p=this.getDirectSupportProfile();return{modules:n(0).compact([p&&[n(2099),r({},c(),{profile:p})],[n(3775),c()],i&&u&&[n(714),{}],i&&!e.hasUnlimitedUpload()&&h&&[n(648),{stretchedVersion:!1,ref:e.isOverQuota()?"t259":"t258"}],[n(3788),c()],f&&[n(715),c()],[n(3794),c()],o&&!i&&[n(3797),c()],[n(3799),c()],s&&[n(3801),c()],[n(669),{userName:t.get("username")}],[n(629)]]).map((function(t){return{ModuleView:t[0],args:t[1]}}))}},template:function(t){return n(29).children(t.modules.map((function(t){var e=t.args,r=t.ModuleView;return n(29).subview(r,e)})))}})},3775:function(t,e,n){t.exports=n(5).extend({tagName:"article",className:"infoStats",template:n(3776),css:n(3786),ModelClass:n(30),requiredAttributes:["description","followers_count","followings_count","track_count"],setup:function(){this.model.isMe()&&(this.meUser=this.addDataSource(new(n(164)),{observedAttributes:["private_tracks_count","blocked_tracks_count","hidden_tracks_count"]}))},getTemplateData:function(t){return t.trackCount=this.model.isMe()?this.meUser.getNumTracks():this.model.getNumTracks(),t}})},3776:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,r,i,o){return'  <div class="infoStats__description">\n    '+t.escapeExpression((n(4)||e&&e.$view||r.helperMissing).call(null!=e?e:t.nullContext||{},n(3777),{name:"$view",hash:{resource_id:null!=e?e.id:e},data:o}))+"\n  </div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a,l=null!=e?e:t.nullContext||{},s=r.helperMissing,u=t.escapeExpression;return'<table class="infoStats__table sc-type-small">\n  <tr>\n    <td class="infoStats__stat sc-link-light sc-border-light-right">\n      <a href="'+u((n(16)||e&&e.$route||s).call(l,"userNetwork",e,"followers",{name:"$route",hash:{},data:o}))+'" rel="nofollow" class="infoStats__statLink sc-link-light" title="'+u((n(406)||e&&e.$tp||s).call(l,null!=e?e.followers_count:e,"%d follower","%d followers",{name:"$tp",hash:{},data:o}))+'">\n        <h3 class="infoStats__title sc-font-light">'+u((n(2)||e&&e.$t||s).call(l,"Followers",{name:"$t",hash:{},data:o}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+u((n(238)||e&&e.$formatStatNumber||s).call(l,null!=e?e.followers_count:e,{name:"$formatStatNumber",hash:{},data:o}))+'</div>\n      </a>\n    </td>\n    <td class="infoStats__stat sc-link-light sc-border-light-right">\n      <a href="'+u((n(16)||e&&e.$route||s).call(l,"userNetwork",e,"following",{name:"$route",hash:{},data:o}))+'" rel="nofollow" class="infoStats__statLink sc-link-light" title="'+u((n(406)||e&&e.$tp||s).call(l,null!=e?e.followings_count:e,"Following %d person","Following %d people",{name:"$tp",hash:{},data:o}))+'">\n        <h3 class="infoStats__title sc-font-light">'+u((n(2)||e&&e.$t||s).call(l,"Following",{name:"$t",hash:{},data:o}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+u((n(238)||e&&e.$formatStatNumber||s).call(l,null!=e?e.followings_count:e,{name:"$formatStatNumber",hash:{},data:o}))+'</div>\n      </a>\n    </td>\n    <td class="infoStats__stat">\n      <a href="'+u((n(16)||e&&e.$route||s).call(l,"user",e,"tracks",{name:"$route",hash:{},data:o}))+'" rel="nofollow" class="infoStats__statLink sc-link-light" title="'+u((n(406)||e&&e.$tp||s).call(l,null!=e?e.trackCount:e,"%d track","%d tracks",{name:"$tp",hash:{},data:o}))+'">\n        <h3 class="infoStats__title sc-font-light">'+u((n(2)||e&&e.$t||s).call(l,"Tracks",{name:"$t",hash:{},data:o}))+'</h3>\n        <div class="infoStats__value sc-font-light">'+u((n(238)||e&&e.$formatStatNumber||s).call(l,null!=e?e.trackCount:e,{name:"$formatStatNumber",hash:{},data:o}))+"</div>\n      </a>\n    </td>\n  </tr>\n</table>\n"+(null!=(a=r.if.call(l,null!=e?e.description:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?a:"")+u((n(4)||e&&e.$view||s).call(l,n(3781),{name:"$view",hash:{resource_id:null!=e?e.id:e},data:o}))+"\n"},useData:!0})},3777:function(t,e,n){t.exports=n(5).extend(n(1976),{template:n(3778),css:n(3779),className:"truncatedUserDescription",ModelClass:n(30),requiredAttributes:["description"],states:{overflow:"m-overflow",collapsed:"m-collapsed"},element2selector:{wrapper:".truncatedUserDescription__wrapper",content:".truncatedUserDescription__content",showToggle:".truncatedUserDescription__collapse"},events:{"click .truncatedUserDescription__collapse":"onCollapseClick"},defaults:{height:85,collapsed:!0},onCollapseClick:function(t){t.preventDefault(),this.toggleCollapse(!this.getState("collapsed"))},renderDecorate:function(){this.toggleCollapse(this.options.collapsed),this.whenInserted().done(this.calculateOverflow.bind(this))},toggleCollapse:function(t){var e=t?n(1).t("Show more"):n(1).t("Show less");this.toggleState("collapsed",t),this.getElement("showToggle").toggleClass("collapsed",t).text(e),this.getElement("wrapper").css("max-height",t?this.options.height+"px":"")},calculateOverflow:function(){this.toggleState("overflow",this.getElement("content").height()>this.options.height)}})},3778:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,r,i,o){var a=null!=e?e:t.nullContext||{},l=r.helperMissing,s=t.escapeExpression;return'<div class="truncatedUserDescription__wrapper">\n  <div class="truncatedUserDescription__content">\n    '+s((n(4)||e&&e.$view||l).call(a,n(1907),{name:"$view",hash:{usertext:!0,content:null!=e?e.description:e},data:o}))+'\n  </div>\n</div>\n<a class="truncatedUserDescription__collapse sc-link-dark g-link-collapse collapsed" href="#">'+s((n(2)||e&&e.$t||l).call(a,"Show more",{name:"$t",hash:{},data:o}))+"</a>\n"},useData:!0})},3779:function(t,e,n){var r=n(10),i=n(3780);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3780:function(t,e,n){(e=n(11)(!1)).push([t.i,'.truncatedUserDescription__wrapper{overflow:hidden;position:relative}.truncatedUserDescription__collapse{margin-top:10px;display:none;outline:0}.truncatedUserDescription.m-overflow.m-collapsed .truncatedUserDescription__wrapper:after{content:" ";position:absolute;left:0;bottom:0;height:25px;width:100%;background:#fff;background:linear-gradient(hsla(0,0%,100%,0),#fff)}.truncatedUserDescription__collapse:after{border-width:4px}.truncatedUserDescription.m-overflow .truncatedUserDescription__collapse{display:block}',""]),t.exports=e},3781:function(t,e,n){t.exports=n(46).extend({Subview:n(3782),css:n(3784),className:"web-profiles",listClassName:"sc-list-nostyle sc-clearfix",itemClassName:"web-profiles__item",defaults:{maxDisplay:0},setup:function(){this.collection=new(n(414))(null,{userId:this.options.resource_id})},getModelsToRender:function(){return this.collection.getNonDirectSupportProfiles()}})},3782:function(t,e,n){t.exports=n(5).extend(n(1976).withOptions({clickName:"click::ext_icon",clickObject:function(){return n(48).generate("user",this.model.getUserId())}}),{template:n(3783),className:"sc-truncate",ModelClass:n(439),getTemplateData:function(t){var e=t.url,r=this.model,i=r.isEmail();return{url:i?"mailto:"+e:n(95).formatUserGeneratedLink(e),icon:r.getNetworkClassName(),label:r.getNetworkName(),openInNewWin:!i&&"soundcloud"!==r.get("network")}}})},3783:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return' target="_blank"'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o,a,l=null!=e?e:t.nullContext||{},s=n.helperMissing,u=t.escapeExpression;return'<a href="'+u("function"==typeof(a=null!=(a=n.url||(null!=e?e.url:e))?a:s)?a.call(l,{name:"url",hash:{},data:i}):a)+'"'+(null!=(o=n.if.call(l,null!=e?e.openInNewWin:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:"")+' rel="me nofollow ugc" class="web-profile sc-link-light sc-social-logo-interactive">\n  <span class="sc-social-logo sc-social-logo-'+u("function"==typeof(a=null!=(a=n.icon||(null!=e?e.icon:e))?a:s)?a.call(l,{name:"icon",hash:{},data:i}):a)+'"></span>\n  '+u("function"==typeof(a=null!=(a=n.label||(null!=e?e.label:e))?a:s)?a.call(l,{name:"label",hash:{},data:i}):a)+"\n</a>\n"},useData:!0})},3784:function(t,e,n){var r=n(10),i=n(3785);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3785:function(t,e,n){(e=n(11)(!1)).push([t.i,".web-profiles{font-size:12px}.web-profiles__item:not(:last-child){margin-bottom:5px}",""]),t.exports=e},3786:function(t,e,n){var r=n(10),i=n(3787);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3787:function(t,e,n){(e=n(11)(!1)).push([t.i,'.infoStats{margin-bottom:30px}.infoStats__table{width:100%;margin:0 0 14px}.infoStats__stat{width:33.33%;text-align:left;text-indent:10px}.infoStats__stat:first-child{text-indent:0}.infoStats__title{line-height:.9;padding:5px 0 3px;font-size:12px}.infoStats__statLink{display:block}.infoStats__value{font-size:20px;line-height:1.2;-webkit-font-feature-settings:"tnum";font-feature-settings:"tnum";font-variant-numeric:tabular-nums}.infoStats__description{margin-bottom:20px}',""]),t.exports=e},3788:function(t,e,n){t.exports=n(129).extend({title:n(1).t("On tour"),Subview:n(3789),iconClassName:"songkick",moreText:n(1).t("View all"),events:{"click .sidebarHeader":function(){n(12).trackV1Click({context:this.getContextData(),click_category:"sidebar_module",click_name:"clickthrough::view_all",click_target:this.collection.songkickUrl})}},setup:function(t){this.collection=new(n(2654))(null,{resource_id:t.resource_id}),this.moreLink=this.collection.songkickUrl},onCollectionReset:function(){this.moreLink=this.collection.songkickUrl,n(129).prototype.onCollectionReset.apply(this,arguments)},getCount:function(){return this.collection.hasDataForView()?this.collection.length:void 0}})},3789:function(t,e,n){(function(e){t.exports=n(5).extend(n(447),{template:n(3790),css:n(3791),className:"songkickDates",defaults:{resource_id:null},events:{"click .songkickDate__link":function(t){n(12).trackV1Click({context:this.getContextData(),click_category:"sidebar_module",click_name:"clickthrough::view_date",click_target:e(t.target).attr("href")})}},setup:function(t){this.collection=new(n(2654))(null,{resource_id:t.resource_id})},trackImpression:function(){n(12).trackImpression({context:this.getContextData(),impression_name:"tour_sidebar_module"})},getTemplateData:function(t){var e=parseInt(this.collection.songkickId,10);return{events:n(0).map(t,(function(t){var r=[],i=new Date,o=t.start.date.split("-").map((function(t){return parseInt(t,10)})),a=o[0],l=o[1]-1,s=o[2];return t.performance.forEach((function(t){t.artist.id!==e&&r.push(t.artist)})),r.length&&(r={artist:r[0],others:r.length-1||!1}),i.setFullYear(a,l,s),{uri:t.uri,title:t.displayName,date:n(1).dateTimeHelper.format(i,"readable_with_weekday"),city:t.location.city,venue:t.venue.displayName,support:r}}))}}})}).call(this,n(14))},3790:function(t,e,n){var r=n(9);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,l=null!=e?e:t.nullContext||{},s=n.helperMissing,u="function",c=t.escapeExpression;return'  <div class="songkickDate'+(null!=(o=n.unless.call(l,i&&i.first,{name:"unless",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?o:"")+'">\n    <a href="'+c(typeof(a=null!=(a=n.uri||(null!=e?e.uri:e))?a:s)===u?a.call(l,{name:"uri",hash:{},data:i}):a)+'" title="'+c(typeof(a=null!=(a=n.title||(null!=e?e.title:e))?a:s)===u?a.call(l,{name:"title",hash:{},data:i}):a)+'" class="songkickDate__link sc-link-dark" target="_blank">\n      <h3>\n        <span class="songkickDate__date sc-type-light">'+c(typeof(a=null!=(a=n.date||(null!=e?e.date:e))?a:s)===u?a.call(l,{name:"date",hash:{},data:i}):a)+'</span>\n        <div class="songkickDate__title sc-truncate">'+c(typeof(a=null!=(a=n.city||(null!=e?e.city:e))?a:s)===u?a.call(l,{name:"city",hash:{},data:i}):a)+'</div>\n      </h3>\n      <div class="songkickDate__venue sc-text-light">'+c(typeof(a=null!=(a=n.venue||(null!=e?e.venue:e))?a:s)===u?a.call(l,{name:"venue",hash:{},data:i}):a)+"</div>\n    </a>\n"+(null!=(o=n.if.call(l,null!=e?e.support:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?o:"")+"  </div>\n"},2:function(t,e,n,r,i){return" sc-border-light-top"},4:function(t,e,n,r,i){var o;return'      <div class="sc-truncate songkickDate__support sc-text-light">\n'+(null!=(o=n.if.call(null!=e?e:t.nullContext||{},null!=(o=null!=e?e.support:e)?o.others:o,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.program(10,i,0),data:i}))?o:"")+"      </div>\n"},5:function(t,e,r,i,o){var a;return null!=(a=(n(406)||e&&e.$tp||r.helperMissing).call(null!=e?e:t.nullContext||{},null!=(a=null!=e?e.support:e)?a.others:a,{name:"$tp",hash:{artist:null!=(a=null!=(a=null!=e?e.support:e)?a.artist:a)?a.displayName:a,url:null!=(a=null!=(a=null!=e?e.support:e)?a.artist:a)?a.uri:a},fn:t.program(6,o,0),inverse:t.program(8,o,0),data:o}))?a:""},6:function(t,e,n,r,i){return'           With <a href="[[url]]" class="sc-link-light" target="_blank">[[artist]]</a> + %d other\n'},8:function(t,e,n,r,i){return'           With <a href="[[url]]" class="sc-link-light" target="_blank">[[artist]]</a> + %d others\n'},10:function(t,e,r,i,o){var a;return"          "+t.escapeExpression((n(2)||e&&e.$t||r.helperMissing).call(null!=e?e:t.nullContext||{},'With <a href="[[url]]" class="sc-link-light" target="_blank">[[artist]]</a>',{name:"$t",hash:{artist:null!=(a=null!=(a=null!=e?e.support:e)?a.artist:a)?a.displayName:a,url:null!=(a=null!=(a=null!=e?e.support:e)?a.artist:a)?a.uri:a},data:o}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var o;return null!=(o=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.events:e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i}))?o:""},useData:!0})},3791:function(t,e,n){var r=n(10),i=n(3792);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3792:function(t,e,n){(e=n(11)(!1)).push([t.i,".songkickDate{padding:10px 0}.songkickDate__link{display:block}.songkickDate__title{margin-bottom:3px}.songkickDate__date{margin-bottom:2px}",""]),t.exports=e},3793:function(t,e,n){t.exports=new(n(15))({_fetchDeferred:null,_webProfileCollection:null,defaults:{resource_id:null},applyTo:function(t){t.constructor.onCleanup=function(t){t._webProfileCollection.release()}},before:{setup:function(t){this._webProfileCollection=new(n(414))(null,{userId:t.resource_id})}},requires:["fetchServiceData"],override:{model:n(19).extend(),fetch:function(t){var e,r,i=this;return this._fetchDeferred||(this._fetchDeferred=n(6).defer().always((function(){i._fetchDeferred=null})),e=function(){i._fetchDeferred.resolve()},r=function(){i._fetchDeferred.resolve()},this._webProfileCollection.fetch(t).done((function(){i.fetchServiceData(t).done(e).fail(r)})).fail((function(){i._fetchDeferred.reject()}))),this._fetchDeferred}},resetFetch:function(){this.next_href=!1,this.lastFetchTime=Date.now(),this.reset([])}})},3794:function(t,e,n){t.exports=n(129).extend(n(31).withOptions("userRelatedArtists"),{title:n(1).t("Fans also like"),moreText:n(1).t("Refresh"),moreLink:"#",moreClassName:"refresh-ra",moduleClassName:"relatedArtistsModule",itemMinHeight:70.2,iconClassName:"following",Subview:n(3795),ModelClass:n(30),setup:function(){var t=this.model;this.subviewArgs={subviewName:"user-badge",subviewArgs:{noFollow:!0,showPremiumOnAvatar:!0},UsersCollection:n(3796),usersCollectionArgs:{userId:t.id},maxDisplay:3}},events:{"click .refresh-ra":"onRefreshClick"},onRefreshClick:function(t){this.subviews.content.refresh(),t.preventDefault()}})},3795:function(t,e,n){t.exports=n(1908).extend({refresh:function(){this.collection.rotateItems({maxDisplay:this.options.maxDisplay})}})},3796:function(t,e,n){t.exports=n(143).extend({model:n(30),defaults:{limit:12,maxPageSize:12},baseUrl:function(){return this.getEndpointUrl("userRelatedArtists",{id:this.options.userId})},rotateItems:function(t){var e=t.maxDisplay,n=this.remove(this.first(e));this.add(n)}})},3797:function(t,e,n){t.exports=n(129).extend(n(31).withOptions("userFollowers"),{ModelClass:n(30),requiredAttributes:["followers_count"],iconClassName:"user",moduleClassName:"followersModule",moreText:n(1).t("View all"),contentMinHeight:60,Subview:n(1908),countableAttribute:"followers_count",titleWithCount:function(t){return n(1).tp("[[count]] follower","[[count]] followers",t,{count:n(119).render(t,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){this.noFollow=!0,this.moreLink=n(20).getRoute(n(3).get("me").owns(this.model)?"youNetwork":"userNetwork",this.model,"followers"),this.subviewArgs={subviewArgs:{noFollow:!0},maxDisplay:9,floating:!0,UsersCollection:n(3798),usersCollectionArgs:{userId:this.model.id,limit:9},subviewName:"user-avatar-badge-hover"}}})},3798:function(t,e,n){t.exports=n(128).extend({model:n(30),defaults:{userId:null},setupSources:function(){var t=this.options.userId;return[new(n(2655))(null,{userId:t}),new(n(1899))(null,{userId:t})]}},{hashFn:n(2655).hashFn})},3799:function(t,e,n){t.exports=n(129).extend(n(31).withOptions("userFollowings"),{moreText:n(1).t("View all"),title:n(1).t("Following"),moduleClassName:"followingsModule",itemMinHeight:70.2,iconClassName:"following",Subview:n(1908),ModelClass:n(30),requiredAttributes:["followings_count"],countableAttribute:"followings_count",titleWithCount:function(t){return n(1).tp("[[count]] following","[[count]] following",t,{count:n(119).render(t,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){var t=this.model,e=!t.isMe()&&n(17).isLoggedIn()?n(3800):n(1903);this.noFollow=!0,this.subviewArgs={subviewName:"user-badge",subviewArgs:{noFollow:!0,showPremiumOnAvatar:!0},UsersCollection:e,usersCollectionArgs:{userId:t.id},maxDisplay:3},this.moreLink=n(20).getRoute("userNetwork",t,"following")}})},3800:function(t,e,n){t.exports=n(1903).extend({baseUrl:function(){return this.getEndpointUrl("userFollowingsNotFollowedBy",{id:this.options.userId,not_followed_by:n(3).get("me").id})}})},3801:function(t,e,n){t.exports=n(129).extend(n(31).withOptions("userComments"),{iconClassName:"comment",moduleClassName:"commentsModule",moreText:n(1).t("View all"),noFollow:!0,title:n(1).t("Comments"),itemMinHeight:53,Subview:n(3802),ModelClass:n(30),requiredAttributes:["comments_count"],countableAttribute:"comments_count",titleWithCount:function(t){return n(1).tp("[[count]] comment","[[count]] comments",t,{count:n(119).render(t,{useSIUnits:!0})},{context:"sidebar"})},setup:function(){this.moreLink=n(20).getRoute("userNetwork",this.model,"comments")}})},3802:function(t,e,n){t.exports=n(46).extend({Subview:n(2576),css:n(3803),className:"commentBadgeList",itemClassName:"commentBadgeList__item sc-border-light-top",setup:function(){this.collection=new(n(2582))(null,{userId:this.options.resource_id,limit:3})}})},3803:function(t,e,n){var r=n(10),i=n(3804);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1},a=(r(i,o),i.locals?i.locals:{});t.exports=a},3804:function(t,e,n){(e=n(11)(!1)).push([t.i,".commentBadgeList__item{padding:10px 0}.commentBadgeList__item:first-child{border-top:0}",""]),t.exports=e},622:function(t,e,n){t.exports=n(19).extend({resource_type:"stats-totals",baseUrl:function(){var t=this.options;var e=t.user,n=t.track,r={user_urn:e,track_urn:n,metric:t.singleMetric};return n?this.getEndpointUrl("totalsTrackStats",r):this.getEndpointUrl("totalsUserStats",r)},fetch:function(t){var e=this.options,r=e.from,i=e.to;return r&&i&&(t=n(0).assign({data:{from:+r,to:+i}},t)),n(19).prototype.fetch.call(this,t)},parse:function(t){return t&&t.period||t}},{hashFn:function(t,e){return void 0===e&&(e={}),[e.singleMetric,+e.from,+e.to,e.track].map(r).join("_")}});function r(t){return t||""}},623:function(t,e,n){var r=t.exports=n(405).extend({defaults:{type:"track_likes"},baseUrl:function(){return this.getEndpointUrl("userTrackLikes",{id:this.options.userId})},acceptsType:function(t){return"sound"===t}});n(619).applyTo(r,{fields:["track.title","track.genre","track.tag_list","track.user.username","track.user.full_name","track.user.permalink"],mixins:[n(156)],protoProps:{defaults:{type:"track_likes"}}})},759:function(t,e,n){t.exports=n(288).extend({css:[n(661),n(3657)],template:n(3659),tracking:{pageName:function(){var t=this.args,e=t.subpage;return(n(3).get("me").hasPermalink(t.userPermalink)?"you":"users")+":"+("sets"===e?"playlists":e||"main")},pageUrn:function(){return this.user.getUrn()}},setup:function(t){var e=this,i=t.userPermalink,o=t.subpage||"all",a=n(6).defer();return"you"===i&&n(3).get("router").navigateToRoute("user",[n(3).get("me")],{replace:!0}),n(30).resolve(i).done((function(t){e.user=t;var i=n(428).getTitleDisplayName(t.get("first_name"),t.get("last_name"),t.get("username"));e.setTitle(n(1).t("[[[username]]] | Free Listening on SoundCloud",{username:i}),{withoutSuffix:!0});var l={resource_id:t.id,subpage:o};r.call(e,l,t,a)})).fail(a.reject).fail(n(158).ajaxFatal(n(624).USER_NOT_FOUND)),a}});function r(t,e,r){var i=function(){return{resource_id:t.resource_id}};this.setViews({"l-banner":[n(3660),i()],"l-user-hero":[n(3665),i()],"l-vertical-bar":[n(3703),n(0).clone(t)],"l-main":[n(3728),n(0).defaults({playQueuePriority:1},t)],"l-sidebar-right":[n(3774),i()]}).done(r.resolve).done((function(){return n(8).trigger("tracking:userLayout",{user:e})}))}}}]);
//# sourceMappingURL=http://ent/web-sourcemaps/43-c52d40c6-3.js.map